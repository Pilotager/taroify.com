(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setting"],{"1d76":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"account-security"},l={class:"account-security__header"},i=Object(c["k"])("div",{class:"account-security__header__left"},[Object(c["k"])("div",{class:"account-security__header__count"},"2"),Object(c["k"])("div",{class:"account-security__header__l2"},"个可优化项"),Object(c["k"])("div",{class:"account-security__header__l3"},"时刻保护您的账户安全")],-1),r={class:"account-security__header__logo"},o={class:"account-security__content"};function s(e,t,s,u,b,d){var f=Object(c["H"])("van-nav-bar"),O=Object(c["H"])("van-image"),j=Object(c["H"])("van-cell");return Object(c["z"])(),Object(c["f"])("div",n,[Object(c["k"])(f,{title:"账户与安全",border:!1,"left-text":"","left-arrow":"",onClickLeft:t[1]||(t[1]=function(t){return e.$router.back()})}),Object(c["k"])("div",l,[i,Object(c["k"])("div",r,[Object(c["k"])(O,{height:"64",width:"64",src:a("baac")},null,8,["src"])])]),Object(c["k"])("div",o,[Object(c["k"])(j,{title:"重置登录密码",value:"重置",size:"large","is-link":"",to:"/resets/password"}),Object(c["k"])(j,{title:"重置交易密码",value:"重置",size:"large","is-link":"",to:"/resets/paypassword"})])])}var u,b=a("ade3"),d=(a("c194"),a("7744")),f=(a("4056"),a("44bf")),O=(a("e7e5"),a("d399")),j=(a("5246"),a("6b41")),v=(a("b0c0"),Object(c["l"])({name:"AccountSecurity",components:(u={},Object(b["a"])(u,j["a"].name,j["a"]),Object(b["a"])(u,O["a"].name,O["a"]),Object(b["a"])(u,f["b"].name,f["b"]),Object(b["a"])(u,d["b"].name,d["b"]),u),props:{avatar:String},setup:function(){return{}}}));a("6bdc");v.render=s;t["default"]=v},"278d":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"setting"},l=Object(c["j"])("退出当前账户");function i(e,t,a,i,r,o){var s=Object(c["H"])("van-nav-bar"),u=Object(c["H"])("AvatarUploader"),b=Object(c["H"])("van-cell"),d=Object(c["H"])("van-cell-group"),f=Object(c["H"])("van-button");return Object(c["z"])(),Object(c["f"])("div",n,[Object(c["k"])(s,{title:"账户与安全","left-text":"","left-arrow":"",onClickLeft:t[1]||(t[1]=function(t){return e.$router.back()})}),Object(c["k"])(d,{class:"setting__cell"},{default:Object(c["P"])((function(){return[Object(c["k"])(b,{title:"头像","title-class":"setting__cell__title","value-class":"setting__cell__avatar",size:"large",center:"","is-link":""},{default:Object(c["P"])((function(){return[Object(c["k"])(u,{avatar:e.userInfo.avatar,onUploaded:t[2]||(t[2]=function(t){return e.userInfo.avatar=t})},null,8,["avatar"])]})),_:1}),Object(c["k"])(b,{title:"昵称","title-class":"setting__cell__title","value-class":"setting__cell__value",size:"large",center:"","is-link":"",value:e.userInfo.nickname,onClick:t[3]||(t[3]=function(t){return e.$router.push("/setting/nickname")})},null,8,["value"]),Object(c["k"])(b,{title:"登录手机号",class:"setting__cell__phone","title-class":"setting__cell__title","value-class":"setting__cell__value",size:"large",center:"",value:e.userInfo.mobile},null,8,["value"]),Object(c["k"])(b,{title:"账户与安全","title-class":"setting__cell__title","value-class":"setting__cell__value",size:"large",center:"","is-link":"",onClick:t[4]||(t[4]=function(t){return e.$router.push("/setting/account-security")})}),Object(c["k"])(b,{title:"收/付款设置","title-class":"setting__cell__title","value-class":"setting__cell__value",size:"large",center:"","is-link":"",onClick:t[5]||(t[5]=function(t){return e.$router.push("/payments/methods")})})]})),_:1}),Object(c["k"])(f,{class:"setting__logout",type:"default",onClick:t[6]||(t[6]=function(t){return e.logout()})},{default:Object(c["P"])((function(){return[l]})),_:1})])}var r=a("ade3"),o=(a("66b9"),a("b650")),s=(a("4056"),a("44bf")),u=(a("0653"),a("34e9")),b=(a("c194"),a("7744")),d=(a("e7e5"),a("d399")),f=(a("5246"),a("6b41")),O=(a("b0c0"),a("d3b7"),a("6c02")),j=a("4db7"),v=a("06a0"),m={class:"avatar-uploader"};function k(e,t,a,n,l,i){var r=Object(c["H"])("van-image"),o=Object(c["H"])("van-uploader"),s=Object(c["H"])("van-action-sheet");return Object(c["z"])(),Object(c["f"])(c["a"],null,[Object(c["k"])("div",m,[Object(c["k"])(r,{onClick:t[1]||(t[1]=Object(c["R"])((function(t){return e.actionSheetShow=!0}),["stop"])),round:"",width:"48",height:"48",src:e.avatar},null,8,["src"]),e.camera?(Object(c["z"])(),Object(c["f"])(o,{key:0,ref:"uploaderRef",style:{display:"none"},capture:"camera","after-read":e.afterRead,modelValue:e.fileList,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.fileList=t})},null,8,["after-read","modelValue"])):(Object(c["z"])(),Object(c["f"])(o,{key:1,ref:"uploaderRef",style:{display:"none"},"after-read":e.afterRead,modelValue:e.fileList,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.fileList=t})},null,8,["after-read","modelValue"]))]),Object(c["k"])(s,{show:e.actionSheetShow,"onUpdate:show":t[4]||(t[4]=function(t){return e.actionSheetShow=t}),"cancel-text":"取消","close-on-click-action":"",actions:e.actions,onSelect:e.chooseAvatar},null,8,["show","actions","onSelect"])],64)}a("2cbd");var _,p=a("ab2c"),g=(a("e930"),a("8f80")),h=a("5c40"),y=Object(c["l"])({name:"AvatarUploader",components:(_={},Object(r["a"])(_,f["a"].name,f["a"]),Object(r["a"])(_,d["a"].name,d["a"]),Object(r["a"])(_,s["b"].name,s["b"]),Object(r["a"])(_,g["a"].name,g["a"]),Object(r["a"])(_,p["a"].name,p["a"]),_),props:{avatar:String},setup:function(e,t){var a=t.emit,n=Object(c["E"])([]),l=Object(c["E"])(!1),i=Object(c["E"])(!1),r=Object(c["E"])(),o=[{name:"拍照"},{name:"从相册选择"}];function s(e){l.value="拍照"===e.name,Object(h["w"])((function(){var e;null===(e=r.value)||void 0===e||e.chooseFile()}))}function u(e){v["a"].updateAvatar(e.content).then((function(e){var t=e.status,c=e.message,n=e.data;Object(d["a"])(c),200===t&&a("uploaded",n.imgUrl)}))}return{fileList:n,camera:l,afterRead:u,actionSheetShow:i,actions:o,uploaderRef:r,chooseAvatar:s}}});a("4432");y.render=k;var w,C=y,S=Object(c["l"])({name:"Setting",components:(w={AvatarUploader:C},Object(r["a"])(w,f["a"].name,f["a"]),Object(r["a"])(w,d["a"].name,d["a"]),Object(r["a"])(w,b["b"].name,b["b"]),Object(r["a"])(w,u["a"].name,u["a"]),Object(r["a"])(w,s["b"].name,s["b"]),Object(r["a"])(w,o["b"].name,o["b"]),w),setup:function(){var e=Object(O["d"])(),t=e.push,a=Object(c["E"])({nickname:"",avatar:"",mobile:""});function n(){var e=Object(d["a"])({type:"loading",forbidClick:!0,loadingType:"spinner"});v["a"].getCurrentUser().then((function(e){var t=e.status,c=e.message,n=e.data;200===t?a.value=n.userInfo:Object(d["a"])(c)})).finally((function(){e.clear()}))}function l(){j["a"].removeToken(),t("/")}return Object(c["w"])(n),{userInfo:a,logout:l}}});a("cd56");S.render=i;t["default"]=S},"2cbd":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("e3b3"),a("a71a"),a("4d75"),a("8400")},4432:function(e,t,a){"use strict";a("8e73")},49302:function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n={class:"set-name"},l=Object(c["k"])("div",{class:"set-name__hint"},"最多12个字母数字或8个汉字",-1);function i(e,t,a,i,r,o){var s=Object(c["H"])("van-nav-bar"),u=Object(c["H"])("van-field");return Object(c["z"])(),Object(c["f"])("div",n,[Object(c["k"])(s,{title:"设置名字","left-text":"","right-text":"保存","left-arrow":"",onClickLeft:t[1]||(t[1]=function(t){return e.$router.back()}),onClickRight:t[2]||(t[2]=function(t){return e.modifyNickname()})}),Object(c["k"])(u,{class:"set-name__field",modelValue:e.nickname,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.nickname=t}),"right-icon":"cross",placeholder:e.nicknamePlaceholder,onClickRightIcon:t[4]||(t[4]=function(t){return e.nickname=""})},null,8,["modelValue","placeholder"]),l])}var r=a("ade3"),o=(a("be7f"),a("565f")),s=(a("e7e5"),a("d399")),u=(a("5246"),a("6b41")),b=(a("b0c0"),a("d3b7"),a("06a0")),d=/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/;function f(e){return d.test(e)?!(O(e)>16)||(Object(s["a"])("最多输入16个字符(1个汉字2个字符)"),!1):(Object(s["a"])("备注名称中不能包含特殊符号"),!1)}function O(e){for(var t=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);c>=1&&c<=126||65376<=c&&c<=65439?t++:t+=2}return t}var j,v=a("6c02"),m=Object(c["l"])({name:"NicknameSetting",components:(j={},Object(r["a"])(j,u["a"].name,u["a"]),Object(r["a"])(j,s["a"].name,s["a"]),Object(r["a"])(j,o["a"].name,o["a"]),j),setup:function(){var e=Object(v["d"])(),t=e.back,a=Object(c["E"])(""),n=Object(c["E"])("");function l(){var e=Object(s["a"])({type:"loading",forbidClick:!0,loadingType:"spinner"});b["a"].getCurrentUser().then((function(e){var t=e.status,c=e.message,l=e.data;200===t?(a.value=l.userInfo.nickname,n.value=l.userInfo.nickname):Object(s["a"])(c)})).finally((function(){e.clear()}))}function i(){f(a.value)&&b["a"].modifyNickname(a.value).then((function(e){var a=e.status,c=e.message;Object(s["a"])({message:c}),200===a&&t()}))}return Object(c["w"])(l),{modifyNickname:i,nicknamePlaceholder:n,nickname:a}}});a("643d");m.render=i;t["default"]=m},"643d":function(e,t,a){"use strict";a("75c3")},"6bdc":function(e,t,a){"use strict";a("cdcd")},"75c3":function(e,t,a){},8400:function(e,t,a){},"8a28":function(e,t,a){},"8e73":function(e,t,a){},ab2c:function(e,t,a){"use strict";var c=a("c199"),n=a("7a23"),l=a("d282"),i=a("db17"),r=a("ad06"),o=a("e41f"),s=a("543e"),u=a("f827"),[b,d]=Object(l["a"])("action-sheet"),f=Object(n["l"])({name:b,props:Object(i["a"])({},u["b"],{title:String,round:i["f"],actions:Array,closeable:i["f"],cancelText:String,description:String,closeOnPopstate:Boolean,closeOnClickAction:Boolean,safeAreaInsetBottom:i["f"],closeIcon:{type:String,default:"cross"}}),emits:["select","cancel","update:show"],setup(e,{slots:t,emit:a}){var c=e=>a("update:show",e),l=()=>{c(!1),a("cancel")},b=()=>{if(e.title)return Object(n["k"])("div",{class:d("header")},[e.title,e.closeable&&Object(n["k"])(r["a"],{name:e.closeIcon,class:d("close"),onClick:l},null)])},f=()=>{if(t.cancel||e.cancelText)return[Object(n["k"])("div",{class:d("gap")},null),Object(n["k"])("button",{type:"button",class:d("cancel"),onClick:l},[t.cancel?t.cancel():e.cancelText])]},O=(t,l)=>{var{name:i,color:r,subname:o,loading:u,callback:b,disabled:f,className:O}=t,j=u?Object(n["k"])(s["a"],{class:d("loading-icon")},null):[Object(n["k"])("span",{class:d("name")},[i]),o&&Object(n["k"])("div",{class:d("subname")},[o])],v=()=>{f||u||(b&&b(t),e.closeOnClickAction&&c(!1),Object(n["r"])(()=>a("select",t,l)))};return Object(n["k"])("button",{type:"button",style:{color:r},class:[d("item",{loading:u,disabled:f}),O],onClick:v},[j])},j=()=>{if(e.description||t.description){var a=t.description?t.description():e.description;return Object(n["k"])("div",{class:d("description")},[a])}},v=()=>{if(e.actions)return e.actions.map(O)};return()=>Object(n["k"])(o["a"],Object(n["q"])({class:d(),round:e.round,position:"bottom",safeAreaInsetBottom:e.safeAreaInsetBottom},Object(i["e"])(e,u["a"]),{"onUpdate:show":c}),{default:()=>[b(),j(),Object(n["k"])("div",{class:d("content")},[v(),null==t.default?void 0:t.default()]),f()]})}}),O=Object(c["a"])(f);t["a"]=O},baac:function(e,t,a){e.exports=a.p+"img/security.3c0e040a.png"},cd56:function(e,t,a){"use strict";a("8a28")},cdcd:function(e,t,a){}}]);
//# sourceMappingURL=setting.3b4d65cb.js.map