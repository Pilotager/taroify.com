{"version":3,"sources":["webpack:///../core/src/utils/format/unit.ts","webpack:///../core/src/utils/base.ts","webpack:///../core/src/hooks/use-mounted.ts","webpack:///../core/src/hooks/use-rendered-effect.tsx","webpack:///../core/src/utils/state.ts","webpack:///../core/src/hooks/use-placeholder.tsx","webpack:///../core/src/hooks/use-height.ts","webpack:///../core/src/hooks/use-timeout.ts","webpack:///../core/src/hooks/use-unique-id.ts","webpack:///../core/src/hooks/use-update.ts","webpack:///../core/src/hooks/use-window-resize.tsx","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_toKey.js","webpack:///../core/src/utils/dom/rect.ts","webpack:///../core/src/utils/dom/element.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_castPath.js","webpack:///./src/components/block.tsx","webpack:///../icons/src/utils/index.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_isKey.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/hasIn.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/toFinite.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_stringToPath.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_memoizeCapped.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/memoize.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseHasIn.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_hasPath.js","webpack:///../core/src/utils/dom/event.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_isIterateeCall.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/range.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/identity.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_createRange.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseRange.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseEach.js","webpack:///../core/src/utils/touch.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/clamp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_castFunction.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseForOwn.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseFor.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_createBaseFor.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_createBaseEach.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/forEach.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_arrayEach.js","webpack:///../core/src/utils/dom/computed-style.ts","webpack:///../core/src/utils/raf.ts","webpack:///../core/src/swiper/swiper.context.ts","webpack:///../core/src/swiper/swiper-indicator.tsx","webpack:///../core/src/swiper/swiper-item.tsx","webpack:///../core/src/swiper/swiper.tsx","webpack:///../core/src/swiper/index.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/raf/index.js","webpack:///../src/performance-now.coffee","webpack:///../core/src/swiper/style/index.ts","webpack:///../core/src/white-space/style/index.ts","webpack:///../core/src/white-space/white-space.tsx","webpack:///../core/src/white-space/index.ts","webpack:///../core/src/notice-bar/notice-bar-action.tsx","webpack:///../core/src/notice-bar/notice-bar-icon.tsx","webpack:///../core/src/notice-bar/notice-bar.tsx","webpack:///../core/src/notice-bar/index.ts","webpack:///./src/pages/display/notice-bar/index.tsx"],"names":["rootFontSize","addUnitPx","value","undefined","unitToPx","getSizeStyle","originSize","size","width","height","convertRem","replace","getRootFontSize","doc","document","documentElement","fontSize","style","window","getComputedStyle","parseFloat","includes","convertPx","convertVw","innerWidth","convertVh","innerHeight","inBrowser","scripts","inWechat","process","useMounted","cb","useRenderedEffect","effect","deps","destructorRef","useRef","useEffect","nextTick","destructor","current","usePreviousRef","previousRef","usePrevious","state","useRendered","useRenderedRef","stateRef","useToRef","useRefs","refs","setIndexRefs","useCallback","index","el","createRef","useObject","update","useUpdate","currentRef","setObject","newState","getObject","useMemo","object","useValue","options","defaultValue","initialValue","onChange","setValue","newValue","emitChange","getValue","usePlaceholder","contentRef","className","useHeight","elementOrRef","useState","setHeight","getRect","then","children","useTimeout","timerRef","cbRef","msRef","argsRef","stop","clearTimeout","start","callback","ms","args","setTimeout","restart","useUniqueId","updateReducer","num","useReducer","useWindowResize","onWindowResize","offWindowResize","isSymbol","require","module","exports","toKey","result","makeRect","top","left","right","bottom","element","elementUnref","isWindow","Promise","resolve","getBoundingClientRect","createNodesRef","boundingClientRect","exec","rect","isRootElement","getRects","selector","rects","querySelectorAll","forEach","oneElement","push","createSelectorQuery","selectAll","uid","val","node","nodeType","tagName","matchSelector","aSelector","bSelector","selectViewport","ancestor","parentNode","select","isArray","isKey","stringToPath","toString","castPath","Block","props","variant","title","classNames","demoPrefixClassname","isIconElement","isValidElement","type","ICON_TYPE","cloneIconElement","cloneElement","restProps","oldProps","newProps","reIsDeepProp","reIsPlainProp","test","Object","baseHasIn","hasPath","hasIn","path","toNumber","toFinite","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","match","number","quote","subString","memoize","func","key","cache","clear","MapCache","resolver","TypeError","memoized","arguments","apply","this","has","get","set","Cache","isArguments","isIndex","isLength","hasFunc","length","stopPropagation","event","preventDefault","isStopPropagation","cancelable","getClientCoordinates","clientX","clientY","touches","eq","isArrayLike","isObject","isIterateeCall","range","createRange","identity","baseRange","fromRight","end","step","nativeCeil","Math","ceil","nativeMax","max","Array","baseForOwn","baseEach","createBaseEach","TouchDirection","emptyFunction","useTouch","touchRef","startX","startY","deltaX","deltaY","offsetX","offsetY","isVertical","isHorizontal","move","reset","direction","Vertical","Horizontal","touch","abs","getDirection","x","y","baseClamp","clamp","lower","upper","castFunction","baseFor","keys","iteratee","createBaseFor","keysFunc","iterable","eachFunc","collection","arrayEach","array","computedStyle","fields","cancelRaf","rafId","requestAnimationFrame","raf","doubleRaf","rafIds","SwiperContext","createContext","itemInstances","SwiperIndicator","useContext","indicator","count","renderIndicator","prefixClassname","indicators","map","SwiperItem","__dataIndex__","styleProp","childrenProp","lazyRender","loop","vertical","initializedRef","mountedRef","offset","setOffset","shouldRender","active","maxActive","prevActive","nextActive","rootStyle","transform","getIndicatorValue","Swiper","valueProp","touchable","autoplay","duration","onChangeProp","valueRef","useSwiperChildren","__children__","items","Children","child","i","elementType","rootRef","rectRef","swipingRef","activeIndexRef","touchStartTimeRef","autoplayTimerRef","valueIndicatorRef","activeIndicatorRef","getDelta","getCorrectDirection","customRectRef","propRectRef","sizeRef","trackSizeRef","minOffsetRef","maxCountRef","getTargetActive","pace","getTargetOffset","targetActive","currentPosition","min","targetOffset","moveTo","outRightBound","outLeftBound","previousActiveIndex","correctPosition","swipeTo","targetIndex","next","stopAutoplay","startAutoplay","onTouchStart","Date","now","onTouchMove","correctDirection","onTouchEnd","delta","speed","shouldSwipe","getTrackRect","all","initialize","a","activeIndex","item","resize","valueIndicator","trackStyle","transitionDuration","crossAxis","crossAxisValue","ref","Provider","catchMove","onTouchCancel","Item","Indicator","root","global","vendors","suffix","caf","last","id","queue","_now","cp","slice","cancelled","e","round","handle","fn","call","cancel","polyfill","cancelAnimationFrame","WhiteSpaceSize","SIZE_PRESETS","Mini","Small","Medium","Large","isPresetSize","WhiteSpace","NoticeBarAction","NoticeBarIcon","NoticeBar","delay","wordwrap","scrollable","useChildren","icon","text","action","ellipsis","startTimerRef","wrapRef","setDuration","wrapWidthRef","contentWidthRef","contentStyle","wrapRefWidth","contentRefWidth","onTransitionEnd","Icon","Action","BasicNoticeBar","ScrollableNoticeBar","WordwrapNoticeBar","ActionNoticeBar","NoticeBarWithCustomStyle","color","background","NoticeBarWithVerticalScrolling","NoticeBarDemo"],"mappings":"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","file":"chunk/44.48fec0f0.js","sourcesContent":["import * as _ from \"lodash\"\r\nimport { CSSProperties } from \"react\"\r\n\r\nexport function addUnitPx(value?: string | number): string {\r\n  return value === undefined ? \"\" : `${unitToPx(value)}px`\r\n}\r\n\r\nexport function getSizeStyle(originSize?: string | number): CSSProperties | undefined {\r\n  if (_.isNumber(originSize) || _.isString(originSize)) {\r\n    const size = addUnitPx(originSize)\r\n    return {\r\n      width: size,\r\n      height: size,\r\n    }\r\n  }\r\n  return {}\r\n}\r\n\r\nexport function getZIndexStyle(zIndex?: string | number) {\r\n  const style: CSSProperties = {}\r\n  if (zIndex !== undefined) {\r\n    style.zIndex = +zIndex\r\n  }\r\n  return style\r\n}\r\n\r\n// cache\r\nlet rootFontSize: number\r\n\r\nfunction getRootFontSize() {\r\n  if (!rootFontSize) {\r\n    const doc = document.documentElement\r\n    const fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize\r\n\r\n    rootFontSize = parseFloat(fontSize)\r\n  }\r\n\r\n  return rootFontSize\r\n}\r\n\r\nfunction convertPx(value: string) {\r\n  value = value.replace(/px/g, \"\")\r\n  return +value\r\n}\r\n\r\nfunction convertRem(value: string) {\r\n  value = value.replace(/rem/g, \"\")\r\n  return +value * getRootFontSize()\r\n}\r\n\r\nfunction convertVw(value: string) {\r\n  value = value.replace(/vw/g, \"\")\r\n  return (+value * window.innerWidth) / 100\r\n}\r\n\r\nfunction convertVh(value: string) {\r\n  value = value.replace(/vh/g, \"\")\r\n  return (+value * window.innerHeight) / 100\r\n}\r\n\r\nexport function unitToPx(value: string | number): number {\r\n  if (typeof value === \"number\") {\r\n    return value\r\n  }\r\n\r\n  if (value.includes(\"px\")) {\r\n    return convertPx(value)\r\n  }\r\n  if (value.includes(\"rem\")) {\r\n    return convertRem(value)\r\n  }\r\n  if (value.includes(\"vw\")) {\r\n    return convertVw(value)\r\n  }\r\n  if (value.includes(\"vh\")) {\r\n    return convertVh(value)\r\n  }\r\n\r\n  return parseFloat(value)\r\n}\r\n","export function noop() {}\r\n\r\nexport const inBrowser = typeof document !== \"undefined\" && !!document.scripts\r\nexport const inWechat = process.env.TARO_ENV === \"weapp\"\r\nexport const inSwan = process.env.TARO_ENV === \"swan\"\r\nexport const inAlipay = process.env.TARO_ENV === \"alipay\"\r\nexport const inQQ = process.env.TARO_ENV === \"qq\"\r\nexport const inToutiao = process.env.TARO_ENV === \"tt\"\r\n","import useRenderedEffect from \"./use-rendered-effect\"\r\n\r\nexport default function useMounted(cb: (...args: any[]) => any) {\r\n  useRenderedEffect(cb, [])\r\n}\r\n","import { nextTick } from \"@tarojs/taro\"\nimport * as _ from \"lodash\"\nimport { DependencyList, EffectCallback, useEffect, useRef } from \"react\"\n\nfunction useRenderedEffect(effect: EffectCallback, deps?: DependencyList) {\n  const destructorRef = useRef<() => void>()\n\n  useEffect(\n    () => {\n      nextTick(() => {\n        const destructor = effect?.()\n        if (_.isFunction(destructor)) {\n          destructorRef.current = destructor\n        }\n      })\n\n      return destructorRef.current\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps,\n  )\n}\n\nexport default useRenderedEffect\n","import * as _ from \"lodash\"\r\nimport { createRef, MutableRefObject, useCallback, useEffect, useMemo, useRef } from \"react\"\r\nimport { useUpdate } from \"../hooks\"\r\n\r\nexport function usePreviousRef<T = any>(value: T): MutableRefObject<T> {\r\n  const previousRef = useRef<T>(value)\r\n  useEffect(() => {\r\n    previousRef.current = value\r\n  })\r\n  return previousRef\r\n}\r\n\r\nexport function usePrevious<T>(state: T): T | undefined {\r\n  return usePreviousRef(state).current\r\n}\r\n\r\ntype UseRenderedCallback<T> = () => T\r\n\r\nexport function useRendered<T = any>(cb: UseRenderedCallback<T>): T {\r\n  return cb?.()\r\n}\r\n\r\nexport function useRenderedRef<T = any>(cb: UseRenderedCallback<T>): MutableRefObject<T> {\r\n  const stateRef = useRef<T>()\r\n  if (cb) {\r\n    stateRef.current = cb()\r\n  }\r\n  return stateRef as MutableRefObject<T>\r\n}\r\n\r\nexport function useToRef<T = any>(value: T): MutableRefObject<T> {\r\n  const stateRef = useRef<T>()\r\n  stateRef.current = value\r\n  return stateRef as MutableRefObject<T>\r\n}\r\n\r\nexport function useRefs<T = Element>() {\r\n  const refs = useRef<MutableRefObject<T>[]>([])\r\n\r\n  const setIndexRefs = useCallback(\r\n    (index: number) => (el: unknown) => {\r\n      if (!refs.current[index]) {\r\n        refs.current[index] = createRef() as MutableRefObject<T>\r\n      }\r\n      refs.current[index].current = el as T\r\n    },\r\n    [],\r\n  )\r\n\r\n  return [refs.current, setIndexRefs] as const\r\n}\r\n\r\nexport function useObject<S>(state: S) {\r\n  const update = useUpdate()\r\n\r\n  const stateRef = useRef(state)\r\n\r\n  const currentRef = useRef<S>()\r\n  const previousRef = useRef<S>()\r\n\r\n  if (!_.isEqual(currentRef.current, state)) {\r\n    previousRef.current = currentRef.current\r\n    currentRef.current = state\r\n    stateRef.current = state\r\n  }\r\n\r\n  const setObject = useCallback(\r\n    (newState: S) => {\r\n      stateRef.current = { ...stateRef.current, ...newState }\r\n      update()\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  const getObject = useCallback(() => stateRef.current as S, [])\r\n\r\n  return useMemo(\r\n    () => ({ object: stateRef.current, getObject, setObject }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [stateRef.current, getObject, setObject],\r\n  )\r\n}\r\n\r\ninterface UseValueOptions<S> {\r\n  defaultValue?: S\r\n  initialValue?: S\r\n  value?: S\r\n\r\n  onChange?: (...args: any[]) => void\r\n}\r\n\r\ninterface UseValueReturn<S> {\r\n  value: S | undefined\r\n  getValue: () => S\r\n  setValue: (newValue: S, emitChange?: (aValue: S) => void) => void\r\n}\r\n\r\nexport function useValue<S>(options: UseValueOptions<S> = {}): UseValueReturn<S> {\r\n  const { defaultValue, value, initialValue, onChange } = options\r\n  const update = useUpdate()\r\n  const stateRef = useRef(defaultValue ?? value ?? initialValue)\r\n\r\n  if (value !== undefined) {\r\n    stateRef.current = value\r\n  }\r\n\r\n  const setValue = useCallback(\r\n    (newValue: S, emitChange?: (aValue: S) => void) => {\r\n      if (_.isUndefined(value)) {\r\n        stateRef.current = newValue\r\n        update()\r\n      }\r\n      ;(emitChange ?? onChange)?.(newValue)\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [onChange],\r\n  )\r\n\r\n  const getValue = useCallback(() => stateRef.current as S, [])\r\n\r\n  return useMemo(\r\n    () => ({ value: stateRef.current, getValue, setValue }),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [stateRef.current, getValue, setValue],\r\n  )\r\n}\r\n","import { View } from \"@tarojs/components\"\r\nimport * as React from \"react\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport useHeight from \"./use-height\"\r\n\r\ninterface UsePlaceholderOptions {\r\n  className?: string\r\n}\r\n\r\nexport default function usePlaceholder(contentRef: any, { className }: UsePlaceholderOptions) {\r\n  const height = useHeight(contentRef)\r\n\r\n  return ({\r\n    // @ts-ignore\r\n    children,\r\n  }) => (\r\n    <View\r\n      className={className}\r\n      style={{ height: height ? `${addUnitPx(height)}` : \"\" }}\r\n      children={children}\r\n    />\r\n  )\r\n}\r\n","import { useState } from \"react\"\r\nimport { getRect } from \"../utils/dom/rect\"\r\nimport useMounted from \"./use-mounted\"\r\n\r\nexport default function useHeight(elementOrRef: any) {\r\n  const [height, setHeight] = useState<number>(0)\r\n  useMounted(() =>\r\n    getRect(elementOrRef)\r\n      .then(({ height }) => height)\r\n      .then(setHeight),\r\n  )\r\n  return height\r\n}\r\n","import { useCallback, useMemo, useRef } from \"react\"\r\n\r\ntype UseTimeoutCallback = (...args: any[]) => void\r\n\r\nfunction useTimeout() {\r\n  const timerRef = useRef<NodeJS.Timeout>()\r\n\r\n  const cbRef = useRef<UseTimeoutCallback>()\r\n  const msRef = useRef<number>()\r\n  const argsRef = useRef<any[]>()\r\n\r\n  const stop = useCallback(() => {\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current)\r\n      timerRef.current = undefined\r\n    }\r\n  }, [])\r\n\r\n  const start = useCallback((callback: UseTimeoutCallback, ms?: number, ...args: any[]) => {\r\n    if (timerRef.current) {\r\n      return\r\n    }\r\n    cbRef.current = callback\r\n    msRef.current = ms\r\n    argsRef.current = args\r\n    timerRef.current = setTimeout(callback, ms, args)\r\n  }, [])\r\n\r\n  const restart = useCallback(\r\n    (callback?: UseTimeoutCallback, ms?: number, ...args: any[]) => {\r\n      stop()\r\n      if (callback) {\r\n        start(callback, ms, args)\r\n      } else if (cbRef.current) {\r\n        start(cbRef.current, msRef.current, argsRef.current)\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  return useMemo(\r\n    () => ({\r\n      restart,\r\n      start,\r\n      stop,\r\n    }),\r\n    [restart, start, stop],\r\n  )\r\n}\r\n\r\nexport default useTimeout\r\n","import * as _ from \"lodash\"\r\nimport { useRef } from \"react\"\r\n\r\nfunction useUniqueId() {\r\n  const uniqueIdRef = useRef(_.uniqueId(\"t_\"))\r\n  return uniqueIdRef.current\r\n}\r\n\r\nexport default useUniqueId\r\n","import { useReducer } from \"react\"\r\n\r\nconst updateReducer = (num: number): number => (num + 1) % 1_000_000\r\n\r\nfunction useUpdate(): () => void {\r\n  const [, update] = useReducer(updateReducer, 0)\r\n\r\n  return update\r\n}\r\n\r\nexport default useUpdate\r\n","import { offWindowResize, onWindowResize } from \"@tarojs/taro\"\r\nimport { useEffect } from \"react\"\r\n\r\ninterface Size {\r\n  /** 变化后的窗口高度，单位 px */\r\n  windowHeight: number\r\n  /** 变化后的窗口宽度，单位 px */\r\n  windowWidth: number\r\n}\r\n\r\ninterface CallbackResult {\r\n  size: Size\r\n}\r\n\r\ntype WindowResizeCallback = (result: CallbackResult) => void\r\n\r\nfunction useWindowResize(callback: WindowResizeCallback) {\r\n  useEffect(() => {\r\n    onWindowResize?.(callback)\r\n\r\n    return () =>\r\n      offWindowResize?.(\r\n        // @ts-ignore\r\n        callback,\r\n      )\r\n  }, [callback])\r\n}\r\n\r\nexport default useWindowResize\r\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","import { createSelectorQuery } from \"@tarojs/taro\"\nimport { inBrowser } from \"../base\"\nimport { createNodesRef, elementUnref, isRootElement, isWindow } from \"./element\"\n\nexport interface Rect {\n  dataset: Record<string, any>\n  id: string\n  top: number\n  right: number\n  bottom: number\n  left: number\n  width: number\n  height: number\n}\n\nexport function makeRect(width: number, height: number) {\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  } as Rect\n}\n\nexport function getRect(elementOrRef: any): Promise<Rect> {\n  const element = elementUnref(elementOrRef)\n  if (element) {\n    if (inBrowser) {\n      if (isWindow(element)) {\n        const width = element.innerWidth\n        const height = element.innerHeight\n        return Promise.resolve(makeRect(width, height))\n      }\n\n      return Promise.resolve(\n        (((element as unknown) as HTMLElement).getBoundingClientRect() as unknown) as Rect,\n      )\n    } else {\n      return new Promise<Rect>((resolve) => {\n        createNodesRef(element)\n          .boundingClientRect()\n          .exec(([rect]) => {\n            if (isRootElement(element)) {\n              const { width, height } = rect\n              resolve(makeRect(width, height))\n            } else {\n              resolve(rect)\n            }\n          })\n      })\n    }\n  }\n  return Promise.resolve(makeRect(0, 0))\n}\n\nexport function getRects(elementOrRef: any, selector: string): Promise<Rect[]> {\n  const element = elementUnref(elementOrRef)\n  if (element) {\n    if (inBrowser) {\n      const rects: Rect[] = []\n      ;((element as unknown) as HTMLElement)\n        .querySelectorAll(selector)\n        .forEach((oneElement) =>\n          rects.push((oneElement.getBoundingClientRect() as unknown) as Rect),\n        )\n      return Promise.resolve(rects)\n    } else {\n      return new Promise<Rect[]>((resolve) => {\n        createSelectorQuery()\n          .selectAll(\"#\" + element.uid + selector)\n          .boundingClientRect()\n          .exec(([rects]) => resolve((rects as unknown) as Rect[]))\n      })\n    }\n  }\n  return Promise.resolve([])\n}\n","import { TaroElement } from \"@tarojs/runtime\"\nimport { createSelectorQuery } from \"@tarojs/taro\"\nimport * as _ from \"lodash\"\nimport { inWechat } from \"../base\"\n\nexport const ELEMENT_NODE_TYPE = 1\n\nexport function isWindow(val: unknown): val is Window {\n  return val === window\n}\n\nexport function isBodyElement(val: unknown): boolean {\n  return val === document.body\n}\n\nexport function elementUnref(elementOrRef: any): TaroElement {\n  if (elementOrRef === undefined || elementOrRef === null) {\n    return elementOrRef\n  }\n  if (\"current\" in elementOrRef) {\n    return elementOrRef.current\n  }\n  return elementOrRef\n}\n\nexport function isRootElement(node?: TaroElement) {\n  return node?.nodeType === ELEMENT_NODE_TYPE && node?.tagName === \"ROOT\"\n}\n\nexport function matchSelector(aSelector?: string, bSelector?: string) {\n  return _.replace(aSelector as string, \"#\", \"\") === bSelector\n}\n\nexport function createNodesRef(element: TaroElement) {\n  if (isRootElement(element)) {\n    return createSelectorQuery().selectViewport()\n  }\n\n  // Fix nested in CustomWrapper is undefined\n  // See: https://github.com/mallfoundry/taroify/pull/143\n  if (inWechat) {\n    let ancestor = element\n    while (ancestor.parentNode && !isRootElement(ancestor.parentNode as TaroElement)) {\n      ancestor = ancestor.parentNode as TaroElement\n    }\n\n    if (ancestor && ancestor !== element) {\n      return createSelectorQuery().select(`#${ancestor.uid}>>>#${element.uid}`)\n    }\n  }\n\n  return createSelectorQuery().select(\"#\" + element.uid)\n}\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode } from \"react\"\r\nimport { demoPrefixClassname } from \"../styles/prefix\"\r\nimport \"./block.scss\"\r\n\r\ntype BlockVariant = \"card\"\r\n\r\ninterface BlockProps {\r\n  className?: string\r\n  variant?: BlockVariant\r\n  title?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function Block(props: BlockProps) {\r\n  const { className, variant, title, children } = props\r\n  return (\r\n    <View className={classNames(demoPrefixClassname(\"block\"), className)}>\r\n      {title && <View className={demoPrefixClassname(\"block__title\")} children={title} />}\r\n      <View\r\n        className={classNames({\r\n          [demoPrefixClassname(\"block__content\")]: variant !== \"card\",\r\n          [demoPrefixClassname(\"block__card\")]: variant === \"card\",\r\n        })}\r\n      >\r\n        {children}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n","import classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport { cloneElement, isValidElement, ReactElement, ReactNode } from \"react\"\r\nimport { ICON_TYPE, IconProps } from \"../shared\"\r\n\r\nexport function isIconElement(node?: ReactNode): boolean {\r\n  // Is`t not ReactElement\r\n  if (!isValidElement(node)) {\r\n    return false\r\n  }\r\n  const element = node as ReactElement\r\n  return _.hasIn(element.type, ICON_TYPE)\r\n}\r\n\r\nexport function cloneIconElement(node: ReactNode, props: IconProps): ReactNode {\r\n  if (!isIconElement(node)) {\r\n    return isValidElement(node) ? cloneElement(node, props) : node\r\n  }\r\n  const { className, ...restProps } = props\r\n  const element = node as ReactElement\r\n  const { props: oldProps } = element\r\n  const newProps: IconProps = {\r\n    ...oldProps,\r\n    className: classNames(oldProps.className, className),\r\n    ...restProps,\r\n  }\r\n  return cloneElement(element, newProps)\r\n}\r\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","import { CommonEvent, ITouchEvent } from \"@tarojs/components\"\nimport { inBrowser } from \"../base\"\n\nexport function stopPropagation(event: CommonEvent) {\n  event.stopPropagation()\n}\n\nexport function preventDefault(event: CommonEvent, isStopPropagation?: boolean) {\n  if (inBrowser) {\n    // @ts-ignore\n    if (typeof event.cancelable !== \"boolean\" || event.cancelable) {\n      event.preventDefault()\n    }\n  } else {\n    event.preventDefault()\n  }\n\n  if (isStopPropagation) {\n    stopPropagation(event)\n  }\n}\n\ninterface ClientCoordinates {\n  clientX: number\n  clientY: number\n}\n\nexport function getClientCoordinates(event: ITouchEvent | MouseEvent): ClientCoordinates {\n  // @ts-ignore\n  const { clientX, clientY, touches } = event\n\n  if (clientX && clientY) {\n    return {\n      clientX,\n      clientY,\n    }\n  }\n  return touches[0]\n}\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","import { ITouchEvent } from \"@tarojs/components\"\nimport { useCallback, useEffect, useRef } from \"react\"\n\nconst MIN_DISTANCE = 10\n\nexport enum TouchDirection {\n  Horizontal = \"horizontal\",\n  Vertical = \"vertical\",\n}\n\nfunction getDirection(x: number, y: number): TouchDirection | undefined {\n  if (x > y && x > MIN_DISTANCE) {\n    return TouchDirection.Horizontal\n  }\n  if (y > x && y > MIN_DISTANCE) {\n    return TouchDirection.Vertical\n  }\n}\n\nfunction emptyFunction() {}\n\nexport interface TouchRef {\n  startX: number\n  startY: number\n  deltaX: number\n  deltaY: number\n  offsetX: number\n  offsetY: number\n  direction?: TouchDirection\n\n  isVertical(): boolean\n\n  isHorizontal(): boolean\n\n  start(event: ITouchEvent): void\n\n  move(event: ITouchEvent): void\n\n  reset(): void\n}\n\nexport function useTouch() {\n  const touchRef = useRef<TouchRef>({\n    startX: 0,\n    startY: 0,\n    deltaX: 0,\n    deltaY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    isVertical: () => false,\n    isHorizontal: () => false,\n    start: emptyFunction,\n    move: emptyFunction,\n    reset: emptyFunction,\n  })\n\n  const isVertical = useCallback(() => touchRef.current.direction === TouchDirection.Vertical, [])\n\n  const isHorizontal = useCallback(\n    () => touchRef.current.direction === TouchDirection.Horizontal,\n    [],\n  )\n\n  const reset = useCallback(function () {\n    touchRef.current.deltaX = 0\n    touchRef.current.deltaY = 0\n    touchRef.current.offsetX = 0\n    touchRef.current.offsetY = 0\n    touchRef.current.direction = undefined\n  }, [])\n\n  const start = useCallback(\n    function (event: ITouchEvent) {\n      reset()\n      touchRef.current.startX = event.touches[0].clientX\n      touchRef.current.startY = event.touches[0].clientY\n    },\n    [reset],\n  )\n\n  const move = useCallback(function (event: ITouchEvent) {\n    const touch = event.touches[0]\n    // Fix: Safari back will set clientX to negative number\n    touchRef.current.deltaX = touch.clientX < 0 ? 0 : touch.clientX - touchRef.current.startX\n    touchRef.current.deltaY = touch.clientY - touchRef.current.startY\n    touchRef.current.offsetX = Math.abs(touchRef.current.deltaX)\n    touchRef.current.offsetY = Math.abs(touchRef.current.deltaY)\n\n    if (!touchRef.current.direction) {\n      touchRef.current.direction = getDirection(touchRef.current.offsetX, touchRef.current.offsetY)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (touchRef.current.isHorizontal !== isHorizontal) {\n      touchRef.current.isHorizontal = isHorizontal\n    }\n  }, [touchRef, isHorizontal])\n\n  useEffect(() => {\n    if (touchRef.current.isVertical !== isVertical) {\n      touchRef.current.isVertical = isVertical\n    }\n  }, [touchRef, isVertical])\n\n  useEffect(() => {\n    if (touchRef.current.reset !== reset) {\n      touchRef.current.reset = reset\n    }\n  }, [touchRef, reset])\n\n  useEffect(() => {\n    if (touchRef.current.start !== start) {\n      touchRef.current.start = start\n    }\n  }, [touchRef, start])\n\n  useEffect(() => {\n    if (touchRef.current.move !== move) {\n      touchRef.current.move = move\n    }\n  }, [touchRef, move])\n\n  return touchRef.current\n}\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","import { inBrowser } from \"../base\"\nimport { createNodesRef, elementUnref } from \"./element\"\n\nexport function getComputedStyle(\n  elementOrRef: any,\n  computedStyle: string[],\n): Promise<CSSStyleDeclaration> {\n  const element = elementUnref(elementOrRef)\n  if (element) {\n    if (inBrowser) {\n      return Promise.resolve(window.getComputedStyle(element as any))\n    } else {\n      return new Promise<CSSStyleDeclaration>((resolve) => {\n        createNodesRef(element)\n          .fields(\n            {\n              computedStyle,\n            },\n            (result) => resolve(result as CSSStyleDeclaration),\n          )\n          .exec()\n      })\n    }\n  }\n\n  return Promise.resolve({} as CSSStyleDeclaration)\n}\n","import * as _ from \"lodash\"\nimport * as requestAnimationFrame from \"raf\"\n\nexport function cancelRaf(rafId: number | number[]) {\n  if (_.isNumber(rafId)) {\n    requestAnimationFrame.cancel(rafId)\n  } else if (_.isArray(rafId)) {\n    _.forEach(rafId, cancelRaf)\n  }\n}\n\nexport function raf(cb: FrameRequestCallback) {\n  // @ts-ignore\n  return requestAnimationFrame.default(cb)\n}\n\nexport default raf\n\nexport function doubleRaf(cb: FrameRequestCallback): [number, number] {\n  const rafIds: [number, number] = [0, 0]\n  rafIds[1] = raf(() => {\n    rafIds[0] = raf(cb)\n  })\n  return rafIds\n}\n","import { createContext } from \"react\"\r\nimport { SwiperDirection } from \"./swiper.shared\"\r\n\r\nexport interface SwiperItemInstance {\r\n  setOffset: (offset: number) => void\r\n}\r\n\r\ninterface SwiperContextValue {\r\n  direction?: SwiperDirection\r\n  lazyRender?: boolean\r\n  loop?: boolean\r\n  size?: number\r\n  indicator?: number\r\n  count?: number\r\n  itemInstances: SwiperItemInstance[]\r\n}\r\n\r\nconst SwiperContext = createContext<SwiperContextValue>({\r\n  itemInstances: [],\r\n})\r\nexport default SwiperContext\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport { ReactNode, useCallback, useContext, useMemo } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport SwiperContext from \"./swiper.context\"\r\n\r\nexport interface SwiperIndicatorProps extends ViewProps {\r\n  className?: string\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function SwiperIndicator(props: SwiperIndicatorProps) {\r\n  const { className, children, ...restProps } = props\r\n  const { indicator = 0, direction, count } = useContext(SwiperContext)\r\n\r\n  const renderIndicator = useCallback(\r\n    (index: number) => (\r\n      <View\r\n        key={index}\r\n        className={classNames(prefixClassname(\"swiper__indicator\"), {\r\n          [prefixClassname(\"swiper__indicator--active\")]: index === indicator,\r\n        })}\r\n      />\r\n    ),\r\n    [indicator],\r\n  )\r\n\r\n  const indicators = useMemo(() => !children && _.range(0, count).map(renderIndicator), [\r\n    children,\r\n    count,\r\n    renderIndicator,\r\n  ])\r\n\r\n  return (\r\n    <View\r\n      className={classNames(\r\n        {\r\n          [prefixClassname(\"swiper__indicators\")]: !children,\r\n          [prefixClassname(\"swiper__indicators--vertical\")]: !children && direction === \"vertical\",\r\n        },\r\n        className,\r\n      )}\r\n      children={children ?? indicators}\r\n      {...restProps}\r\n    />\r\n  )\r\n}\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, ReactNode, useContext, useEffect, useMemo, useRef, useState } from \"react\"\r\nimport { useMounted } from \"../hooks\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport { useRendered } from \"../utils/state\"\r\nimport SwiperContext from \"./swiper.context\"\r\n\r\nexport interface SwiperItemProps extends ViewProps {\r\n  __dataIndex__?: number\r\n  className?: string\r\n  style?: CSSProperties\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function SwiperItem(props: SwiperItemProps) {\r\n  const {\r\n    __dataIndex__ = 0,\r\n    className,\r\n    style: styleProp,\r\n    children: childrenProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const { lazyRender, size, direction, loop, indicator = 0, count = 0, itemInstances } = useContext(\r\n    SwiperContext,\r\n  )\r\n  const vertical = direction === \"vertical\"\r\n\r\n  const initializedRef = useRef(false)\r\n  const mountedRef = useRef(false)\r\n\r\n  const [offset, setOffset] = useState(0)\r\n\r\n  const shouldRender = useMemo(() => {\r\n    if (!lazyRender || initializedRef.current) {\r\n      return true\r\n    }\r\n\r\n    // wait for all item to mount, so we can get the exact count\r\n    if (!mountedRef.current && indicator !== 0) {\r\n      return false\r\n    }\r\n\r\n    const active = indicator\r\n    const maxActive = count - 1\r\n    const prevActive = active === 0 && loop ? maxActive : active - 1\r\n    const nextActive = active === maxActive && loop ? 0 : active + 1\r\n    initializedRef.current =\r\n      __dataIndex__ === active || __dataIndex__ === prevActive || __dataIndex__ === nextActive\r\n    return initializedRef.current\r\n  }, [__dataIndex__, count, indicator, lazyRender, loop])\r\n\r\n  useMounted(() => {\r\n    mountedRef.current = true\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (!itemInstances[__dataIndex__]) {\r\n      itemInstances[__dataIndex__] = { setOffset }\r\n    }\r\n  }, [itemInstances, __dataIndex__])\r\n\r\n  const rootStyle = useRendered(() => {\r\n    const style: CSSProperties = {}\r\n    if (size) {\r\n      const mainAxis = vertical ? \"height\" : \"width\"\r\n      style[mainAxis] = addUnitPx(size)\r\n    }\r\n    style.transform = offset ? `translate${vertical ? \"Y\" : \"X\"}(${addUnitPx(offset)})` : \"\"\r\n    return style\r\n  })\r\n\r\n  return (\r\n    <View\r\n      className={classNames(prefixClassname(\"swiper-item\"), className)}\r\n      style={{\r\n        ...styleProp,\r\n        ...rootStyle,\r\n      }}\r\n      children={shouldRender ? childrenProp : undefined}\r\n      {...restProps}\r\n    />\r\n  )\r\n}\r\n","import { ITouchEvent, View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport { nextTick } from \"@tarojs/taro\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport {\r\n  Children,\r\n  cloneElement,\r\n  CSSProperties,\r\n  isValidElement,\r\n  ReactElement,\r\n  ReactNode,\r\n  useCallback,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\"\r\nimport { useMounted, useUpdate, useWindowResize } from \"../hooks\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { getComputedStyle } from \"../utils/dom/computed-style\"\r\nimport { preventDefault } from \"../utils/dom/event\"\r\nimport { getRect, makeRect, Rect } from \"../utils/dom/rect\"\r\nimport { addUnitPx, unitToPx } from \"../utils/format/unit\"\r\nimport { doubleRaf } from \"../utils/raf\"\r\nimport { useRendered, useRenderedRef, useToRef, useValue } from \"../utils/state\"\r\nimport { useTouch } from \"../utils/touch\"\r\nimport SwiperIndicator from \"./swiper-indicator\"\r\nimport SwiperItem from \"./swiper-item\"\r\nimport SwiperContext, { SwiperItemInstance } from \"./swiper.context\"\r\nimport { SwiperDirection } from \"./swiper.shared\"\r\n\r\ninterface SwiperChildren {\r\n  items: ReactNode[]\r\n  indicator: ReactNode\r\n  count: number\r\n}\r\n\r\nfunction useSwiperChildren(children: ReactNode): SwiperChildren {\r\n  const __children__: SwiperChildren = {\r\n    items: [],\r\n    indicator: undefined,\r\n    count: 0,\r\n  }\r\n  let index = 0\r\n  Children.forEach(children, (child: ReactNode, i) => {\r\n    // Skip is not Item of Swiper\r\n    if (!isValidElement(child)) {\r\n      return\r\n    }\r\n    const element = child as ReactElement\r\n    const elementType = element.type\r\n    if (elementType === SwiperIndicator) {\r\n      __children__.indicator = element\r\n    } else if (elementType === SwiperItem) {\r\n      const { key } = element\r\n      __children__.items.push(\r\n        cloneElement(element, {\r\n          ...element.props,\r\n          key: key ?? i,\r\n          __dataIndex__: index++,\r\n        }),\r\n      )\r\n    } else {\r\n      __children__.items.push(element)\r\n    }\r\n  })\r\n\r\n  __children__.count = __children__.items.length\r\n  return __children__\r\n}\r\n\r\nfunction getIndicatorValue(value: number, count: number) {\r\n  return (value + count) % count\r\n}\r\n\r\nexport interface SwiperProps extends ViewProps {\r\n  className?: string\r\n  style?: CSSProperties\r\n  defaultValue?: number\r\n  value?: number\r\n  lazyRender?: boolean\r\n  width?: number\r\n  height?: number\r\n  autoplay?: number\r\n  loop?: boolean\r\n  touchable?: boolean\r\n  duration?: number\r\n  direction?: SwiperDirection\r\n  stopPropagation?: boolean\r\n  children?: ReactNode\r\n\r\n  onChange?(value: number): void\r\n}\r\n\r\nfunction Swiper(props: SwiperProps) {\r\n  const {\r\n    className,\r\n    defaultValue,\r\n    value: valueProp,\r\n    lazyRender,\r\n    loop = true,\r\n    touchable = true,\r\n    autoplay = 0,\r\n    duration = 500,\r\n    width,\r\n    height,\r\n    direction = \"horizontal\",\r\n    stopPropagation = true,\r\n    children: childrenProp,\r\n    onChange: onChangeProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const { value = 0, setValue } = useValue({\r\n    value: valueProp,\r\n    defaultValue,\r\n    onChange: onChangeProp,\r\n  })\r\n\r\n  const valueRef = useToRef(value)\r\n\r\n  const { count, indicator, items } = useSwiperChildren(childrenProp)\r\n\r\n  const itemInstances = useMemo<SwiperItemInstance[]>(() => [], [])\r\n\r\n  const touch = useTouch()\r\n\r\n  const update = useUpdate()\r\n\r\n  const vertical = direction === \"vertical\"\r\n\r\n  const rootRef = useRef()\r\n\r\n  const rectRef = useRef<Rect>()\r\n\r\n  const [offset, setOffset] = useState<number>(0)\r\n\r\n  const swipingRef = useRef(false) // Whether to swiping manually\r\n\r\n  const activeIndexRef = useRef<number>(0)\r\n\r\n  const touchStartTimeRef = useRef(0)\r\n\r\n  const autoplayTimerRef = useRef<NodeJS.Timeout>()\r\n\r\n  const valueIndicatorRef = useRenderedRef(() => getIndicatorValue(value, count))\r\n\r\n  const activeIndicatorRef = useRenderedRef(() => getIndicatorValue(activeIndexRef.current, count))\r\n\r\n  const getDelta = useCallback(\r\n    () => (vertical ? touch.deltaY : touch.deltaX),\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  const getCorrectDirection = useCallback(\r\n    () => touch.direction === direction,\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  const customRectRef = useRenderedRef(() => ({\r\n    width: width ?? rectRef.current?.width,\r\n    height: height ?? rectRef.current?.height,\r\n  }))\r\n\r\n  const propRectRef = useRenderedRef(() => ({\r\n    width,\r\n    height,\r\n  }))\r\n\r\n  const sizeRef = useRenderedRef(\r\n    () => (vertical ? customRectRef.current?.height : customRectRef.current?.width) ?? 0,\r\n  )\r\n\r\n  const trackSizeRef = useRenderedRef(() => count * sizeRef.current)\r\n\r\n  const minOffsetRef = useRenderedRef(() => {\r\n    if (rectRef.current) {\r\n      const base = (vertical ? rectRef.current?.height : rectRef.current?.width) ?? 0\r\n      return base - sizeRef.current * count\r\n    }\r\n    return 0\r\n  })\r\n\r\n  const maxCountRef = useRenderedRef(() =>\r\n    Math.ceil(Math.abs(minOffsetRef.current) / sizeRef.current),\r\n  )\r\n\r\n  const getTargetActive = useCallback(\r\n    (pace: number) => {\r\n      if (pace) {\r\n        if (loop) {\r\n          return _.clamp(activeIndexRef.current + pace, -1, count)\r\n        }\r\n        return _.clamp(activeIndexRef.current + pace, 0, maxCountRef.current)\r\n      }\r\n      return activeIndexRef.current\r\n    },\r\n    [loop, maxCountRef, count],\r\n  )\r\n\r\n  const getTargetOffset = useCallback(\r\n    (targetActive: number, offset = 0) => {\r\n      let currentPosition = targetActive * sizeRef.current\r\n      if (!loop) {\r\n        currentPosition = Math.min(currentPosition, -minOffsetRef.current)\r\n      }\r\n\r\n      let targetOffset = offset - currentPosition\r\n      if (!loop) {\r\n        targetOffset = _.clamp(targetOffset, minOffsetRef.current, 0)\r\n      }\r\n      return targetOffset\r\n    },\r\n    [sizeRef, loop, minOffsetRef],\r\n  )\r\n\r\n  const moveTo = useCallback(\r\n    ({ pace = 0, offset = 0, emitChange = false }) => {\r\n      if (count <= 1) {\r\n        return\r\n      }\r\n\r\n      const targetActive = getTargetActive(pace)\r\n      const targetOffset = getTargetOffset(targetActive, offset)\r\n      if (loop) {\r\n        if (itemInstances[0] && targetOffset !== minOffsetRef.current) {\r\n          const outRightBound = targetOffset < minOffsetRef.current\r\n          itemInstances[0].setOffset(outRightBound ? trackSizeRef.current : 0)\r\n        }\r\n\r\n        if (itemInstances[count - 1] && targetOffset !== 0) {\r\n          const outLeftBound = targetOffset > 0\r\n          itemInstances[count - 1].setOffset(outLeftBound ? -trackSizeRef.current : 0)\r\n        }\r\n      }\r\n\r\n      const previousActiveIndex = activeIndexRef.current\r\n      activeIndexRef.current = targetActive\r\n      setOffset(targetOffset)\r\n\r\n      if (emitChange && previousActiveIndex !== targetActive) {\r\n        setValue(getIndicatorValue(targetActive, count))\r\n      }\r\n    },\r\n    [\r\n      count,\r\n      getTargetActive,\r\n      getTargetOffset,\r\n      loop,\r\n      itemInstances,\r\n      minOffsetRef,\r\n      trackSizeRef,\r\n      setValue,\r\n    ],\r\n  )\r\n\r\n  const correctPosition = useCallback(() => {\r\n    swipingRef.current = true\r\n    if (activeIndexRef.current <= -1) {\r\n      moveTo({ pace: count })\r\n    } else if (activeIndexRef.current >= count) {\r\n      moveTo({ pace: -count })\r\n    }\r\n  }, [count, moveTo])\r\n\r\n  const swipeTo = useCallback(\r\n    (index: number) => {\r\n      correctPosition()\r\n      touch.reset()\r\n\r\n      doubleRaf(() => {\r\n        let targetIndex\r\n        if (loop && index === count) {\r\n          targetIndex = activeIndexRef.current === 0 ? 0 : index\r\n        } else {\r\n          targetIndex = index % count\r\n        }\r\n\r\n        swipingRef.current = false\r\n\r\n        moveTo({\r\n          pace: targetIndex - activeIndexRef.current,\r\n          emitChange: true,\r\n        })\r\n      })\r\n    },\r\n    [correctPosition, count, loop, moveTo, touch],\r\n  )\r\n\r\n  // const previous = useCallback(() => {\r\n  //   correctPosition()\r\n  //   doubleRaf(() => {\r\n  //     swipingRef.current = false\r\n  //     moveTo({\r\n  //       pace: -1,\r\n  //       emitChange: true,\r\n  //     })\r\n  //   })\r\n  // }, [correctPosition, moveTo])\r\n\r\n  const next = useCallback(() => {\r\n    correctPosition()\r\n    doubleRaf(() => {\r\n      swipingRef.current = false\r\n      moveTo({\r\n        pace: 1,\r\n        emitChange: true,\r\n      })\r\n    })\r\n  }, [correctPosition, moveTo])\r\n\r\n  const stopAutoplay = useCallback(() => {\r\n    if (autoplayTimerRef.current) {\r\n      clearTimeout(autoplayTimerRef.current)\r\n    }\r\n  }, [])\r\n\r\n  const startAutoplay = useCallback(() => {\r\n    stopAutoplay()\r\n    if (autoplay > 0 && count > 1) {\r\n      autoplayTimerRef.current = setTimeout(() => {\r\n        next()\r\n        startAutoplay()\r\n      }, +autoplay)\r\n    }\r\n  }, [autoplay, count, next, stopAutoplay])\r\n\r\n  const onTouchStart = useCallback(\r\n    (event: ITouchEvent) => {\r\n      if (!touchable) {\r\n        return\r\n      }\r\n\r\n      touch.start(event)\r\n      touchStartTimeRef.current = Date.now()\r\n\r\n      stopAutoplay()\r\n      correctPosition()\r\n    },\r\n    [correctPosition, stopAutoplay, touch, touchable],\r\n  )\r\n\r\n  const onTouchMove = useCallback(\r\n    (event: ITouchEvent) => {\r\n      if (!touchable || !swipingRef.current) {\r\n        return\r\n      }\r\n\r\n      touch.move(event)\r\n      const correctDirection = getCorrectDirection()\r\n      // if user starting to touchmove, prevent the event bubbling to\r\n      // avoid affecting the parent components\r\n      const shouldPrevent = correctDirection || touch.offsetY > touch.offsetX === vertical\r\n      if (shouldPrevent) {\r\n        preventDefault(event, stopPropagation)\r\n      }\r\n\r\n      if (correctDirection) {\r\n        moveTo({ offset: getDelta() })\r\n      }\r\n    },\r\n    [getCorrectDirection, getDelta, moveTo, stopPropagation, touch, touchable, vertical],\r\n  )\r\n\r\n  const onTouchEnd = useCallback(() => {\r\n    if (!touchable || !swipingRef.current) {\r\n      return\r\n    }\r\n    const duration = Date.now() - touchStartTimeRef.current\r\n\r\n    const delta = getDelta()\r\n    const speed = delta / duration\r\n    const shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(delta) > sizeRef.current / 2\r\n\r\n    swipingRef.current = false\r\n    const correctDirection = getCorrectDirection()\r\n    if (shouldSwipe && correctDirection) {\r\n      const offset = vertical ? touch.offsetY : touch.offsetX\r\n\r\n      let pace: number\r\n\r\n      if (loop) {\r\n        pace = offset > 0 ? (delta > 0 ? -1 : 1) : 0\r\n      } else {\r\n        pace = -Math[delta > 0 ? \"ceil\" : \"floor\"](delta / sizeRef.current)\r\n      }\r\n\r\n      moveTo({\r\n        pace,\r\n        emitChange: true,\r\n      })\r\n    } else if (delta) {\r\n      moveTo({ pace: 0 })\r\n    }\r\n    startAutoplay()\r\n  }, [\r\n    touchable,\r\n    getDelta,\r\n    sizeRef,\r\n    getCorrectDirection,\r\n    startAutoplay,\r\n    vertical,\r\n    touch.offsetY,\r\n    touch.offsetX,\r\n    loop,\r\n    moveTo,\r\n  ])\r\n\r\n  const getTrackRect = useCallback(\r\n    () =>\r\n      Promise.all([\r\n        getRect(rootRef),\r\n        getComputedStyle(rootRef, [\"width\", \"height\"]),\r\n      ]).then(([rect, style]) =>\r\n        makeRect(\r\n          style.width === \"auto\" ? rect.width : unitToPx(style.width),\r\n          style.height === \"auto\" ? rect.height : unitToPx(style.height),\r\n        ),\r\n      ),\r\n    [],\r\n  )\r\n\r\n  const initialize = useCallback(\r\n    async (activeIndex = valueRef.current) => {\r\n      if (!rootRef.current) {\r\n        return\r\n      }\r\n      rectRef.current = await getTrackRect()\r\n      if (count) {\r\n        activeIndex = Math.min(count - 1, activeIndex)\r\n      }\r\n      activeIndexRef.current = activeIndex\r\n      swipingRef.current = true\r\n      const targetOffset = getTargetOffset(activeIndex)\r\n      setOffset(targetOffset)\r\n      // Force update render\r\n      if (targetOffset === offset) {\r\n        update()\r\n      }\r\n      itemInstances.forEach((item) => item.setOffset(0))\r\n    },\r\n    [valueRef, getTrackRect, count, getTargetOffset, offset, itemInstances, update],\r\n  )\r\n\r\n  const resize = useCallback(() => nextTick(() => initialize(activeIndexRef.current)), [initialize])\r\n\r\n  useMounted(initialize)\r\n\r\n  useWindowResize(resize)\r\n\r\n  useMounted(() => {\r\n    startAutoplay()\r\n    return stopAutoplay\r\n  })\r\n\r\n  useEffect(\r\n    () => {\r\n      const valueIndicator = valueIndicatorRef.current\r\n      const activeIndicator = activeIndicatorRef.current\r\n      if (valueIndicator !== activeIndicator) {\r\n        try {\r\n          stopAutoplay()\r\n          swipeTo(valueIndicator)\r\n        } finally {\r\n          startAutoplay()\r\n        }\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [valueIndicatorRef.current],\r\n  )\r\n\r\n  const trackStyle = useRendered(() => {\r\n    const style: CSSProperties = {\r\n      transitionDuration: `${swipingRef.current ? 0 : duration}ms`,\r\n      transform: `translate${vertical ? \"Y\" : \"X\"}(${addUnitPx(offset)})`,\r\n    }\r\n\r\n    if (sizeRef.current) {\r\n      const mainAxis = vertical ? \"height\" : \"width\"\r\n      style[mainAxis] = `${addUnitPx(trackSizeRef.current)}`\r\n      const crossAxis = vertical ? \"width\" : \"height\"\r\n      const crossAxisValue = propRectRef.current[crossAxis]\r\n      style[crossAxis] = crossAxisValue ? addUnitPx(crossAxisValue) : \"\"\r\n    }\r\n    return style\r\n  })\r\n\r\n  return (\r\n    <View ref={rootRef} className={classNames(prefixClassname(\"swiper\"), className)} {...restProps}>\r\n      <SwiperContext.Provider\r\n        value={{\r\n          lazyRender,\r\n          loop,\r\n          direction,\r\n          indicator: activeIndicatorRef.current,\r\n          size: sizeRef.current,\r\n          count,\r\n          itemInstances,\r\n        }}\r\n      >\r\n        <View\r\n          className={classNames(prefixClassname(\"swiper__track\"), {\r\n            [prefixClassname(\"swiper__track--vertical\")]: vertical,\r\n          })}\r\n          catchMove\r\n          onTouchStart={onTouchStart}\r\n          onTouchMove={onTouchMove}\r\n          onTouchEnd={onTouchEnd}\r\n          onTouchCancel={onTouchEnd}\r\n          style={trackStyle}\r\n          children={items}\r\n        />\r\n        {indicator}\r\n      </SwiperContext.Provider>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Swiper\r\n","import SwiperElement, { SwiperProps } from \"./swiper\"\r\nimport SwiperIndicator, { SwiperIndicatorProps } from \"./swiper-indicator\"\r\nimport SwiperItem, { SwiperItemProps } from \"./swiper-item\"\r\nimport { SwiperItemEvent } from \"./swiper.shared\"\r\n\r\ninterface SwiperInterface {\r\n  (props: SwiperProps): JSX.Element\r\n\r\n  Item: typeof SwiperItem\r\n  Indicator: typeof SwiperIndicator\r\n}\r\n\r\nconst Swiper = (SwiperElement as unknown) as SwiperInterface\r\n\r\nSwiper.Item = SwiperItem\r\nSwiper.Indicator = SwiperIndicator\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-redeclare\r\nnamespace Swiper {\r\n  export type ItemEvent = SwiperItemEvent\r\n\r\n  export type ItemProps = SwiperItemProps\r\n\r\n  export type IndicatorProps = SwiperIndicatorProps\r\n}\r\n\r\nexport default Swiper\r\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, useMemo } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\nexport enum WhiteSpaceSize {\r\n  Mini = \"mini\",\r\n  Small = \"small\",\r\n  Medium = \"medium\",\r\n  Large = \"large\",\r\n}\r\n\r\nconst SIZE_PRESETS = [\r\n  WhiteSpaceSize.Mini,\r\n  WhiteSpaceSize.Small,\r\n  WhiteSpaceSize.Medium,\r\n  WhiteSpaceSize.Large,\r\n]\r\n\r\nfunction isPresetSize(size?: WhiteSpaceSize | string | number) {\r\n  return SIZE_PRESETS.includes(size as WhiteSpaceSize)\r\n}\r\n\r\ntype WhiteSpaceSizeString = \"mini\" | \"small\" | \"medium\" | \"large\"\r\n\r\ninterface WhiteSpaceProps {\r\n  size?: WhiteSpaceSize | WhiteSpaceSizeString | string | number\r\n}\r\n\r\nexport default function WhiteSpace(props: WhiteSpaceProps) {\r\n  const { size = WhiteSpaceSize.Medium } = props\r\n\r\n  const rootStyle = useMemo<CSSProperties>(\r\n    () => ({ height: isPresetSize(size) ? \"\" : size }), //\r\n    [size],\r\n  )\r\n\r\n  return (\r\n    <View\r\n      className={classNames(prefixClassname(\"white-space\"), {\r\n        [prefixClassname(`white-space-size-${size}`)]: isPresetSize(size),\r\n      })}\r\n      style={rootStyle}\r\n    />\r\n  )\r\n}\r\n","import WhiteSpace from \"./white-space\"\n\nexport { WhiteSpaceSize } from \"./white-space\"\n\nexport default WhiteSpace\n","import { cloneIconElement } from \"@taroify/icons/utils\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport { ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NoticeBarActionProps extends ViewProps {\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NoticeBarAction(props: NoticeBarActionProps): JSX.Element {\r\n  const { className, children, ...restProps } = props\r\n  // @ts-ignore\r\n  return cloneIconElement(children, {\r\n    className: classNames(prefixClassname(\"notice-bar__action\"), className),\r\n    ...restProps,\r\n  }) as JSX.Element\r\n}\r\n","import { cloneIconElement } from \"@taroify/icons/utils\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport { ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NoticeBarIconProps extends ViewProps {\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NoticeBarIcon(props: NoticeBarIconProps): JSX.Element {\r\n  const { className, children, ...restProps } = props\r\n\r\n  // @ts-ignore\r\n  return cloneIconElement(children, {\r\n    className: classNames(prefixClassname(\"notice-bar__icon\"), className),\r\n    ...restProps,\r\n  }) as JSX.Element\r\n}\r\n","import { View } from \"@tarojs/components\"\nimport { ViewProps } from \"@tarojs/components/types/View\"\nimport { nextTick } from \"@tarojs/taro\"\nimport classNames from \"classnames\"\nimport * as React from \"react\"\nimport {\n  Children,\n  CSSProperties,\n  isValidElement,\n  ReactElement,\n  ReactNode,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\"\nimport { prefixClassname } from \"../styles\"\nimport { getRect } from \"../utils/dom/rect\"\nimport { addUnitPx } from \"../utils/format/unit\"\nimport { doubleRaf } from \"../utils/raf\"\nimport { NoticeBarAction } from \"./notice-bar-action\"\nimport { NoticeBarIcon } from \"./notice-bar-icon\"\n\ninterface NoticeBarChildren {\n  icon: ReactNode\n  text: ReactNode[]\n  action: ReactNode\n}\n\nfunction useChildren(children: ReactNode): NoticeBarChildren {\n  const __children__: NoticeBarChildren = {\n    icon: undefined,\n    text: [],\n    action: undefined,\n  }\n  Children.forEach(children, (child) => {\n    if (isValidElement(child)) {\n      const element = child as ReactElement\n      const elementType = element.type\n      if (elementType === NoticeBarIcon) {\n        __children__.icon = element\n      } else if (elementType === NoticeBarAction) {\n        __children__.action = element\n      } else {\n        __children__.text.push(child)\n      }\n    } else {\n      __children__.text.push(child)\n    }\n  })\n  return __children__\n}\n\nexport interface NoticeBarProps extends ViewProps {\n  className?: string\n  style?: CSSProperties\n  delay?: number\n  speed?: number\n  scrollable?: boolean\n  wordwrap?: boolean\n  children?: ReactNode\n}\n\nfunction NoticeBar(props: NoticeBarProps) {\n  const {\n    className,\n    delay = 1000,\n    speed = 60,\n    wordwrap,\n    scrollable = false,\n    children: childrenProp,\n    ...restProps\n  } = props\n\n  const { icon, text, action } = useChildren(childrenProp)\n\n  const ellipsis = !scrollable && !wordwrap\n  const startTimerRef = useRef<NodeJS.Timeout>()\n  const wrapRef = useRef()\n  const contentRef = useRef()\n\n  const [offset, setOffset] = useState(0)\n  const [duration, setDuration] = useState(0)\n\n  const wrapWidthRef = useRef(0)\n  const contentWidthRef = useRef(0)\n\n  const contentStyle = useMemo<CSSProperties>(\n    () => ({\n      transform: offset ? `translateX(${addUnitPx(offset)})` : \"\",\n      transitionDuration: `${duration}s`,\n    }),\n    [offset, duration],\n  )\n\n  function reset() {\n    wrapWidthRef.current = 0\n    contentWidthRef.current = 0\n    setOffset(0)\n    setDuration(0)\n  }\n\n  function onTransitionEnd() {\n    setOffset(wrapWidthRef.current)\n    setDuration(0)\n\n    nextTick(() => {\n      // use double raf to ensure animation can start\n      doubleRaf(() => {\n        setOffset(-contentWidthRef.current)\n        setDuration((contentWidthRef.current + wrapWidthRef.current) / +speed)\n      })\n    })\n  }\n\n  function start() {\n    reset()\n\n    if (startTimerRef.current) {\n      clearTimeout(startTimerRef.current)\n    }\n\n    startTimerRef.current = setTimeout(async () => {\n      if (!wrapRef.current || !contentRef.current || !scrollable) {\n        return\n      }\n\n      const { width: wrapRefWidth } = await getRect(wrapRef)\n      const { width: contentRefWidth } = await getRect(contentRef)\n\n      if (scrollable || contentRefWidth > wrapRefWidth) {\n        doubleRaf(() => {\n          wrapWidthRef.current = wrapRefWidth\n          contentWidthRef.current = contentRefWidth\n          setOffset(-contentRefWidth)\n          setDuration(contentRefWidth / +speed)\n        })\n      }\n    }, +delay)\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(start, [])\n\n  return (\n    <View\n      className={classNames(\n        prefixClassname(\"notice-bar\"),\n        {\n          [prefixClassname(\"notice-bar--wordwrap\")]: wordwrap,\n        },\n        className,\n      )}\n      {...restProps}\n    >\n      {icon}\n      <View ref={wrapRef} className={prefixClassname(\"notice-bar__wrap\")}>\n        <View\n          ref={contentRef}\n          style={contentStyle}\n          className={classNames(prefixClassname(\"notice-bar__content\"), {\n            [prefixClassname(\"ellipsis\")]: ellipsis,\n          })}\n          children={text}\n          onTransitionEnd={onTransitionEnd}\n        />\n      </View>\n      {action}\n    </View>\n  )\n}\n\nexport default NoticeBar\n","import NoticeBarElement, { NoticeBarProps } from \"./notice-bar\"\r\nimport { NoticeBarAction } from \"./notice-bar-action\"\r\nimport { NoticeBarIcon } from \"./notice-bar-icon\"\r\n\r\ninterface NoticeBarInterface {\r\n  (props: NoticeBarProps): JSX.Element\r\n\r\n  Icon: typeof NoticeBarIcon\r\n  Action: typeof NoticeBarAction\r\n}\r\n\r\nconst NoticeBar = NoticeBarElement as NoticeBarInterface\r\n\r\nNoticeBar.Icon = NoticeBarIcon\r\nNoticeBar.Action = NoticeBarAction\r\n\r\nexport default NoticeBar\r\n","import { NoticeBar, Swiper, WhiteSpace } from \"@taroify/core\"\r\nimport { ArrowRight, Cross, InfoOutlined, VolumeOutlined } from \"@taroify/icons\"\r\nimport * as React from \"react\"\r\nimport Block from \"../../../components/block\"\r\nimport Page from \"../../../components/page\"\r\nimport \"./index.scss\"\r\n\r\nfunction BasicNoticeBar() {\r\n  return (\r\n    <NoticeBar scrollable>\r\n      <NoticeBar.Icon>\r\n        <VolumeOutlined />\r\n      </NoticeBar.Icon>\r\n      在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。\r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nfunction ScrollableNoticeBar() {\r\n  return (\r\n    <>\r\n      <NoticeBar scrollable>技术是开发它的人的共同灵魂。</NoticeBar>\r\n      <WhiteSpace />\r\n      <NoticeBar scrollable={false}>\r\n        在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。\r\n      </NoticeBar>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction WordwrapNoticeBar() {\r\n  return (\r\n    <NoticeBar wordwrap scrollable={false}>\r\n      在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。\r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nfunction ActionNoticeBar() {\r\n  return (\r\n    <>\r\n      <NoticeBar scrollable={false}>\r\n        技术是开发它的人的共同灵魂。\r\n        <NoticeBar.Action>\r\n          <Cross />\r\n        </NoticeBar.Action>\r\n      </NoticeBar>\r\n      <WhiteSpace />\r\n      <NoticeBar scrollable={false}>\r\n        技术是开发它的人的共同灵魂。\r\n        <NoticeBar.Action>\r\n          <ArrowRight />\r\n        </NoticeBar.Action>\r\n      </NoticeBar>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction NoticeBarWithCustomStyle() {\r\n  return (\r\n    <NoticeBar style={{ color: \"#1989fa\", background: \"#ecf9ff\" }}>\r\n      <NoticeBar.Icon>\r\n        <InfoOutlined />\r\n      </NoticeBar.Icon>\r\n      技术是开发它的人的共同灵魂。\r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nfunction NoticeBarWithVerticalScrolling() {\r\n  return (\r\n    <NoticeBar>\r\n      <NoticeBar.Icon>\r\n        <VolumeOutlined />\r\n      </NoticeBar.Icon>\r\n      <Swiper className=\"notice-swiper\" direction=\"vertical\" autoplay={3000}>\r\n        <Swiper.Item>内容 1</Swiper.Item>\r\n        <Swiper.Item>内容 2</Swiper.Item>\r\n        <Swiper.Item>内容 3</Swiper.Item>\r\n      </Swiper>\r\n    </NoticeBar>\r\n  )\r\n}\r\n\r\nexport default function NoticeBarDemo() {\r\n  return (\r\n    <Page title=\"NoticeBar 通知栏\" className=\"notice-bar-demo\">\r\n      <Block title=\"基础用法\">\r\n        <BasicNoticeBar />\r\n      </Block>\r\n      <Block title=\"滚动播放\">\r\n        <ScrollableNoticeBar />\r\n      </Block>\r\n      <Block title=\"多行展示\">\r\n        <WordwrapNoticeBar />\r\n      </Block>\r\n      <Block title=\"通知栏模式\">\r\n        <ActionNoticeBar />\r\n      </Block>\r\n      <Block title=\"自定义样式\">\r\n        <NoticeBarWithCustomStyle />\r\n      </Block>\r\n      <Block title=\"自定义样式\">\r\n        <NoticeBarWithVerticalScrolling />\r\n      </Block>\r\n    </Page>\r\n  )\r\n}\r\n"],"sourceRoot":""}