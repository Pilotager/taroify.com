{"version":3,"sources":["webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/components/dist/esm-es5/taro-input-core.entry.js"],"names":["getTrueType","e","t","n","Error","fixControlledValue","Input","this","registerInstance","onInput","createEvent","onPaste","onFocus","onBlur","onConfirm","onChange","onKeyDown","isOnComposition","isOnPaste","onInputExcuted","password","disabled","maxlength","autoFocus","confirmType","nativeProps","handleInput","stopPropagation","i","type","o","a","s","r","target","value","u","length","substring","emit","cursor","handlePaste","handleFocus","handleBlur","handleChange","handleKeyDown","keyCode","code","handleComposition","HTMLInputElement","prototype","watchFocus","inputRef","focus","componentDidLoad","fileListener","addEventListener","Object","defineProperty","el","get","set","configurable","disconnectedCallback","removeEventListener","render","placeholder","l","p","name","c","h","assign","ref","class","onCompositionStart","onCompositionEnd","getElement","enumerable","style"],"mappings":"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","file":"chunk/106.858a9a58.js","sourcesContent":["import{r as registerInstance,c as createEvent,h,g as getElement}from\"./index-5bd7cbab.js\";var indexCss=\"taro-input-core{display:block}input{display:block;overflow:hidden;height:1.4rem;text-overflow:clip;text-align:inherit;white-space:nowrap}\";function getTrueType(e,t,n){if(t===\"search\")e=\"search\";if(n)e=\"password\";if(typeof e===\"undefined\"){return\"text\"}if(!e){throw new Error(\"unexpected type\")}if(e===\"digit\")e=\"number\";return e}function fixControlledValue(e){return e!==null&&e!==void 0?e:\"\"}var Input=function(){function e(e){var t=this;registerInstance(this,e);this.onInput=createEvent(this,\"input\",7);this.onPaste=createEvent(this,\"paste\",7);this.onFocus=createEvent(this,\"focus\",7);this.onBlur=createEvent(this,\"blur\",7);this.onConfirm=createEvent(this,\"confirm\",7);this.onChange=createEvent(this,\"change\",7);this.onKeyDown=createEvent(this,\"keydown\",7);this.isOnComposition=false;this.isOnPaste=false;this.onInputExcuted=false;this.password=false;this.disabled=false;this.maxlength=140;this.autoFocus=false;this.confirmType=\"done\";this.nativeProps={};this.handleInput=function(e){e.stopPropagation();var n=t,i=n.type,o=n.maxlength,a=n.confirmType,s=n.password;if(!t.isOnComposition&&!t.onInputExcuted){var r=e.target.value;var u=getTrueType(i,a,s);t.onInputExcuted=true;if(u===\"number\"&&r&&o<=r.length){r=r.substring(0,o);e.target.value=r}t.value=r;t.onInput.emit({value:r,cursor:r.length})}};this.handlePaste=function(e){t.isOnPaste=true;t.onPaste.emit({value:e.target.value})};this.handleFocus=function(e){t.onInputExcuted=false;t.onFocus.emit({value:e.target.value})};this.handleBlur=function(e){t.onBlur.emit({value:e.target.value})};this.handleChange=function(e){e.stopPropagation();t.onChange.emit({value:e.target.value});if(t.isOnPaste){t.isOnPaste=false;t.value=e.target.value;t.onInput.emit({value:e.target.value,cursor:e.target.value.length})}};this.handleKeyDown=function(e){var n=e.target.value;var i=e.keyCode||e.code;t.onInputExcuted=false;e.stopPropagation();t.onKeyDown.emit({value:n,cursor:n.length,keyCode:i});i===13&&t.onConfirm.emit({value:n})};this.handleComposition=function(e){if(!(e.target instanceof HTMLInputElement))return;if(e.type===\"compositionend\"){t.isOnComposition=false;t.value=e.target.value;t.onInput.emit({value:e.target.value,cursor:e.target.value.length})}else{t.isOnComposition=true}}}e.prototype.watchFocus=function(e,t){var n;if(!t&&e){(n=this.inputRef)===null||n===void 0?void 0:n.focus()}};e.prototype.componentDidLoad=function(){var e=this;var t,n,i;if(this.type===\"file\"){this.fileListener=function(){e.onInput.emit()};(t=this.inputRef)===null||t===void 0?void 0:t.addEventListener(\"change\",this.fileListener)}else{(n=this.inputRef)===null||n===void 0?void 0:n.addEventListener(\"compositionstart\",this.handleComposition);(i=this.inputRef)===null||i===void 0?void 0:i.addEventListener(\"compositionend\",this.handleComposition)}Object.defineProperty(this.el,\"value\",{get:function(){var t;return(t=e.inputRef)===null||t===void 0?void 0:t.value},set:function(t){return e.value=t},configurable:true})};e.prototype.disconnectedCallback=function(){var e;if(this.type===\"file\"){(e=this.inputRef)===null||e===void 0?void 0:e.removeEventListener(\"change\",this.fileListener)}};e.prototype.render=function(){var e=this;var t=this,n=t.value,i=t.type,o=t.password,a=t.placeholder,s=t.autoFocus,r=t.disabled,u=t.maxlength,l=t.confirmType,p=t.name,c=t.nativeProps;return h(\"input\",Object.assign({ref:function(t){e.inputRef=t},class:\"weui-input\",value:fixControlledValue(n),type:getTrueType(i,l,o),placeholder:a,autoFocus:s,disabled:r,maxlength:u,name:p,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,onCompositionStart:this.handleComposition,onCompositionEnd:this.handleComposition},c))};Object.defineProperty(e.prototype,\"el\",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,\"watchers\",{get:function(){return{autoFocus:[\"watchFocus\"]}},enumerable:false,configurable:true});return e}();Input.style=indexCss;export{Input as taro_input_core};"],"sourceRoot":""}