{"version":3,"sources":["webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/components/dist/esm-es5/taro-input-core.entry.js"],"names":["getTrueType","e","t","n","Error","fixControlledValue","Input","this","registerInstance","onInput","createEvent","onFocus","onBlur","onConfirm","onChange","onKeyDown","isOnComposition","onInputExcuted","password","disabled","maxlength","autoFocus","confirmType","nativeProps","handleInput","stopPropagation","i","type","o","a","s","r","target","value","u","length","substring","_value","emit","cursor","handleFocus","handleBlur","handleChange","handleKeyDown","keyCode","code","handleComposition","HTMLInputElement","prototype","watchHandler","watchFocus","inputRef","focus","componentWillLoad","componentDidLoad","fileListener","addEventListener","Object","defineProperty","el","get","set","configurable","disconnectedCallback","removeEventListener","render","placeholder","l","c","name","p","h","assign","ref","class","getElement","enumerable","style"],"mappings":"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","file":"chunk/103.67fa5f0c.js","sourcesContent":["import{r as registerInstance,c as createEvent,h,g as getElement}from\"./index-5bd7cbab.js\";var indexCss=\"taro-input-core{display:block}input{display:block;height:1.4rem;text-align:inherit;text-overflow:clip;overflow:hidden;white-space:nowrap}\";function getTrueType(e,t,n){if(t===\"search\")e=\"search\";if(n)e=\"password\";if(typeof e===\"undefined\"){return\"text\"}if(!e){throw new Error(\"unexpected type\")}if(e===\"digit\")e=\"number\";return e}function fixControlledValue(e){return e!==null&&e!==void 0?e:\"\"}var Input=function(){function e(e){var t=this;registerInstance(this,e);this.onInput=createEvent(this,\"input\",7);this.onFocus=createEvent(this,\"focus\",7);this.onBlur=createEvent(this,\"blur\",7);this.onConfirm=createEvent(this,\"confirm\",7);this.onChange=createEvent(this,\"change\",7);this.onKeyDown=createEvent(this,\"keydown\",7);this.isOnComposition=false;this.onInputExcuted=false;this.password=false;this.disabled=false;this.maxlength=140;this.autoFocus=false;this.confirmType=\"done\";this.nativeProps={};this.handleInput=function(e){e.stopPropagation();var n=t,i=n.type,o=n.maxlength,a=n.confirmType,s=n.password;if(!t.isOnComposition&&!t.onInputExcuted){var r=e.target.value;var u=getTrueType(i,a,s);t.onInputExcuted=true;if(u===\"number\"&&r&&o<=r.length){r=r.substring(0,o);e.target.value=r}t._value=r;t.onInput.emit({value:r,cursor:r.length})}};this.handleFocus=function(e){t.onInputExcuted=false;t.onFocus.emit({value:e.target.value})};this.handleBlur=function(e){t.onBlur.emit({value:e.target.value})};this.handleChange=function(e){e.stopPropagation();t.onChange.emit({value:e.target.value})};this.handleKeyDown=function(e){var n=e.target.value;var i=e.keyCode||e.code;t.onInputExcuted=false;e.stopPropagation();t.onKeyDown.emit({value:n,cursor:n.length,keyCode:i});i===13&&t.onConfirm.emit({value:n})};this.handleComposition=function(e){if(!(e.target instanceof HTMLInputElement))return;if(e.type===\"compositionend\"){t.isOnComposition=false;t.onInput.emit({value:e.target.value})}else{t.isOnComposition=true}}}e.prototype.watchHandler=function(e,t){if(e!==t){this._value=e}};e.prototype.watchFocus=function(e,t){var n;if(!t&&e){(n=this.inputRef)===null||n===void 0?void 0:n.focus()}};e.prototype.componentWillLoad=function(){this._value=this.value};e.prototype.componentDidLoad=function(){var e=this;var t,n,i;if(this.type===\"file\"){this.fileListener=function(){e.onInput.emit()};(t=this.inputRef)===null||t===void 0?void 0:t.addEventListener(\"change\",this.fileListener)}else{(n=this.inputRef)===null||n===void 0?void 0:n.addEventListener(\"compositionstart\",this.handleComposition);(i=this.inputRef)===null||i===void 0?void 0:i.addEventListener(\"compositionend\",this.handleComposition)}Object.defineProperty(this.el,\"value\",{get:function(){var t;return(t=e.inputRef)===null||t===void 0?void 0:t.value},set:function(t){e._value=t},configurable:true})};e.prototype.disconnectedCallback=function(){var e;if(this.type===\"file\"){(e=this.inputRef)===null||e===void 0?void 0:e.removeEventListener(\"change\",this.fileListener)}};e.prototype.render=function(){var e=this;var t=this,n=t._value,i=t.type,o=t.password,a=t.placeholder,s=t.autoFocus,r=t.disabled,u=t.maxlength,l=t.confirmType,c=t.name,p=t.nativeProps;return h(\"input\",Object.assign({ref:function(t){e.inputRef=t},class:\"weui-input\",value:fixControlledValue(n),type:getTrueType(i,l,o),placeholder:a,autoFocus:s,disabled:r,maxlength:u,name:c,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,onKeyDown:this.handleKeyDown},p))};Object.defineProperty(e.prototype,\"el\",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,\"watchers\",{get:function(){return{value:[\"watchHandler\"],autoFocus:[\"watchFocus\"]}},enumerable:false,configurable:true});return e}();Input.style=indexCss;export{Input as taro_input_core};"],"sourceRoot":""}