{"version":3,"sources":["webpack:///../../../../packages/core/src/utils/format/unit.ts","webpack:///./src/components/block.tsx","webpack:///../../../../packages/icons/src/utils/index.ts","webpack:///../../../../packages/core/src/styles/hairline.ts","webpack:///../../../../packages/core/src/image/image.tsx","webpack:///../../../../packages/core/src/image/style/index.ts","webpack:///../../../../packages/core/src/badge/style/index.ts","webpack:///../../../../packages/core/src/badge/badge.tsx","webpack:///../../../../packages/core/src/badge/use-badge.tsx","webpack:///../../../../packages/core/src/grid/style/index.ts","webpack:///../../../../packages/core/src/grid/grid.context.ts","webpack:///../../../../packages/core/src/grid/grid.tsx","webpack:///../../../../packages/core/src/grid/grid-item.tsx","webpack:///../../../../packages/core/src/grid/index.ts","webpack:///./src/pages/navigation/grid/index.tsx"],"names":["value","unitToPx","size","addUnitPx","width","height","convertRem","getRootFontSize","doc","document","fontSize","window","rootFontSize","parseFloat","convertPx","convertVw","convertVh","Block","props","className","variant","title","children","classNames","demoPrefixClassname","isValidElement","element","isIconElement","cloneElement","node","oldProps","newProps","HAIRLINE_BORDER","prefixClassname","HAIRLINE_BORDER_TOP","HAIRLINE_BORDER_LEFT","HAIRLINE_BORDER_BOTTOM","HAIRLINE_BORDER_SURROUND","HAIRLINE_BORDER_TOP_BOTTOM","HAIRLINE_BORDER_UNSET_TOP_BOTTOM","ImagePlaceholder","prefix","React","mode","round","lazyLoad","placeholder","fallback","taroMode","toTaroMode","useState","useEffect","setLoading","failed","src","loading","imgProps","alt","onError","setFailed","onLoad","Badge","content","position","isIcon","useMemo","hasChildren","noneChildren","contentProp","cloneIconElement","dot","elementTypeOf","badge","createContext","bordered","columns","centered","clickable","Grid","style","direction","childrenProp","item","__dataIndex__","index","rootStyle","gutter","undefined","GridContext","square","useContext","percent","useGridItemPercent","gutterValue","styleProp","contentStyle","right","bottom","icon","GridDemo","Item","text"],"mappings":"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","file":"chunk/77.12d25320.js","sourcesContent":["import * as _ from \"lodash\"\r\nimport { CSSProperties } from \"react\"\r\n\r\nexport function addUnitPx(value?: string | number): string {\r\n  return value === undefined ? \"\" : `${unitToPx(value)}px`\r\n}\r\n\r\nexport function getSizeStyle(originSize?: string | number): CSSProperties | undefined {\r\n  if (_.isNumber(originSize) || _.isString(originSize)) {\r\n    const size = addUnitPx(originSize)\r\n    return {\r\n      width: size,\r\n      height: size,\r\n    }\r\n  }\r\n  return {}\r\n}\r\n\r\nexport function getZIndexStyle(zIndex?: string | number) {\r\n  const style: CSSProperties = {}\r\n  if (zIndex !== undefined) {\r\n    style.zIndex = +zIndex\r\n  }\r\n  return style\r\n}\r\n\r\n// cache\r\nlet rootFontSize: number\r\n\r\nfunction getRootFontSize() {\r\n  if (!rootFontSize) {\r\n    const doc = document.documentElement\r\n    const fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize\r\n\r\n    rootFontSize = parseFloat(fontSize)\r\n  }\r\n\r\n  return rootFontSize\r\n}\r\n\r\nfunction convertPx(value: string) {\r\n  value = value.replace(/px/g, \"\")\r\n  return +value\r\n}\r\n\r\nfunction convertRem(value: string) {\r\n  value = value.replace(/rem/g, \"\")\r\n  return +value * getRootFontSize()\r\n}\r\n\r\nfunction convertVw(value: string) {\r\n  value = value.replace(/vw/g, \"\")\r\n  return (+value * window.innerWidth) / 100\r\n}\r\n\r\nfunction convertVh(value: string) {\r\n  value = value.replace(/vh/g, \"\")\r\n  return (+value * window.innerHeight) / 100\r\n}\r\n\r\nexport function unitToPx(value: string | number): number {\r\n  if (typeof value === \"number\") {\r\n    return value\r\n  }\r\n\r\n  if (value.includes(\"px\")) {\r\n    return convertPx(value)\r\n  }\r\n  if (value.includes(\"rem\")) {\r\n    return convertRem(value)\r\n  }\r\n  if (value.includes(\"vw\")) {\r\n    return convertVw(value)\r\n  }\r\n  if (value.includes(\"vh\")) {\r\n    return convertVh(value)\r\n  }\r\n\r\n  return parseFloat(value)\r\n}\r\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode } from \"react\"\r\nimport { demoPrefixClassname } from \"../styles/prefix\"\r\nimport \"./block.scss\"\r\n\r\ntype BlockVariant = \"card\"\r\n\r\ninterface BlockProps {\r\n  className?: string\r\n  variant?: BlockVariant\r\n  title?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function Block(props: BlockProps) {\r\n  const { className, variant, title, children } = props\r\n  return (\r\n    <View className={classNames(demoPrefixClassname(\"block\"), className)}>\r\n      {title && <View className={demoPrefixClassname(\"block__title\")} children={title} />}\r\n      <View\r\n        className={classNames({\r\n          [demoPrefixClassname(\"block__content\")]: variant !== \"card\",\r\n          [demoPrefixClassname(\"block__card\")]: variant === \"card\",\r\n        })}\r\n      >\r\n        {children}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n","import classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport { cloneElement, isValidElement, ReactElement, ReactNode } from \"react\"\r\nimport { ICON_TYPE, IconProps } from \"../shared\"\r\n\r\nexport function isIconElement(node?: ReactNode): boolean {\r\n  // Is`t not ReactElement\r\n  if (!isValidElement(node)) {\r\n    return false\r\n  }\r\n  const element = node as ReactElement\r\n  return _.hasIn(element.type, ICON_TYPE)\r\n}\r\n\r\nexport function cloneIconElement(node: ReactNode, props: IconProps): ReactNode {\r\n  if (!isIconElement(node)) {\r\n    return isValidElement(node) ? cloneElement(node, props) : node\r\n  }\r\n  const { className, ...restProps } = props\r\n  const element = node as ReactElement\r\n  const { props: oldProps } = element\r\n  const newProps: IconProps = {\r\n    ...oldProps,\r\n    className: classNames(oldProps.className, className),\r\n    ...restProps,\r\n  }\r\n  return cloneElement(element, newProps)\r\n}\r\n","import { prefixClassname } from \"./prefix\"\n\nexport const HAIRLINE_BORDER = prefixClassname(\"hairline\")\nexport const HAIRLINE_BORDER_TOP = `${HAIRLINE_BORDER}--top`\nexport const HAIRLINE_BORDER_LEFT = `${HAIRLINE_BORDER}--left`\nexport const HAIRLINE_BORDER_BOTTOM = `${HAIRLINE_BORDER}--bottom`\nexport const HAIRLINE_BORDER_SURROUND = `${HAIRLINE_BORDER}--surround`\nexport const HAIRLINE_BORDER_TOP_BOTTOM = `${HAIRLINE_BORDER}--top-bottom`\nexport const HAIRLINE_BORDER_UNSET_TOP_BOTTOM = `${HAIRLINE_BORDER}-unset--top-bottom`\n","import { Image as TaroImage, View } from \"@tarojs/components\"\r\nimport { StandardProps } from \"@tarojs/components/types/common\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport { ReactElement, ReactNode, useEffect, useState } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\nexport type ImageMode =\r\n  | \"scaleToFill\"\r\n  | \"aspectFit\"\r\n  | \"aspectFill\"\r\n  | \"widthFix\"\r\n  | \"heightFix\"\r\n  | \"top\"\r\n  | \"bottom\"\r\n  | \"center\"\r\n  | \"left\"\r\n  | \"right\"\r\n  | \"topLeft\"\r\n  | \"topRight\"\r\n  | \"bottomLeft\"\r\n  | \"bottomRight\"\r\n\r\nfunction toTaroMode(mode: ImageMode): string {\r\n  if (mode === \"topLeft\") {\r\n    return \"top left\"\r\n  }\r\n  if (mode === \"topRight\") {\r\n    return \"top right\"\r\n  }\r\n  if (mode === \"bottomLeft\") {\r\n    return \"bottom left\"\r\n  }\r\n  if (mode === \"bottomRight\") {\r\n    return \"bottom right\"\r\n  }\r\n  return mode\r\n}\r\n\r\ninterface ImagePlaceholderProps {\r\n  prefix: string\r\n  children?: ReactNode\r\n}\r\n\r\nfunction ImagePlaceholder({ prefix = \"placeholder\", children }: ImagePlaceholderProps) {\r\n  // Icon Element\r\n  if (React.isValidElement(children)) {\r\n    return (\r\n      <>\r\n        {React.cloneElement(children as ReactElement, {\r\n          className: classNames(\r\n            prefixClassname(`image__${prefix}`),\r\n            prefixClassname(`image__${prefix}-icon`),\r\n          ),\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n  // Text String\r\n  if (_.isString(children) || _.isNumber(children)) {\r\n    return <View className={prefixClassname(`image__${prefix}`)} children={children} />\r\n  }\r\n  return <></>\r\n}\r\n\r\ninterface ImageProps extends StandardProps {\r\n  src?: string\r\n  alt?: string\r\n  mode?: ImageMode\r\n  round?: boolean\r\n  lazyLoad?: boolean\r\n  placeholder?: boolean | ReactNode\r\n  fallback?: boolean | ReactNode\r\n}\r\n\r\nexport default function Image(props: ImageProps) {\r\n  const {\r\n    className,\r\n    src,\r\n    alt,\r\n    mode = \"scaleToFill\",\r\n    round = false,\r\n    lazyLoad = false,\r\n    placeholder = true,\r\n    fallback = true,\r\n    ...restProps\r\n  } = props\r\n  const taroMode = toTaroMode(mode)\r\n\r\n  const [loading, setLoading] = useState(false)\r\n  const [failed, setFailed] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n  }, [src])\r\n\r\n  function handleLoad() {\r\n    setLoading(false)\r\n  }\r\n\r\n  function handleError() {\r\n    setLoading(false)\r\n    setFailed(true)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!failed && src && (\r\n        <TaroImage\r\n          src={src as string}\r\n          mode={(taroMode as unknown) as undefined}\r\n          lazyLoad={lazyLoad}\r\n          className={classNames(\r\n            prefixClassname(\"image\"),\r\n            {\r\n              [prefixClassname(\"image--round\")]: round,\r\n              [prefixClassname(\"image--loading\")]: loading,\r\n            },\r\n            className,\r\n          )}\r\n          imgProps={{ alt }}\r\n          onError={handleError}\r\n          onLoad={handleLoad}\r\n          {...restProps}\r\n        />\r\n      )}\r\n      {loading && placeholder && (\r\n        <View className={classNames(prefixClassname(\"image\"), className)} {...restProps}>\r\n          <ImagePlaceholder prefix=\"placeholder\" children={placeholder} />\r\n        </View>\r\n      )}\r\n      {failed && fallback && (\r\n        <View className={classNames(prefixClassname(\"image\"), className)} {...restProps}>\r\n          <ImagePlaceholder prefix=\"fallback\" children={fallback} />\r\n        </View>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import { cloneIconElement, isIconElement } from \"@taroify/icons/utils\"\nimport { View } from \"@tarojs/components\"\nimport classNames from \"classnames\"\nimport * as _ from \"lodash\"\nimport * as React from \"react\"\nimport { ReactElement, ReactNode, useMemo } from \"react\"\nimport { prefixClassname } from \"../styles\"\n\nexport type BadgePosition = \"top-left\" | \"top-right\" | \"bottom-left\" | \"bottom-right\"\n\nexport interface BadgeProps {\n  className?: string\n  content?: ReactNode\n  dot?: boolean\n  max?: number\n  position?: BadgePosition\n  children?: ReactNode\n}\n\nfunction Badge(props: BadgeProps): JSX.Element {\n  const { className, content: contentProp, max, dot, position = \"top-right\", children } = props\n  const isIcon = useMemo(() => isIconElement(children), [children])\n  const hasChildren = children !== undefined\n  const noneChildren = children === undefined\n\n  const content = useMemo(\n    () =>\n      _.isNumber(contentProp)\n        ? _.toString(_.gt(contentProp, max) ? `${max}+` : contentProp)\n        : contentProp,\n    [contentProp, max],\n  )\n\n  return cloneIconElement(isIcon ? children : <View />, {\n    className: classNames(\n      {\n        [prefixClassname(\"badge__wrapper\")]: hasChildren,\n        [prefixClassname(\"badge\")]: noneChildren,\n        [prefixClassname(\"badge--dot\")]: noneChildren && dot,\n        [prefixClassname(\"badge--top-left\")]: noneChildren && position === \"top-left\",\n        [prefixClassname(\"badge--top-right\")]: noneChildren && position === \"top-right\",\n        [prefixClassname(\"badge--bottom-left\")]: noneChildren && position === \"bottom-left\",\n        [prefixClassname(\"badge--bottom-right\")]: noneChildren && position === \"bottom-right\",\n      },\n      className,\n    ),\n    children: (\n      <>\n        {!isIcon && children}\n        {noneChildren && !dot && content}\n        {hasChildren && (dot || content) && (\n          <View\n            className={classNames(\n              prefixClassname(\"badge\"),\n              {\n                [prefixClassname(\"badge--dot\")]: dot,\n                [prefixClassname(\"badge--content\")]: content,\n                [prefixClassname(\"badge--top-left\")]: position === \"top-left\",\n                [prefixClassname(\"badge--top-right\")]: position === \"top-right\",\n                [prefixClassname(\"badge--bottom-left\")]: position === \"bottom-left\",\n                [prefixClassname(\"badge--bottom-right\")]: position === \"bottom-right\",\n              },\n              prefixClassname(\"badge--fixed\"),\n            )}\n            children={!dot && content}\n          />\n        )}\n      </>\n    ),\n  }) as ReactElement\n}\n\nexport default Badge\n","import * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport { cloneElement, isValidElement, ReactElement, ReactNode } from \"react\"\r\nimport Badge, { BadgeProps } from \"./badge\"\r\n\r\ninterface BadgeChildren {\r\n  children?: ReactNode\r\n}\r\n\r\nfunction elementTypeOf(node: ReactNode, type: any) {\r\n  return isValidElement(node) && (node as ReactElement).type === type\r\n}\r\n\r\nexport default function useBadge(badge: ReactNode, props: BadgeProps = {}) {\r\n  if (_.isBoolean(badge) && badge) {\r\n    return ({ children }: BadgeChildren) => <Badge {...props} dot children={children} />\r\n  }\r\n\r\n  if (_.isNumber(badge) || _.isString(badge)) {\r\n    return ({ children }: BadgeChildren) => <Badge {...props} content={badge} children={children} />\r\n  }\r\n\r\n  if (elementTypeOf(badge, Badge)) {\r\n    return ({ children }: BadgeChildren) =>\r\n      cloneElement(badge as ReactElement, {\r\n        ...props,\r\n        children,\r\n      })\r\n  }\r\n  return ({ children }: BadgeChildren) => <Badge {...props} children={children} />\r\n}\r\n","import \"../../styles/style\"\r\nimport \"../../badge/style\"\r\nimport \"../index.scss\"\r\n","import { createContext } from \"react\"\n\ninterface GridContextProps {\n  bordered: boolean\n  columns: number\n  gutter?: number | string\n  centered: boolean\n  clickable: boolean\n  direction?: \"horizontal\" | \"vertical\"\n  square?: boolean\n}\n\nconst GridContext = createContext<GridContextProps>({\n  bordered: false,\n  columns: 0,\n  centered: false,\n  clickable: false,\n})\n\nexport default GridContext\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { Children, cloneElement, CSSProperties, ReactElement, ReactNode, useMemo } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { HAIRLINE_BORDER_TOP } from \"../styles/hairline\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport GridContext from \"./grid.context\"\r\nimport { GridDirection } from \"./grid.shared\"\r\n\r\nconst DEFAULT_GRID_COLUMNS = 4\r\n\r\nexport interface GridProps extends ViewProps {\r\n  style?: CSSProperties\r\n  columns?: number\r\n  gutter?: number | string\r\n  bordered?: boolean\r\n  centered?: boolean\r\n  clickable?: boolean\r\n  square?: boolean\r\n  direction?: GridDirection\r\n  children?: ReactNode\r\n}\r\n\r\nfunction Grid(props: GridProps) {\r\n  const {\r\n    className,\r\n    style: styleProp,\r\n    columns = DEFAULT_GRID_COLUMNS,\r\n    gutter,\r\n    bordered = true,\r\n    centered = true,\r\n    clickable = false,\r\n    direction = \"vertical\",\r\n    square,\r\n    children: childrenProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const children = useMemo(\r\n    () =>\r\n      Children.map(childrenProp, (item, index) =>\r\n        cloneElement(item as ReactElement, { __dataIndex__: index }),\r\n      ),\r\n    [childrenProp],\r\n  )\r\n\r\n  const rootStyle = useMemo(() => {\r\n    const style: CSSProperties = {\r\n      ...styleProp,\r\n    }\r\n    if (gutter) {\r\n      style.paddingLeft = addUnitPx(gutter)\r\n    }\r\n    return style\r\n  }, [gutter, styleProp])\r\n\r\n  return (\r\n    <View\r\n      style={rootStyle}\r\n      className={classNames(\r\n        prefixClassname(\"grid\"),\r\n        {\r\n          [HAIRLINE_BORDER_TOP]: bordered && gutter === undefined,\r\n        },\r\n        className,\r\n      )}\r\n      {...restProps}\r\n    >\r\n      <GridContext.Provider\r\n        value={{\r\n          bordered,\r\n          centered,\r\n          columns,\r\n          clickable,\r\n          direction,\r\n          gutter,\r\n          square,\r\n        }}\r\n      >\r\n        {children}\r\n      </GridContext.Provider>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Grid\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, ReactNode, useContext, useMemo } from \"react\"\r\nimport Badge from \"../badge\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { HAIRLINE_BORDER } from \"../styles/hairline\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport GridContext from \"./grid.context\"\r\n\r\nfunction useGridItemPercent(columns: number) {\r\n  return useMemo(() => `${100 / columns}%`, [columns])\r\n}\r\n\r\ninterface GridItemProps extends ViewProps {\r\n  __dataIndex__?: number\r\n  style?: CSSProperties\r\n  dot?: boolean\r\n  badge?: ReactNode\r\n  icon?: ReactNode\r\n  text?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport function GridItem(props: GridItemProps) {\r\n  const {\r\n    __dataIndex__ = 0,\r\n    className,\r\n    style: styleProp,\r\n    icon,\r\n    text,\r\n    dot,\r\n    badge,\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  const { columns, gutter, bordered, centered, clickable, direction, square } = useContext(\r\n    GridContext,\r\n  )\r\n  const percent = useGridItemPercent(columns)\r\n\r\n  const rootStyle = useMemo(() => {\r\n    const style: CSSProperties = {\r\n      ...styleProp,\r\n    }\r\n    style.flexBasis = `${percent}`\r\n    if (square) {\r\n      style.paddingTop = percent\r\n    } else if (gutter) {\r\n      const gutterValue = addUnitPx(gutter)\r\n      style.paddingRight = gutterValue\r\n\r\n      if (__dataIndex__ >= columns) {\r\n        style.marginTop = gutterValue\r\n      }\r\n    }\r\n    return style\r\n  }, [styleProp, percent, square, gutter, __dataIndex__, columns])\r\n\r\n  const contentStyle = useMemo(() => {\r\n    if (square && gutter) {\r\n      const gutterValue = addUnitPx(gutter)\r\n      return {\r\n        right: gutterValue,\r\n        bottom: gutterValue,\r\n        height: \"auto\",\r\n      }\r\n    }\r\n  }, [square, gutter])\r\n\r\n  return (\r\n    <View\r\n      className={classNames(\r\n        prefixClassname(\"grid-item\"),\r\n        {\r\n          [prefixClassname(\"grid-item--square\")]: square,\r\n        },\r\n        className,\r\n      )}\r\n      style={rootStyle}\r\n      {...restProps}\r\n    >\r\n      <View\r\n        style={contentStyle}\r\n        className={classNames(prefixClassname(\"grid-item__content\"), {\r\n          [prefixClassname(\"grid-item__content--square\")]: square,\r\n          [prefixClassname(\"grid-item__content--centered\")]: centered,\r\n          [prefixClassname(\"grid-item__content--clickable\")]: clickable,\r\n          [prefixClassname(\"grid-item__content--horizontal\")]: direction === \"horizontal\",\r\n          [prefixClassname(\"grid-item__content--surround\")]: bordered && gutter,\r\n          [HAIRLINE_BORDER]: bordered,\r\n        })}\r\n      >\r\n        {!children && (\r\n          <>\r\n            {icon && (\r\n              <Badge\r\n                className={prefixClassname(\"grid-item__icon\")}\r\n                dot={dot}\r\n                content={badge}\r\n                children={icon}\r\n              />\r\n            )}\r\n            <View className={prefixClassname(\"grid-item__text\")}>{text}</View>\r\n          </>\r\n        )}\r\n        {children}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default GridItem\r\n","import GridComponent, { GridProps } from \"./grid\"\r\nimport GridItem from \"./grid-item\"\r\n\r\ninterface GridInterface {\r\n  (props: GridProps): JSX.Element\r\n\r\n  Item: typeof GridItem\r\n}\r\n\r\nconst Grid = GridComponent as GridInterface\r\nGrid.Item = GridItem\r\n\r\nexport default Grid\r\n","import { Grid, Image } from \"@taroify/core\"\nimport { HomeOutlined, PhotoOutlined, Search } from \"@taroify/icons\"\nimport * as React from \"react\"\nimport Block from \"../../../components/block\"\nimport Page from \"../../../components/page\"\nimport \"./index.scss\"\n\nexport default function GridDemo() {\n  return (\n    <Page title=\"Grid 宫格\" className=\"grid-demo\">\n      <Block title=\"基础用法\">\n        <Grid columns={4}>\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n        </Grid>\n      </Block>\n      <Block title=\"自定义列数\">\n        <Grid columns={3}>\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n        </Grid>\n      </Block>\n      <Block title=\"自定义内容\">\n        <Grid columns={3} bordered={false}>\n          <Grid.Item>\n            <Image className=\"grid-image\" src=\"https://img.yzcdn.cn/vant/apple-1.jpg\" />\n          </Grid.Item>\n          <Grid.Item>\n            <Image className=\"grid-image\" src=\"https://img.yzcdn.cn/vant/apple-2.jpg\" />\n          </Grid.Item>\n          <Grid.Item>\n            <Image className=\"grid-image\" src=\"https://img.yzcdn.cn/vant/apple-3.jpg\" />\n          </Grid.Item>\n        </Grid>\n      </Block>\n      <Block title=\"正方形格子\">\n        <Grid columns={4} square>\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n        </Grid>\n      </Block>\n      <Block title=\"格子间距\">\n        <Grid columns={4} gutter={10}>\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n        </Grid>\n      </Block>\n      <Block title=\"内容横排\">\n        <Grid columns={3} direction=\"horizontal\">\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n          <Grid.Item icon={<PhotoOutlined />} text=\"文字\" />\n        </Grid>\n      </Block>\n      <Block title=\"徽标提示\">\n        <Grid columns={2}>\n          <Grid.Item icon={<HomeOutlined />} dot text=\"文字\" />\n          <Grid.Item icon={<Search />} badge=\"99+\" text=\"文字\" />\n        </Grid>\n      </Block>\n    </Page>\n  )\n}\n"],"sourceRoot":""}