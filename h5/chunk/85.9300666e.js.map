{"version":3,"sources":["webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isNumber.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isString.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isUndefined.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/toNumber.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/replace.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/uniqueId.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isEqual.js","webpack:///../../../../packages/core/src/utils/touch.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseTrim.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_trimmedEndIndex.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/clamp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseClamp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/ui/window.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/nodesRef.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/selectorQuery.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/index.js","webpack:///../../../../packages/core/src/slider/slider.context.ts","webpack:///../../../../packages/core/src/slider/slider-thumb.tsx","webpack:///../../../../packages/core/src/slider/slider.tsx","webpack:///../../../../packages/core/src/slider/index.ts","webpack:///../../../../packages/core/src/slider/style/index.ts","webpack:///./src/pages/form/slider/index.tsx"],"names":["baseGetTag","require","isObjectLike","module","exports","isNumber","value","isArray","isString","isUndefined","undefined","baseTrim","isObject","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","test","slice","toString","replace","args","arguments","string","length","idCounter","uniqueId","prefix","id","baseIsEqual","isEqual","emptyFunction","touchRef","useRef","startX","startY","deltaX","deltaY","offsetX","offsetY","isVertical","isHorizontal","start","move","reset","useCallback","TouchDirection","event","touch","Math","getDirection","x","y","useEffect","trimmedEndIndex","reTrimStart","reWhitespace","index","charAt","baseClamp","clamp","number","lower","upper","callbackManager","CallbackManager","resizeListener","trigger","windowWidth","window","screen","width","windowHeight","height","onWindowResize","temporarilyNotSupport","callback","add","count","addEventListener","offWindowResize","remove","removeEventListener","NodesRef","selector","querySelectorQuery","single","this","context","node","_component","_selector","_selectorQuery","_single","boundingClientRect","cb","_push","dataset","rect","size","scrollOffset","fields","properties","computedStyle","filter","dom","getBoundingClientRect","left","right","top","bottom","isViewport","res","Object","assign","clientWidth","clientHeight","scrollLeft","scrollTop","forEach","prop","attr","getAttribute","styles","getComputedStyle","key","getPropertyValue","SelectorQuery","_defaultWebviewId","_webviewId","_queue","_queueCb","component","select","selectAll","selectViewport","exec","queryBat","queue","result","item","_a","container","findDOM","document","selectSelf","$nodeList","parentNode","querySelectorAll","i","len","el","querySelector","push","$children","children","map","call","createSelectorQuery","createContext","SliderThumb","props","useContext","onTouchStart","onTouchMove","onTouchEnd","className","classNames","prefixClassname","style","getSizeStyle","catchMove","onTouchCancel","onClick","stopPropagation","SliderDragStatus","Slider","valueProp","min","max","step","range","orientation","disabled","onChangeProp","onChange","useValue","defaultValue","setValue","useSliderChildren","useMemo","__children__","thumb1","thumb2","Children","child","isValidElement","element","React","cloneElement","vertical","rootRef","dragStatusRef","startValueRef","currentValueRef","buttonIndexRef","useTouch","scope","Number","isRange","val","Array","calcMainAxis","calcOffset","wrapperStyle","crossAxis","addUnitPx","trackStyle","mainAxis","formatValue","diff","addNumber","updateValue","newValue","isSameValue","JSON","handleOverlap","ref","handleClick","getRect","getClientCoordinates","clientY","delta","clientX","total","SliderContext","preventDefault","StyledThumbSlider","useState","Thumb","SliderDemo","title","marginLeft"],"mappings":"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","file":"chunk/85.9300666e.js","sourcesContent":["var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var toString = require('./toString');\n\n/**\n * Replaces matches for `pattern` in `string` with `replacement`.\n *\n * **Note:** This method is based on\n * [`String#replace`](https://mdn.io/String/replace).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to modify.\n * @param {RegExp|string} pattern The pattern to replace.\n * @param {Function|string} replacement The match replacement.\n * @returns {string} Returns the modified string.\n * @example\n *\n * _.replace('Hi Fred', 'Fred', 'Barney');\n * // => 'Hi Barney'\n */\nfunction replace() {\n  var args = arguments,\n      string = toString(args[0]);\n\n  return args.length < 3 ? string : string.replace(args[1], args[2]);\n}\n\nmodule.exports = replace;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","import { ITouchEvent } from \"@tarojs/components\"\nimport { useCallback, useEffect, useRef } from \"react\"\n\nconst MIN_DISTANCE = 10\n\nexport enum TouchDirection {\n  Horizontal = \"horizontal\",\n  Vertical = \"vertical\",\n}\n\nfunction getDirection(x: number, y: number): TouchDirection | undefined {\n  if (x > y && x > MIN_DISTANCE) {\n    return TouchDirection.Horizontal\n  }\n  if (y > x && y > MIN_DISTANCE) {\n    return TouchDirection.Vertical\n  }\n}\n\nfunction emptyFunction() {}\n\nexport interface TouchRef {\n  startX: number\n  startY: number\n  deltaX: number\n  deltaY: number\n  offsetX: number\n  offsetY: number\n  direction?: TouchDirection\n\n  isVertical(): boolean\n\n  isHorizontal(): boolean\n\n  start(event: ITouchEvent): void\n\n  move(event: ITouchEvent): void\n\n  reset(): void\n}\n\nexport function useTouch() {\n  const touchRef = useRef<TouchRef>({\n    startX: 0,\n    startY: 0,\n    deltaX: 0,\n    deltaY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    isVertical: () => false,\n    isHorizontal: () => false,\n    start: emptyFunction,\n    move: emptyFunction,\n    reset: emptyFunction,\n  })\n\n  const isVertical = useCallback(() => touchRef.current.direction === TouchDirection.Vertical, [])\n\n  const isHorizontal = useCallback(\n    () => touchRef.current.direction === TouchDirection.Horizontal,\n    [],\n  )\n\n  const reset = useCallback(function () {\n    touchRef.current.deltaX = 0\n    touchRef.current.deltaY = 0\n    touchRef.current.offsetX = 0\n    touchRef.current.offsetY = 0\n    touchRef.current.direction = undefined\n  }, [])\n\n  const start = useCallback(\n    function (event: ITouchEvent) {\n      reset()\n      touchRef.current.startX = event.touches[0].clientX\n      touchRef.current.startY = event.touches[0].clientY\n    },\n    [reset],\n  )\n\n  const move = useCallback(function (event: ITouchEvent) {\n    const touch = event.touches[0]\n    // Fix: Safari back will set clientX to negative number\n    touchRef.current.deltaX = touch.clientX < 0 ? 0 : touch.clientX - touchRef.current.startX\n    touchRef.current.deltaY = touch.clientY - touchRef.current.startY\n    touchRef.current.offsetX = Math.abs(touchRef.current.deltaX)\n    touchRef.current.offsetY = Math.abs(touchRef.current.deltaY)\n\n    if (!touchRef.current.direction) {\n      touchRef.current.direction = getDirection(touchRef.current.offsetX, touchRef.current.offsetY)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (touchRef.current.isHorizontal !== isHorizontal) {\n      touchRef.current.isHorizontal = isHorizontal\n    }\n  }, [touchRef, isHorizontal])\n\n  useEffect(() => {\n    if (touchRef.current.isVertical !== isVertical) {\n      touchRef.current.isVertical = isVertical\n    }\n  }, [touchRef, isVertical])\n\n  useEffect(() => {\n    if (touchRef.current.reset !== reset) {\n      touchRef.current.reset = reset\n    }\n  }, [touchRef, reset])\n\n  useEffect(() => {\n    if (touchRef.current.start !== start) {\n      touchRef.current.start = start\n    }\n  }, [touchRef, start])\n\n  useEffect(() => {\n    if (touchRef.current.move !== move) {\n      touchRef.current.move = move\n    }\n  }, [touchRef, move])\n\n  return touchRef.current\n}\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","import { temporarilyNotSupport } from '../utils';\nimport { CallbackManager } from '../utils/handler';\nconst callbackManager = new CallbackManager();\nconst resizeListener = () => {\n    callbackManager.trigger({\n        windowWidth: window.screen.width,\n        windowHeight: window.screen.height\n    });\n};\nexport const setWindowSize = temporarilyNotSupport('setWindowSize');\nexport const onWindowResize = callback => {\n    callbackManager.add(callback);\n    if (callbackManager.count() === 1) {\n        window.addEventListener('resize', resizeListener);\n    }\n};\nexport const offWindowResize = callback => {\n    callbackManager.remove(callback);\n    if (callbackManager.count() === 0) {\n        window.removeEventListener('resize', resizeListener);\n    }\n};\n","import { temporarilyNotSupport } from '../utils';\nexport class NodesRef {\n    constructor(selector, querySelectorQuery, single) {\n        this.context = temporarilyNotSupport('NodesRef.context');\n        this.node = temporarilyNotSupport('NodesRef.node');\n        this._component = querySelectorQuery._component;\n        this._selector = selector;\n        this._selectorQuery = querySelectorQuery;\n        this._single = single;\n    }\n    boundingClientRect(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { id: !0, dataset: !0, rect: !0, size: !0 }, cb);\n        return _selectorQuery;\n    }\n    scrollOffset(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { id: !0, dataset: !0, scrollOffset: !0 }, cb);\n        return _selectorQuery;\n    }\n    fields(fields, cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        const { id, dataset, rect, size, scrollOffset, properties = [], computedStyle = [] } = fields;\n        _selectorQuery._push(_selector, _component, _single, {\n            id,\n            dataset,\n            rect,\n            size,\n            scrollOffset,\n            properties,\n            computedStyle\n        }, cb);\n        return _selectorQuery;\n    }\n}\n","import { findDOM } from '../utils';\nimport { NodesRef } from './nodesRef';\nfunction filter(fields, dom, selector) {\n    if (!dom)\n        return null;\n    const { id, dataset, rect, size, scrollOffset, properties = [], computedStyle = [] } = fields;\n    const { left, right, top, bottom, width, height } = dom.getBoundingClientRect();\n    const isViewport = selector === 'html';\n    const res = {};\n    if (id)\n        res.id = dom.id;\n    if (dataset)\n        res.dataset = Object.assign({}, dom.dataset);\n    if (rect) {\n        if (!isViewport) {\n            res.left = left;\n            res.right = right;\n            res.top = top;\n            res.bottom = bottom;\n        }\n        else {\n            res.left = 0;\n            res.right = 0;\n            res.top = 0;\n            res.bottom = 0;\n        }\n    }\n    if (size) {\n        if (!isViewport) {\n            res.width = width;\n            res.height = height;\n        }\n        else {\n            res.width = dom.clientWidth;\n            res.height = dom.clientHeight;\n        }\n    }\n    if (scrollOffset) {\n        res.scrollLeft = dom.scrollLeft;\n        res.scrollTop = dom.scrollTop;\n    }\n    if (properties.length) {\n        properties.forEach(prop => {\n            const attr = dom.getAttribute(prop);\n            if (attr)\n                res[prop] = attr;\n        });\n    }\n    if (computedStyle.length) {\n        const styles = window.getComputedStyle(dom);\n        computedStyle.forEach(key => {\n            const value = styles.getPropertyValue(key) || styles[key];\n            if (value)\n                res[key] = value;\n        });\n    }\n    return res;\n}\nfunction queryBat(queue, cb) {\n    const result = [];\n    queue.forEach(item => {\n        var _a;\n        const { selector, single, fields, component } = item;\n        const container = (component !== null ?\n            (findDOM(component) || document) :\n            document);\n        let selectSelf = false;\n        if (container !== document) {\n            const $nodeList = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.querySelectorAll(selector);\n            if ($nodeList) {\n                for (let i = 0, len = $nodeList.length; i < len; ++i) {\n                    if (container === $nodeList[i]) {\n                        selectSelf = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (single) {\n            const el = selectSelf === true ? container : container.querySelector(selector);\n            result.push(filter(fields, el, selector));\n        }\n        else {\n            const $children = container.querySelectorAll(selector);\n            const children = [];\n            selectSelf === true && children.push(container);\n            for (let i = 0, len = $children.length; i < len; ++i) {\n                children.push($children[i]);\n            }\n            result.push(children.map(dom => filter(fields, dom)));\n        }\n    });\n    cb(result);\n}\nexport class SelectorQuery {\n    constructor() {\n        this._defaultWebviewId = null;\n        this._webviewId = null;\n        this._queue = [];\n        this._queueCb = [];\n        this._component;\n    }\n    in(component) {\n        this._component = component;\n        return this;\n    }\n    select(selector) {\n        if (typeof selector === 'string')\n            selector = selector.replace('>>>', '>');\n        return new NodesRef(selector, this, true);\n    }\n    selectAll(selector) {\n        if (typeof selector === 'string')\n            selector = selector.replace('>>>', '>');\n        return new NodesRef(selector, this, false);\n    }\n    selectViewport() {\n        return new NodesRef('html', this, true);\n    }\n    exec(cb) {\n        queryBat(this._queue, res => {\n            const _queueCb = this._queueCb;\n            res.forEach((item, index) => {\n                const cb = _queueCb[index];\n                typeof cb === 'function' && cb.call(this, item);\n            });\n            typeof cb === 'function' && cb.call(this, res);\n        });\n        return this;\n    }\n    _push(selector, component, single, fields, callback = null) {\n        this._queue.push({\n            component,\n            selector,\n            single,\n            fields\n        });\n        this._queueCb.push(callback);\n    }\n}\n","import { temporarilyNotSupport } from '../utils';\nimport { SelectorQuery } from './selectorQuery';\nexport const createSelectorQuery = () => {\n    return new SelectorQuery();\n};\nexport const createIntersectionObserver = temporarilyNotSupport('createIntersectionObserver');\n","import { ITouchEvent } from \"@tarojs/components\"\r\nimport { createContext } from \"react\"\r\n\r\ninterface SliderContextValue {\r\n  onTouchStart?(event: ITouchEvent, index?: number): void\r\n\r\n  onTouchMove?(event: ITouchEvent, index?: number): void\r\n\r\n  onTouchEnd?(event: ITouchEvent, index?: number): void\r\n}\r\n\r\nconst SliderContext = createContext<SliderContextValue>({})\r\n\r\nexport default SliderContext\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode, useContext } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { stopPropagation } from \"../utils/dom/event\"\r\nimport { getSizeStyle } from \"../utils/format/unit\"\r\nimport SliderContext from \"./slider.context\"\r\n\r\nexport interface SliderThumbProps extends ViewProps {\r\n  size?: number\r\n  children?: ReactNode\r\n}\r\n\r\nexport interface InternalSliderThumbProps extends SliderThumbProps {\r\n  index?: number\r\n}\r\n\r\nfunction SliderThumb(props: SliderThumbProps) {\r\n  const { className, size, index, children, ...restProps } = props as InternalSliderThumbProps\r\n  const { onTouchStart, onTouchMove, onTouchEnd } = useContext(SliderContext)\r\n\r\n  return (\r\n    <View\r\n      className={classNames({\r\n        [prefixClassname(\"slider__thumb-wrapper\")]: index === undefined,\r\n        [prefixClassname(\"slider__thumb-wrapper-left\")]: index === 0,\r\n        [prefixClassname(\"slider__thumb-wrapper-right\")]: index === 1,\r\n      })}\r\n      style={{\r\n        ...getSizeStyle(size),\r\n      }}\r\n      catchMove\r\n      onTouchStart={(event) => onTouchStart?.(event, index)}\r\n      onTouchMove={(event) => onTouchMove?.(event, index)}\r\n      onTouchEnd={(event) => onTouchEnd?.(event, index)}\r\n      onTouchCancel={(event) => onTouchEnd?.(event, index)}\r\n      onClick={stopPropagation}\r\n    >\r\n      {\r\n        //\r\n        children ?? (\r\n          <View\r\n            className={classNames(prefixClassname(\"slider__thumb\"), className)}\r\n            {...restProps}\r\n          />\r\n        )\r\n      }\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default SliderThumb\r\n","import { ITouchEvent, View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport {\r\n  Children,\r\n  cloneElement,\r\n  CSSProperties,\r\n  isValidElement,\r\n  ReactElement,\r\n  ReactNode,\r\n  useCallback,\r\n  useMemo,\r\n  useRef,\r\n} from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { getClientCoordinates, preventDefault, stopPropagation } from \"../utils/dom/event\"\r\nimport { getRect } from \"../utils/dom/rect\"\r\nimport { addNumber } from \"../utils/format/number\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport { useValue } from \"../utils/state\"\r\nimport { useTouch } from \"../utils/touch\"\r\nimport SliderThumb from \"./slider-thumb\"\r\nimport SliderContext from \"./slider.context\"\r\n\r\ntype SliderValue = number | [number, number] | number[]\r\n\r\nenum SliderDragStatus {\r\n  Start = \"start\",\r\n  Dragging = \"dragging\",\r\n  End = \"end\",\r\n}\r\n\r\ntype SliderOrientation = \"horizontal\" | \"vertical\"\r\n\r\ninterface SliderChildren {\r\n  thumb1: ReactNode\r\n  thumb2: ReactNode\r\n}\r\n\r\nfunction useSliderChildren(children?: ReactNode, range?: boolean): SliderChildren {\r\n  return useMemo(() => {\r\n    const __children__: SliderChildren = {\r\n      thumb1: undefined,\r\n      thumb2: undefined,\r\n    }\r\n\r\n    Children.forEach(children, (child: ReactNode) => {\r\n      if (!isValidElement(child)) {\r\n        return\r\n      }\r\n      const element = child as ReactElement\r\n\r\n      if (__children__.thumb1 === undefined) {\r\n        __children__.thumb1 = element\r\n      } else if (__children__.thumb2 === undefined) {\r\n        __children__.thumb2 = element\r\n      }\r\n    })\r\n\r\n    __children__.thumb1 = __children__.thumb1 ?? <SliderThumb />\r\n\r\n    if (range) {\r\n      __children__.thumb1 = cloneElement(__children__.thumb1 as ReactElement, {\r\n        key: 0,\r\n        index: 0,\r\n      })\r\n\r\n      __children__.thumb2 = __children__.thumb2 ?? <SliderThumb />\r\n      __children__.thumb2 = cloneElement(__children__.thumb2 as ReactElement, {\r\n        key: 1,\r\n        index: 1,\r\n      })\r\n    } else {\r\n      __children__.thumb1 = cloneElement(__children__.thumb1 as ReactElement, {\r\n        index: undefined,\r\n      })\r\n    }\r\n\r\n    return __children__\r\n  }, [children, range])\r\n}\r\n\r\nexport interface SliderProps extends ViewProps {\r\n  style?: CSSProperties\r\n  step?: number\r\n  min?: number\r\n  max?: number\r\n  defaultValue?: any\r\n  value?: any\r\n  range?: boolean\r\n  size?: number\r\n  orientation?: SliderOrientation\r\n  disabled?: boolean\r\n  children?: ReactNode\r\n\r\n  onChange?(value: any): void\r\n}\r\n\r\nfunction Slider(props: SliderProps) {\r\n  const {\r\n    className,\r\n    style = {},\r\n    defaultValue,\r\n    value: valueProp = undefined,\r\n    min = 0,\r\n    max = 100,\r\n    step = 1,\r\n    range = false,\r\n    size,\r\n    orientation = \"horizontal\",\r\n    disabled = false,\r\n    children,\r\n    onClick,\r\n    onChange: onChangeProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const { value = 0, setValue } = useValue({\r\n    defaultValue,\r\n    value: valueProp,\r\n    onChange: onChangeProp,\r\n  })\r\n\r\n  const { thumb1, thumb2 } = useSliderChildren(children, range)\r\n\r\n  const vertical = orientation === \"vertical\"\r\n\r\n  const rootRef = useRef<HTMLElement>()\r\n\r\n  const dragStatusRef = useRef<SliderDragStatus>()\r\n\r\n  const startValueRef = useRef<SliderValue>(0)\r\n\r\n  const currentValueRef = useRef<SliderValue>(0)\r\n\r\n  const buttonIndexRef = useRef<number>()\r\n\r\n  const touch = useTouch()\r\n\r\n  const scope = useMemo(() => Number(max) - Number(min), [max, min])\r\n\r\n  const isRange = useCallback(\r\n    (val: unknown): val is [number, number] => range && Array.isArray(val),\r\n    [range],\r\n  )\r\n\r\n  // 计算选中条的长度百分比\r\n  const calcMainAxis = useCallback(() => {\r\n    if (isRange(value)) {\r\n      return `${((value[1] - value[0]) * 100) / scope}%`\r\n    }\r\n    return `${(((value as number) - Number(min)) * 100) / scope}%`\r\n  }, [isRange, min, scope, value])\r\n\r\n  // 计算选中条的开始位置的偏移量\r\n  const calcOffset = useCallback(() => {\r\n    if (isRange(value)) {\r\n      return `${((value[0] - Number(min)) * 100) / scope}%`\r\n    }\r\n    return \"0%\"\r\n  }, [isRange, min, scope, value])\r\n\r\n  const wrapperStyle = useMemo<CSSProperties>(() => {\r\n    const crossAxis = vertical ? \"width\" : \"height\"\r\n    return {\r\n      ...style,\r\n      [crossAxis]: addUnitPx(size) ?? \"\",\r\n    }\r\n  }, [size, style, vertical])\r\n\r\n  const trackStyle = useMemo<CSSProperties>(() => {\r\n    const mainAxis = vertical ? \"height\" : \"width\"\r\n    return {\r\n      [mainAxis]: calcMainAxis(),\r\n      left: vertical ? \"\" : calcOffset(),\r\n      top: vertical ? calcOffset() : \"\",\r\n      transition: dragStatusRef.current ? \"none\" : \"\",\r\n    }\r\n  }, [calcMainAxis, calcOffset, vertical])\r\n\r\n  const formatValue = (value: number) => {\r\n    value = _.clamp(value, min, max)\r\n    const diff = Math.round((value - min) / step) * step\r\n    return addNumber(min, diff)\r\n  }\r\n\r\n  const isSameValue = (newValue: SliderValue, oldValue: SliderValue) =>\r\n    JSON.stringify(newValue) === JSON.stringify(oldValue)\r\n\r\n  const handleOverlap = (value: [number, number]) => {\r\n    if (value[0] > value[1]) {\r\n      return value.slice(0).reverse()\r\n    }\r\n    return value\r\n  }\r\n\r\n  const updateValue = (newValue: SliderValue) => {\r\n    if (isRange(newValue)) {\r\n      newValue = handleOverlap(newValue).map(formatValue) as [number, number]\r\n    } else {\r\n      newValue = formatValue(newValue as number)\r\n    }\r\n\r\n    if (!isSameValue(newValue, value)) {\r\n      setValue(newValue as any)\r\n    }\r\n  }\r\n\r\n  const handleClick = (event: ITouchEvent) => {\r\n    onClick?.(event)\r\n    stopPropagation(event)\r\n\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    getRect(rootRef).then((rect) => {\r\n      const { clientX, clientY } = getClientCoordinates(event)\r\n\r\n      const delta = vertical ? clientY - rect.top : clientX - rect.left\r\n      const total = vertical ? rect.height : rect.width\r\n      const newValue = Number(min) + (delta / total) * scope\r\n\r\n      if (isRange(value)) {\r\n        const [left, right] = value\r\n        const middle = (left + right) / 2\r\n\r\n        if (newValue <= middle) {\r\n          updateValue([newValue, right])\r\n        } else {\r\n          updateValue([left, newValue])\r\n        }\r\n      } else {\r\n        updateValue(newValue)\r\n      }\r\n    })\r\n  }\r\n\r\n  const onTouchStart = (event: ITouchEvent, index?: number) => {\r\n    if (typeof index === \"number\") {\r\n      // save index of current button\r\n      buttonIndexRef.current = index\r\n    }\r\n\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    touch.start(event)\r\n    currentValueRef.current = value\r\n\r\n    if (isRange(currentValueRef.current)) {\r\n      startValueRef.current = currentValueRef.current.map(formatValue) as [number, number]\r\n    } else {\r\n      startValueRef.current = formatValue(currentValueRef.current as number)\r\n    }\r\n\r\n    dragStatusRef.current = SliderDragStatus.Start\r\n  }\r\n\r\n  const onTouchMove = (event: ITouchEvent) => {\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    preventDefault(event, true)\r\n    touch.move(event)\r\n    dragStatusRef.current = SliderDragStatus.Dragging\r\n\r\n    getRect(rootRef).then((rect) => {\r\n      const delta = vertical ? touch.deltaY : touch.deltaX\r\n      const total = vertical ? rect.height : rect.width\r\n      const diff = (delta / total) * scope\r\n\r\n      if (isRange(startValueRef.current)) {\r\n        ;(currentValueRef.current as [number, number])[buttonIndexRef.current as number] =\r\n          startValueRef.current[buttonIndexRef.current as number] + diff\r\n      } else {\r\n        currentValueRef.current = (startValueRef.current as number) + diff\r\n      }\r\n      updateValue(currentValueRef.current)\r\n    })\r\n  }\r\n\r\n  const onTouchEnd = () => {\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    if (dragStatusRef.current === SliderDragStatus.Dragging) {\r\n      updateValue(currentValueRef.current)\r\n    }\r\n\r\n    dragStatusRef.current = SliderDragStatus.End\r\n  }\r\n\r\n  return (\r\n    <View\r\n      ref={rootRef}\r\n      className={classNames(\r\n        classNames(prefixClassname(\"slider\"), {\r\n          [prefixClassname(\"slider--vertical\")]: vertical,\r\n          [prefixClassname(\"slider--disabled\")]: disabled,\r\n        }),\r\n        className,\r\n      )}\r\n      style={wrapperStyle}\r\n      onClick={handleClick}\r\n      {...restProps}\r\n    >\r\n      <SliderContext.Provider\r\n        value={{\r\n          onTouchStart,\r\n          onTouchMove,\r\n          onTouchEnd,\r\n        }}\r\n      >\r\n        <View className={prefixClassname(\"slider__track\")} style={trackStyle}>\r\n          {range ? [thumb1, thumb2] : thumb1}\r\n        </View>\r\n      </SliderContext.Provider>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Slider\r\n","import SliderComponent, { SliderProps } from \"./slider\"\r\nimport SliderThumb from \"./slider-thumb\"\r\n\r\nexport type { SliderProps } from \"./slider\"\r\n\r\ninterface SliderInterface {\r\n  (props: SliderProps): JSX.Element\r\n\r\n  Thumb: typeof SliderThumb\r\n}\r\n\r\nconst Slider = SliderComponent as SliderInterface\r\n\r\nSlider.Thumb = SliderThumb\r\n\r\nexport default Slider\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import { Slider } from \"@taroify/core\"\r\nimport { View } from \"@tarojs/components\"\r\nimport * as React from \"react\"\r\nimport { useState } from \"react\"\r\nimport Block from \"../../../components/block\"\r\nimport Page from \"../../../components/page\"\r\nimport \"./index.scss\"\r\n\r\nfunction StyledThumbSlider() {\r\n  const [value, setValue] = useState(50)\r\n  return (\r\n    <Slider className=\"custom-color\" value={value} onChange={setValue}>\r\n      <Slider.Thumb>\r\n        <View className=\"custom-thumb\">{value}</View>\r\n      </Slider.Thumb>\r\n    </Slider>\r\n  )\r\n}\r\n\r\nexport default function SliderDemo() {\r\n  return (\r\n    <Page title=\"Slider 滑块\" className=\"slider-demo\">\r\n      <Block title=\"基础用法\">\r\n        <Slider defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"双滑块\">\r\n        <Slider range defaultValue={[20, 60]} />\r\n      </Block>\r\n      <Block title=\"指定选择范围\">\r\n        <Slider min={-50} max={50} defaultValue={0} />\r\n      </Block>\r\n      <Block title=\"禁用\">\r\n        <Slider disabled defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"指定步长\">\r\n        <Slider step={10} defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"自定义样式\">\r\n        <Slider className=\"custom-color\" size={4} defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"自定义按钮\">\r\n        <StyledThumbSlider />\r\n      </Block>\r\n      <Block title=\"自定义样式\" className=\"vertical-slider\">\r\n        <Slider orientation=\"vertical\" defaultValue={50} />\r\n        <Slider\r\n          style={{ marginLeft: \"100px\" }}\r\n          range\r\n          orientation=\"vertical\"\r\n          defaultValue={[20, 60]}\r\n        />\r\n      </Block>\r\n    </Page>\r\n  )\r\n}\r\n"],"sourceRoot":""}