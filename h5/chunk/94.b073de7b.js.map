{"version":3,"sources":["webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/components/dist/esm-es5/taro-tabbar.entry.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/components/dist/esm-es5/index-85e10859.js"],"names":["isAbsolute","e","charAt","spliceOne","a","t","r","o","length","pop","splitUrl","path","query","fragment","indexOf","substring","TabbarItem","index","isSelected","textColor","n","iconPath","s","badgeText","i","showRedDot","l","b","text","d","onSelect","c","classnames","h","key","href","class","onClick","v","style","display","position","src","alt","top","right","color","Taro","require","addLeadingSlash","stripBasename","hasBasename","RegExp","test","substr","Tabbar","this","registerInstance","onLongPress","createEvent","homePage","customRoutes","tabbarPos","selectedIndex","status","getOriginUrl","filter","getSelectedIndex","list","forEach","pagePath","switchTab","url","switchTabHandler","successHandler","errorHandler","resolvePathname","undefined","split","concat","unshift","join","getCurrentUrl","errMsg","routerChangeHandler","toLocation","conf","basename","setTabBarBadgeHandler","removeTabBarBadgeHandler","showTabBarRedDotHandler","hideTabBarRedDotHandler","showTabBarHandler","hideTabBarHandler","animation","Object","prototype","toString","call","Error","push","mode","window","location","pathname","bindEvent","eventCenter","on","removeEvent","off","componentDidLoad","tabbar","nextElementSibling","disconnectedCallback","render","borderStyle","Host","basicTabBarClassName","backgroundColor","map","selectedColor","selectedIconPath","bind","defineProperty","get","getElement","enumerable","configurable","createCommonjsModule","exports","commonjsRequire","hasOwnProperty","arguments","Array","isArray","apply","u","default","classNames"],"mappings":"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","file":"chunk/94.b073de7b.js","sourcesContent":["import{h,r as registerInstance,c as createEvent,H as Host,g as getElement}from\"./index-165a6222.js\";import{c as classnames}from\"./index-85e10859.js\";function isAbsolute(e){return e.charAt(0)===\"/\"}function spliceOne(e,a){for(var t=a,r=t+1,o=e.length;r<o;t+=1,r+=1){e[t]=e[r]}e.pop()}function resolvePathname(e,a){if(a===undefined)a=\"\";var t=e&&e.split(\"/\")||[];var r=a&&a.split(\"/\")||[];var o=e&&isAbsolute(e);var n=a&&isAbsolute(a);var s=o||n;if(e&&isAbsolute(e)){r=t}else if(t.length){r.pop();r=r.concat(t)}if(!r.length)return\"/\";var i;if(r.length){var l=r[r.length-1];i=l===\".\"||l===\"..\"||l===\"\"}else{i=false}var b=0;for(var d=r.length;d>=0;d--){var h=r[d];if(h===\".\"){spliceOne(r,d)}else if(h===\"..\"){spliceOne(r,d);b++}else if(b){spliceOne(r,d);b--}}if(!s)for(;b--;b)r.unshift(\"..\");if(s&&r[0]!==\"\"&&(!r[0]||!isAbsolute(r[0])))r.unshift(\"\");var c=r.join(\"/\");if(i&&c.substr(-1)!==\"/\")c+=\"/\";return c}var splitUrl=function(e){var a=e||\"\";var t;var r={path:null,query:null,fragment:null};t=a.indexOf(\"#\");if(t>-1){r.fragment=a.substring(t+1);a=a.substring(0,t)}t=a.indexOf(\"?\");if(t>-1){r.query=a.substring(t+1);a=a.substring(0,t)}r.path=a;return r};var TabbarItem=function(e){var a=e.index,t=e.isSelected,r=t===void 0?false:t,o=e.textColor,n=e.iconPath,s=e.badgeText,i=e.showRedDot,l=i===void 0?false:i,b=e.text,d=e.onSelect;var c=classnames(\"weui-tabbar__item\",{\"weui-bar__item_on\":r});var f={position:\"absolute\",top:\"-2px\",right:\"-13px\"};var u={position:\"absolute\",top:\"0\",right:\"-6px\"};function v(){d(a)}return h(\"a\",{key:a,href:\"javascript:;\",class:c,onClick:v},h(\"span\",{style:{display:\"inline-block\",position:\"relative\"}},h(\"img\",{src:n,alt:\"\",class:\"weui-tabbar__icon\"}),!!s&&h(\"span\",{class:\"weui-badge taro-tabbar-badge\",style:f},s),l&&h(\"span\",{class:\"weui-badge weui-badge_dot\",style:u})),h(\"p\",{class:\"weui-tabbar__label\",style:{color:o}},b))};var indexCss=\"html,body{height:100%}#app{height:100%}.taro-tabbar__border-white::before{border-top-color:#fff !important}.taro-tabbar__container{display:-ms-flexbox;display:flex;height:100%;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.taro-tabbar__panel{-ms-flex:1;flex:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch}.taro-tabbar__tabbar{position:relative;height:50px;width:100%;-webkit-transition:bottom 0.2s, top 0.2s;transition:bottom 0.2s, top 0.2s}.taro-tabbar__tabbar-top{top:0}.taro-tabbar__tabbar-bottom{bottom:0}.taro-tabbar__tabbar-hide{display:none}.taro-tabbar__tabbar-slideout{top:-52px;-ms-flex:0 0;flex:0 0}.taro-tabbar__panel+.taro-tabbar__tabbar-slideout{top:auto;bottom:-52px}\";var Taro=require(\"@tarojs/taro\");var addLeadingSlash=function(e){return e[0]===\"/\"?e:\"/\"+e};var hasBasename=function(e,a){return new RegExp(\"^\"+a+\"(\\\\/|\\\\?|#|$)\",\"i\").test(e)};var stripBasename=function(e,a){return hasBasename(e,a)?e.substr(a.length):e};var STATUS_SHOW=0;var STATUS_HIDE=1;var STATUS_SLIDEOUT=2;var basicTabBarClassName=\"taro-tabbar__tabbar\";var hideTabBarClassName=\"taro-tabbar__tabbar-hide\";var hideTabBarWithAnimationClassName=\"taro-tabbar__tabbar-slideout\";var Tabbar=function(){function e(e){var a=this;registerInstance(this,e);this.onLongPress=createEvent(this,\"longpress\",7);this.homePage=\"\";this.customRoutes=[];this.tabbarPos=\"bottom\";this.selectedIndex=-1;this.status=STATUS_SHOW;this.getOriginUrl=function(e){var t=a.customRoutes.filter((function(a){var t=a[1];var r=splitUrl(t).path;var o=splitUrl(e).path;return r===o}));return t.length?t[0][0]:e};this.getSelectedIndex=function(e){var t=-1;a.list.forEach((function(a,r){var o=a.pagePath;var n=splitUrl(e).path;var s=splitUrl(o).path;if(n===s){t=r}}));return t};this.switchTab=function(e){a.selectedIndex=e;Taro.switchTab({url:a.list[e].pagePath})};this.switchTabHandler=function(e){var t=e.url,r=e.successHandler,o=e.errorHandler;var n=a.getOriginUrl(a.getCurrentUrl()||a.homePage);var s=resolvePathname(t,n);var i=a.getSelectedIndex(s);if(i>-1){a.switchTab(i);r({errMsg:\"switchTab:ok\"})}else{o({errMsg:'switchTab:fail page \"'+s+'\" is not found'})}};this.routerChangeHandler=function(e){var t;var r;if(e){t=e.toLocation}if(t&&t.path){var o=addLeadingSlash(t.path);r=stripBasename(o===\"/\"?a.homePage:o,a.conf.basename||\"/\")}else{r=a.getCurrentUrl()}a.selectedIndex=a.getSelectedIndex(a.getOriginUrl(r))};this.setTabBarBadgeHandler=function(e){var t=e.index,r=e.text,o=e.errorHandler;var n=a.list;if(t in n){a.list[t].showRedDot=false;a.list[t].badgeText=r}else{o({errMsg:\"setTabBarBadge:fail tabbar item not found\"})}};this.removeTabBarBadgeHandler=function(e){var t=e.index,r=e.successHandler,o=e.errorHandler;var n=a.list;if(t in n){a.list[t].badgeText=null;a.list[t].badgeText=null;r({errMsg:\"removeTabBarBadge:ok\"})}else{o({errMsg:\"removeTabBarBadge:fail tabbar item not found\"})}};this.showTabBarRedDotHandler=function(e){var t=e.index,r=e.successHandler,o=e.errorHandler;var n=a.list;if(t in n){n[t].badgeText=null;n[t].showRedDot=true;r({errMsg:\"showTabBarRedDot:ok\"})}else{o({errMsg:\"showTabBarRedDot:fail tabbar item not found\"})}};this.hideTabBarRedDotHandler=function(e){var t=e.index,r=e.successHandler,o=e.errorHandler;var n=a.list;if(t in n){n[t].showRedDot=false;r({errMsg:\"hideTabBarRedDot:ok\"})}else{o({errMsg:\"hideTabBarRedDot:fail tabbar item not found\"})}};this.showTabBarHandler=function(e){var t=e.successHandler;a.status=STATUS_SHOW;t({errMsg:\"showTabBar:ok\"})};this.hideTabBarHandler=function(e){var t=e.animation,r=e.successHandler;a.status=t?STATUS_SLIDEOUT:STATUS_HIDE;r({errMsg:\"hideTabBar:ok\"})};var t=this.conf.list;var r=this.conf.customRoutes;if(Object.prototype.toString.call(t)!==\"[object Array]\"||t.length<2||t.length>5){throw new Error(\"tabBar 配置错误\")}this.homePage=addLeadingSlash(this.conf.homePage);for(var o in r){this.customRoutes.push([o,r[o]])}t.forEach((function(e){if(e.pagePath.indexOf(\"/\")!==0){e.pagePath=\"/\"+e.pagePath}}));this.list=t}e.prototype.getCurrentUrl=function(){var e=this.conf.mode;var a=this.conf.basename||\"/\";var t;if(e===\"hash\"){var r=window.location.href;var o=r.indexOf(\"#\");t=o===-1?\"\":r.substring(o+1)}else{t=location.pathname}var n=addLeadingSlash(stripBasename(t,a));return n===\"/\"?this.homePage:n};e.prototype.bindEvent=function(){Taro.eventCenter.on(\"__taroRouterChange\",this.routerChangeHandler);Taro.eventCenter.on(\"__taroSwitchTab\",this.switchTabHandler);Taro.eventCenter.on(\"__taroSetTabBarBadge\",this.setTabBarBadgeHandler);Taro.eventCenter.on(\"__taroRemoveTabBarBadge\",this.removeTabBarBadgeHandler);Taro.eventCenter.on(\"__taroShowTabBarRedDotHandler\",this.showTabBarRedDotHandler);Taro.eventCenter.on(\"__taroHideTabBarRedDotHandler\",this.hideTabBarRedDotHandler);Taro.eventCenter.on(\"__taroShowTabBar\",this.showTabBarHandler);Taro.eventCenter.on(\"__taroHideTabBar\",this.hideTabBarHandler)};e.prototype.removeEvent=function(){Taro.eventCenter.off(\"__taroRouterChange\",this.routerChangeHandler);Taro.eventCenter.off(\"__taroSwitchTab\",this.switchTabHandler);Taro.eventCenter.off(\"__taroSetTabBarBadge\",this.setTabBarBadgeHandler);Taro.eventCenter.off(\"__taroRemoveTabBarBadge\",this.removeTabBarBadgeHandler);Taro.eventCenter.off(\"__taroShowTabBarRedDotHandler\",this.showTabBarRedDotHandler);Taro.eventCenter.off(\"__taroHideTabBarRedDotHandler\",this.hideTabBarRedDotHandler);Taro.eventCenter.off(\"__taroShowTabBar\",this.showTabBarHandler);Taro.eventCenter.off(\"__taroHideTabBar\",this.hideTabBarHandler)};e.prototype.componentDidLoad=function(){this.tabbarPos=this.tabbar.nextElementSibling?\"top\":\"bottom\";this.bindEvent();this.routerChangeHandler()};e.prototype.disconnectedCallback=function(){this.removeEvent()};e.prototype.render=function(){var e,a;var t=this;var r=this,o=r.conf,n=r.tabbarPos,s=n===void 0?\"bottom\":n;var i=this.status;var l=classnames(\"weui-tabbar\",(e={},e[\"taro-tabbar__border-\"+(o.borderStyle||\"black\")]=true,e));var b=this.selectedIndex===-1||i===STATUS_HIDE;var d=i===STATUS_SLIDEOUT;return h(Host,{class:classnames(basicTabBarClassName,basicTabBarClassName+\"-\"+s,(a={},a[hideTabBarClassName]=b,a[hideTabBarWithAnimationClassName]=d,a))},h(\"div\",{class:l,style:{backgroundColor:o.backgroundColor||\"\"}},this.list.map((function(e,a){var r=t.selectedIndex===a;var n;var s;if(r){n=o.selectedColor;s=e.selectedIconPath}else{n=o.color||\"\";s=e.iconPath}return h(TabbarItem,{index:a,onSelect:t.switchTab.bind(t),isSelected:r,textColor:n,iconPath:s,text:e.text,badgeText:e.badgeText,showRedDot:e.showRedDot})}))))};Object.defineProperty(e.prototype,\"tabbar\",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();Tabbar.style=indexCss;export{Tabbar as taro_tabbar};","function createCommonjsModule(r,e,o){return o={path:e,exports:{},require:function(r,e){return commonjsRequire()}},r(o,o.exports),o.exports}function commonjsRequire(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}var classnames=createCommonjsModule((function(r){\n/*!\n    Copyright (c) 2018 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n(function(){var e={}.hasOwnProperty;function o(){var r=[];for(var n=0;n<arguments.length;n++){var t=arguments[n];if(!t)continue;var s=typeof t;if(s===\"string\"||s===\"number\"){r.push(t)}else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);if(i){r.push(i)}}}else if(s===\"object\"){if(t.toString===Object.prototype.toString){for(var u in t){if(e.call(t,u)&&t[u]){r.push(u)}}}else{r.push(t.toString())}}}return r.join(\" \")}if(r.exports){o.default=o;r.exports=o}else{window.classNames=o}})()}));export{classnames as c};"],"sourceRoot":""}