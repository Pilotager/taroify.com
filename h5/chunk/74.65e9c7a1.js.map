{"version":3,"sources":["webpack:///../../../../packages/icons/src/utils/unit.ts","webpack:///../../../../packages/icons/src/van/VanIcon.tsx","webpack:///../../../../packages/core/src/styles/index.ts","webpack:///../../../../packages/core/src/utils/format/unit.ts","webpack:///./src/styles/prefix.ts","webpack:///../../../../packages/core/src/styles/prefix.ts","webpack:///../../../../packages/icons/src/ArrowLeft.tsx","webpack:///../../../../packages/icons/src/shared.ts","webpack:///./src/components/block.tsx","webpack:///./src/components/target.tsx","webpack:///./src/components/page.tsx","webpack:///../../../../packages/core/src/image/image.tsx","webpack:///../../../../packages/core/src/image/style/index.ts","webpack:///../../../../packages/core/src/flex/style/index.ts","webpack:///../../../../packages/core/src/flex/flex.context.ts","webpack:///../../../../packages/core/src/flex/index.ts","webpack:///../../../../packages/core/src/flex/flex.tsx","webpack:///../../../../packages/core/src/flex/flex-item.tsx","webpack:///./src/pages/basic/image/index.tsx"],"names":["value","convertPx","convertRem","getRootFontSize","doc","document","fontSize","window","rootFontSize","parseFloat","convertVw","convertVh","unitToPx","size","color","presetColor","ICON_PRESET_COLORS","presetSize","ICON_PRESET_SIZES","className","classNames","style","addUnitPx","name","VanIconWrapper","width","height","demoPrefixClassname","component","ArrowLeft","createVanIconComponent","ICON_TYPE","Symbol","Block","props","variant","title","children","TargetType","Target","type","process","Page","onClick","navigateBack","ImagePlaceholder","prefix","React","prefixClassname","mode","round","lazyLoad","placeholder","fallback","taroMode","toTaroMode","useState","useEffect","setLoading","failed","src","loading","imgProps","alt","onError","setFailed","onLoad","createContext","gutter","undefined","Flex","direction","wrap","justify","align","useFlexGutter","useMemo","gutterNumber","gutterStyle","averagePadding","FlexContext","offset","gutters","useContext","horizontalGutter","span","ImageDemo","imageUrl","modes","map","Item"],"mappings":"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","file":"chunk/74.65e9c7a1.js","sourcesContent":["export function addUnitPx(value?: string | number): string {\r\n  return value === undefined ? \"\" : `${unitToPx(value)}px`\r\n}\r\n\r\n// cache\r\nlet rootFontSize: number\r\n\r\nfunction getRootFontSize() {\r\n  if (!rootFontSize) {\r\n    const doc = document.documentElement\r\n    const fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize\r\n\r\n    rootFontSize = parseFloat(fontSize)\r\n  }\r\n\r\n  return rootFontSize\r\n}\r\n\r\nfunction convertPx(value: string) {\r\n  value = value.replace(/px/g, \"\")\r\n  return +value\r\n}\r\n\r\nfunction convertRem(value: string) {\r\n  value = value.replace(/rem/g, \"\")\r\n  return +value * getRootFontSize()\r\n}\r\n\r\nfunction convertVw(value: string) {\r\n  value = value.replace(/vw/g, \"\")\r\n  return (+value * window.innerWidth) / 100\r\n}\r\n\r\nfunction convertVh(value: string) {\r\n  value = value.replace(/vh/g, \"\")\r\n  return (+value * window.innerHeight) / 100\r\n}\r\n\r\nexport function unitToPx(value: string | number): number {\r\n  if (typeof value === \"number\") {\r\n    return value\r\n  }\r\n\r\n  if (value.includes(\"px\")) {\r\n    return convertPx(value)\r\n  }\r\n  if (value.includes(\"rem\")) {\r\n    return convertRem(value)\r\n  }\r\n  if (value.includes(\"vw\")) {\r\n    return convertVw(value)\r\n  }\r\n  if (value.includes(\"vh\")) {\r\n    return convertVh(value)\r\n  }\r\n\r\n  return parseFloat(value)\r\n}\r\n","import { View } from \"@tarojs/components\"\nimport { ViewProps } from \"@tarojs/components/types/View\"\nimport classNames from \"classnames\"\nimport * as React from \"react\"\nimport { CSSProperties, ReactNode } from \"react\"\nimport {\n  ICON_PRESET_COLORS,\n  ICON_PRESET_SIZES,\n  ICON_TYPE,\n  IconColor,\n  IconProps,\n  IconSize,\n} from \"../shared\"\nimport { addUnitPx } from \"../utils/unit\"\n\ninterface VanIconProps extends ViewProps {\n  className?: string\n  style?: CSSProperties\n  name?: string\n  size?: IconSize | number | string\n  color?: IconColor | string\n  children?: ReactNode\n}\n\nexport default function VanIcon(props: VanIconProps) {\n  const { className, style, name, size = \"inherit\", color = \"inherit\", ...restProps } = props\n  const presetColor = ICON_PRESET_COLORS.includes(color as IconColor)\n  const presetSize = ICON_PRESET_SIZES.includes(size as IconSize)\n\n  return (\n    <View\n      className={classNames(\n        \"van-icon\",\n        `van-icon-${name}`,\n        \"taroify-icon\",\n        {\n          [`taroify-icon--${color}`]: presetColor,\n          [`taroify-icon--${size}`]: presetSize,\n        },\n        className,\n      )}\n      style={{\n        color: presetColor ? \"\" : color,\n        fontSize: presetSize ? \"\" : addUnitPx(size),\n        ...style,\n      }}\n      {...restProps}\n    />\n  )\n}\n\nexport function createVanIconComponent(name: string) {\n  function VanIconWrapper(props: IconProps) {\n    return <VanIcon name={name} {...props} />\n  }\n\n  // @ts-ignore\n  VanIconWrapper[ICON_TYPE] = ICON_TYPE\n  return VanIconWrapper\n}\n","export { prefixClassname } from \"./prefix\"\n","import * as _ from \"lodash\"\r\nimport { CSSProperties } from \"react\"\r\n\r\nexport function addUnitPx(value?: string | number): string {\r\n  return value === undefined ? \"\" : `${unitToPx(value)}px`\r\n}\r\n\r\nexport function getSizeStyle(originSize?: string | number): CSSProperties | undefined {\r\n  if (_.isNumber(originSize) || _.isString(originSize)) {\r\n    const size = addUnitPx(originSize)\r\n    return {\r\n      width: size,\r\n      height: size,\r\n    }\r\n  }\r\n  return {}\r\n}\r\n\r\nexport function getZIndexStyle(zIndex?: string | number) {\r\n  const style: CSSProperties = {}\r\n  if (zIndex !== undefined) {\r\n    style.zIndex = +zIndex\r\n  }\r\n  return style\r\n}\r\n\r\n// cache\r\nlet rootFontSize: number\r\n\r\nfunction getRootFontSize() {\r\n  if (!rootFontSize) {\r\n    const doc = document.documentElement\r\n    const fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize\r\n\r\n    rootFontSize = parseFloat(fontSize)\r\n  }\r\n\r\n  return rootFontSize\r\n}\r\n\r\nfunction convertPx(value: string) {\r\n  value = value.replace(/px/g, \"\")\r\n  return +value\r\n}\r\n\r\nfunction convertRem(value: string) {\r\n  value = value.replace(/rem/g, \"\")\r\n  return +value * getRootFontSize()\r\n}\r\n\r\nfunction convertVw(value: string) {\r\n  value = value.replace(/vw/g, \"\")\r\n  return (+value * window.innerWidth) / 100\r\n}\r\n\r\nfunction convertVh(value: string) {\r\n  value = value.replace(/vh/g, \"\")\r\n  return (+value * window.innerHeight) / 100\r\n}\r\n\r\nexport function unitToPx(value: string | number): number {\r\n  if (typeof value === \"number\") {\r\n    return value\r\n  }\r\n\r\n  if (value.includes(\"px\")) {\r\n    return convertPx(value)\r\n  }\r\n  if (value.includes(\"rem\")) {\r\n    return convertRem(value)\r\n  }\r\n  if (value.includes(\"vw\")) {\r\n    return convertVw(value)\r\n  }\r\n  if (value.includes(\"vh\")) {\r\n    return convertVh(value)\r\n  }\r\n\r\n  return parseFloat(value)\r\n}\r\n","const DEMO_PREFIX = \"taroify-demo-\"\n\nexport function demoPrefixClassname(component: string) {\n  return `${DEMO_PREFIX}${component}`\n}\n","const COMPONENT_PREFIX = \"taroify-\"\n\nexport function prefixClassname(component: string) {\n  return `${COMPONENT_PREFIX}${component}`\n}\n","import { createVanIconComponent } from \"./van\"\r\n\r\nconst ArrowLeft = createVanIconComponent(\"arrow-left\")\r\nexport default ArrowLeft\r\n","import { ViewProps } from \"@tarojs/components/types/View\"\r\nimport { CSSProperties, ReactNode } from \"react\"\r\n\r\nexport const ICON_TYPE = Symbol(\"__iconType__\")\r\n\r\nexport type IconSize = \"inherit\" | \"mini\" | \"small\" | \"medium\" | \"large\"\r\n\r\nexport const ICON_PRESET_SIZES = [\"inherit\", \"mini\", \"small\", \"medium\", \"large\"]\r\n\r\nexport type IconColor =\r\n  | \"inherit\"\r\n  | \"default\"\r\n  | \"primary\"\r\n  | \"info\"\r\n  | \"success\"\r\n  | \"warning\"\r\n  | \"danger\"\r\n\r\nexport const ICON_PRESET_COLORS = [\r\n  \"inherit\",\r\n  \"default\",\r\n  \"primary\",\r\n  \"info\",\r\n  \"success\",\r\n  \"warning\",\r\n  \"danger\",\r\n]\r\n\r\nexport interface IconProps extends ViewProps {\r\n  className?: string\r\n  style?: CSSProperties\r\n  size?: IconSize | number | string\r\n  color?: IconColor | string\r\n  children?: ReactNode\r\n}\r\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode } from \"react\"\r\nimport { demoPrefixClassname } from \"../styles/prefix\"\r\nimport \"./block.scss\"\r\n\r\ntype BlockVariant = \"card\"\r\n\r\ninterface BlockProps {\r\n  className?: string\r\n  variant?: BlockVariant\r\n  title?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function Block(props: BlockProps) {\r\n  const { className, variant, title, children } = props\r\n  return (\r\n    <View className={classNames(demoPrefixClassname(\"block\"), className)}>\r\n      {title && <View className={demoPrefixClassname(\"block__title\")} children={title} />}\r\n      <View\r\n        className={classNames({\r\n          [demoPrefixClassname(\"block__content\")]: variant !== \"card\",\r\n          [demoPrefixClassname(\"block__card\")]: variant === \"card\",\r\n        })}\r\n      >\r\n        {children}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n","import * as React from \"react\"\nimport { ReactNode } from \"react\"\n\n/* eslint-disable  no-shadow */\nexport enum TargetType {\n  /* eslint-enable  no-shadow */\n  H5 = \"h5\",\n}\n\ntype TargetTypeString = \"h5\"\n\ninterface TargetProps {\n  type?: TargetType | TargetTypeString\n  children?: ReactNode\n}\n\nexport default function Target(props: TargetProps) {\n  const { type, children } = props\n  return <>{type === process.env.TARO_ENV && children}</>\n}\n","import ArrowLeft from \"@taroify/icons/ArrowLeft\"\nimport { View } from \"@tarojs/components\"\nimport { navigateBack } from \"@tarojs/taro\"\nimport classNames from \"classnames\"\nimport * as React from \"react\"\nimport { ReactNode } from \"react\"\nimport { demoPrefixClassname } from \"../styles/prefix\"\nimport \"./page.scss\"\nimport Target from \"./target\"\n\ninterface PageProps {\n  className?: string\n  title?: string\n  children: ReactNode\n}\n\nexport default function Page(props: PageProps) {\n  const { className, title, children } = props\n\n  return (\n    <View className={classNames(demoPrefixClassname(\"page\"), className)}>\n      <Target type=\"h5\">\n        <View className={demoPrefixClassname(\"page__nav\")}>\n          <ArrowLeft\n            className={demoPrefixClassname(\"page__nav__back\")}\n            onClick={() => navigateBack()}\n          />\n          <View className={demoPrefixClassname(\"page__nav__title\")}>{title} </View>\n        </View>\n      </Target>\n      <View className={demoPrefixClassname(\"page__content\")}>{children}</View>\n    </View>\n  )\n}\n","import { Image as TaroImage, View } from \"@tarojs/components\"\r\nimport { StandardProps } from \"@tarojs/components/types/common\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport { ReactElement, ReactNode, useEffect, useState } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\nexport type ImageMode =\r\n  | \"scaleToFill\"\r\n  | \"aspectFit\"\r\n  | \"aspectFill\"\r\n  | \"widthFix\"\r\n  | \"heightFix\"\r\n  | \"top\"\r\n  | \"bottom\"\r\n  | \"center\"\r\n  | \"left\"\r\n  | \"right\"\r\n  | \"topLeft\"\r\n  | \"topRight\"\r\n  | \"bottomLeft\"\r\n  | \"bottomRight\"\r\n\r\nfunction toTaroMode(mode: ImageMode): string {\r\n  if (mode === \"topLeft\") {\r\n    return \"top left\"\r\n  }\r\n  if (mode === \"topRight\") {\r\n    return \"top right\"\r\n  }\r\n  if (mode === \"bottomLeft\") {\r\n    return \"bottom left\"\r\n  }\r\n  if (mode === \"bottomRight\") {\r\n    return \"bottom right\"\r\n  }\r\n  return mode\r\n}\r\n\r\ninterface ImagePlaceholderProps {\r\n  prefix: string\r\n  children?: ReactNode\r\n}\r\n\r\nfunction ImagePlaceholder({ prefix = \"placeholder\", children }: ImagePlaceholderProps) {\r\n  // Icon Element\r\n  if (React.isValidElement(children)) {\r\n    return (\r\n      <>\r\n        {React.cloneElement(children as ReactElement, {\r\n          className: classNames(\r\n            prefixClassname(`image__${prefix}`),\r\n            prefixClassname(`image__${prefix}-icon`),\r\n          ),\r\n        })}\r\n      </>\r\n    )\r\n  }\r\n  // Text String\r\n  if (_.isString(children) || _.isNumber(children)) {\r\n    return <View className={prefixClassname(`image__${prefix}`)} children={children} />\r\n  }\r\n  return <></>\r\n}\r\n\r\ninterface ImageProps extends StandardProps {\r\n  src?: string\r\n  alt?: string\r\n  mode?: ImageMode\r\n  round?: boolean\r\n  lazyLoad?: boolean\r\n  placeholder?: boolean | ReactNode\r\n  fallback?: boolean | ReactNode\r\n}\r\n\r\nexport default function Image(props: ImageProps) {\r\n  const {\r\n    className,\r\n    src,\r\n    alt,\r\n    mode = \"scaleToFill\",\r\n    round = false,\r\n    lazyLoad = false,\r\n    placeholder = true,\r\n    fallback = true,\r\n    ...restProps\r\n  } = props\r\n  const taroMode = toTaroMode(mode)\r\n\r\n  const [loading, setLoading] = useState(false)\r\n  const [failed, setFailed] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n  }, [src])\r\n\r\n  function handleLoad() {\r\n    setLoading(false)\r\n  }\r\n\r\n  function handleError() {\r\n    setLoading(false)\r\n    setFailed(true)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!failed && src && (\r\n        <TaroImage\r\n          src={src as string}\r\n          mode={(taroMode as unknown) as undefined}\r\n          lazyLoad={lazyLoad}\r\n          className={classNames(\r\n            prefixClassname(\"image\"),\r\n            {\r\n              [prefixClassname(\"image--round\")]: round,\r\n              [prefixClassname(\"image--loading\")]: loading,\r\n            },\r\n            className,\r\n          )}\r\n          imgProps={{ alt }}\r\n          onError={handleError}\r\n          onLoad={handleLoad}\r\n          {...restProps}\r\n        />\r\n      )}\r\n      {loading && placeholder && (\r\n        <View className={classNames(prefixClassname(\"image\"), className)} {...restProps}>\r\n          <ImagePlaceholder prefix=\"placeholder\" children={placeholder} />\r\n        </View>\r\n      )}\r\n      {failed && fallback && (\r\n        <View className={classNames(prefixClassname(\"image\"), className)} {...restProps}>\r\n          <ImagePlaceholder prefix=\"fallback\" children={fallback} />\r\n        </View>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import { createContext } from \"react\"\r\n\r\ninterface FlexContextValue {\r\n  gutter: [number | undefined, number | undefined]\r\n}\r\n\r\nconst FlexContext = createContext<FlexContextValue>({\r\n  gutter: [undefined, undefined],\r\n})\r\n\r\nexport default FlexContext\r\n","import FlexComponent, { FlexProps } from \"./flex\"\r\nimport FlexItem from \"./flex-item\"\r\n\r\nexport type { FlexProps } from \"./flex\"\r\nexport type { FlexItemProps } from \"./flex-item\"\r\n\r\ninterface FlexInterface {\r\n  (props: FlexProps): JSX.Element\r\n\r\n  Item: typeof FlexItem\r\n}\r\n\r\nconst Flex = FlexComponent as FlexInterface\r\n\r\nFlex.Item = FlexItem\r\n\r\nexport default Flex\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, ReactNode, useMemo } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport FlexContext from \"./flex.context\"\r\nimport { FlexAlign, FlexDirection, FlexGutter, FlexJustify, FlexWrap } from \"./flex.shared\"\r\n\r\nfunction useFlexGutter(gutter?: FlexGutter): [undefined | number, undefined | number] {\r\n  return useMemo(() => {\r\n    if (gutter === undefined) {\r\n      return [undefined, undefined]\r\n    }\r\n\r\n    if (_.isNumber(gutter)) {\r\n      return [gutter, gutter]\r\n    }\r\n\r\n    if (_.isString(gutter)) {\r\n      const gutterNumber = _.toNumber(gutter)\r\n      return [gutterNumber, gutterNumber]\r\n    }\r\n\r\n    if (_.isArray(gutter)) {\r\n      const [horizontalGutter, verticalGutter] = gutter\r\n      return [_.toNumber(horizontalGutter), _.toNumber(verticalGutter)]\r\n    }\r\n\r\n    return [0, 0]\r\n  }, [gutter])\r\n}\r\n\r\nexport interface FlexProps extends ViewProps {\r\n  style?: CSSProperties\r\n  direction?: FlexDirection\r\n  wrap?: FlexWrap\r\n  justify?: FlexJustify\r\n  align?: FlexAlign\r\n  gutter?: FlexGutter\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function Flex(props: FlexProps) {\r\n  const {\r\n    className,\r\n    style,\r\n    gutter: gutterProp,\r\n    direction = \"row\",\r\n    wrap = \"nowrap\",\r\n    justify = \"start\",\r\n    align = \"start\",\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  const gutter = useFlexGutter(gutterProp)\r\n  const [horizontalGutter] = gutter\r\n\r\n  const gutterStyle = useMemo<CSSProperties>(() => {\r\n    const gutterStyle: CSSProperties = {}\r\n    if (horizontalGutter) {\r\n      const averagePadding = _.toNumber(horizontalGutter) / 2\r\n      gutterStyle.marginLeft = addUnitPx(-averagePadding)\r\n      gutterStyle.marginRight = addUnitPx(-averagePadding)\r\n    }\r\n    return {}\r\n  }, [horizontalGutter])\r\n\r\n  return (\r\n    <View\r\n      className={classNames(\r\n        prefixClassname(\"flex\"),\r\n        {\r\n          // Set flex style\r\n          [prefixClassname(\"flex--row\")]: direction === \"row\",\r\n          [prefixClassname(\"flex--row-reverse\")]: direction === \"row-reverse\",\r\n          [prefixClassname(\"flex--column\")]: direction === \"column\",\r\n          [prefixClassname(\"flex--column-reverse\")]: direction === \"column-reverse\",\r\n          // Set flex-wrap style\r\n          [prefixClassname(\"flex--nowrap\")]: wrap === \"nowrap\",\r\n          [prefixClassname(\"flex--wrap\")]: wrap === \"wrap\",\r\n          [prefixClassname(\"flex--wrap-reverse\")]: wrap === \"wrap-reverse\",\r\n          // Set justify style\r\n          [prefixClassname(\"flex--justify-start\")]: justify === \"start\",\r\n          [prefixClassname(\"flex--justify-center\")]: justify === \"center\",\r\n          [prefixClassname(\"flex--justify-end\")]: justify === \"end\",\r\n          [prefixClassname(\"flex--justify-space-around\")]: justify === \"space-around\",\r\n          [prefixClassname(\"flex--justify-space-between\")]: justify === \"space-between\",\r\n          // Set align style\r\n          [prefixClassname(\"flex--align-start\")]: align === \"start\",\r\n          [prefixClassname(\"flex--align-center\")]: align === \"center\",\r\n          [prefixClassname(\"flex--align-end\")]: align === \"end\",\r\n          [prefixClassname(\"flex--align-baseline\")]: align === \"baseline\",\r\n          [prefixClassname(\"flex--align-stretch\")]: align === \"stretch\",\r\n        },\r\n        className,\r\n      )}\r\n      style={{\r\n        ...style,\r\n        ...gutterStyle,\r\n      }}\r\n      {...restProps}\r\n    >\r\n      <FlexContext.Provider\r\n        value={{\r\n          gutter,\r\n        }}\r\n        children={children}\r\n      />\r\n    </View>\r\n  )\r\n}\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { CSSProperties, ReactNode, useContext } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport FlexContext from \"./flex.context\"\r\n\r\nexport interface FlexItemProps extends ViewProps {\r\n  style?: CSSProperties\r\n  span?: number\r\n  offset?: number\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function FlexItem(props: FlexItemProps) {\r\n  const { className, style, span, offset, ...restProps } = props\r\n  const { gutter: gutters } = useContext(FlexContext)\r\n  const [horizontalGutter] = gutters\r\n\r\n  // Horizontal gutter use padding\r\n  const gutterStyle: React.CSSProperties = {}\r\n  if (horizontalGutter) {\r\n    const averagePadding = horizontalGutter / 2\r\n    gutterStyle.paddingLeft = addUnitPx(averagePadding)\r\n    gutterStyle.paddingRight = addUnitPx(averagePadding)\r\n  }\r\n\r\n  return (\r\n    <View\r\n      className={classNames(\r\n        prefixClassname(\"flex-item\"),\r\n        {\r\n          [prefixClassname(`flex-item-${span}`)]: span !== undefined,\r\n          [prefixClassname(`flex-item-offset-${offset}`)]: offset !== undefined,\r\n        },\r\n        className,\r\n      )}\r\n      style={{\r\n        ...style,\r\n        ...gutterStyle,\r\n      }}\r\n      {...restProps}\r\n    />\r\n  )\r\n}\r\n","import { Flex, Image } from \"@taroify/core\"\nimport { ImageMode } from \"@taroify/core/image\"\nimport { Photo, PhotoFail } from \"@taroify/icons\"\nimport { Text } from \"@tarojs/components\"\nimport * as React from \"react\"\nimport Block from \"../../../components/block\"\nimport Page from \"../../../components/page\"\nimport \"./index.scss\"\n\nexport default function ImageDemo() {\n  const imageUrl = \"https://img01.yzcdn.cn/vant/cat.jpeg\"\n\n  const modes: ImageMode[] = [\n    \"scaleToFill\",\n    \"aspectFit\",\n    \"aspectFill\",\n    \"widthFix\",\n    \"heightFix\",\n    \"top\",\n    \"bottom\",\n    \"center\",\n    \"left\",\n    \"right\",\n    \"topLeft\",\n    \"topRight\",\n    \"bottomLeft\",\n    \"bottomRight\",\n  ]\n\n  return (\n    <Page title=\"Image 图片\" className=\"image-demo\">\n      <Block title=\"基础用法\">\n        <Image className=\"basic-image\" src={imageUrl} />\n      </Block>\n      <Block title=\"填充模式\">\n        <Flex wrap=\"wrap\" gutter={20}>\n          {modes.map((mode) => (\n            <Flex.Item span={8} key={mode}>\n              <Image mode={mode} src={imageUrl} />\n              <Text className=\"text\">{mode}</Text>\n            </Flex.Item>\n          ))}\n        </Flex>\n      </Block>\n      <Block title=\"圆形图片\">\n        <Flex wrap=\"wrap\" gutter={20}>\n          {modes.map((mode) => (\n            <Flex.Item span={8} key={mode}>\n              <Image mode={mode} src={imageUrl} round />\n              <Text className=\"text\">{mode}</Text>\n            </Flex.Item>\n          ))}\n        </Flex>\n      </Block>\n      <Block title=\"加载中提示\">\n        <Flex wrap=\"wrap\" gutter={20}>\n          <Flex.Item span={8}>\n            <Image placeholder={<Photo />} />\n            <Text className=\"text\">默认提示</Text>\n          </Flex.Item>\n          <Flex.Item span={8}>\n            <Image placeholder=\"加载中...\" />\n            <Text className=\"text\">自定义提示</Text>\n          </Flex.Item>\n        </Flex>\n      </Block>\n      <Block title=\"加载失败提示\">\n        <Flex wrap=\"wrap\" gutter={20}>\n          <Flex.Item span={8}>\n            <Image src=\"error\" fallback={<PhotoFail />} />\n            <Text className=\"text\">默认提示</Text>\n          </Flex.Item>\n          <Flex.Item span={8}>\n            <Image src=\"error\" fallback=\"加载失败\" />\n            <Text className=\"text\">自定义提示</Text>\n          </Flex.Item>\n        </Flex>\n      </Block>\n    </Page>\n  )\n}\n"],"sourceRoot":""}