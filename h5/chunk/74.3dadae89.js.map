{"version":3,"sources":["webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isUndefined.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/toNumber.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isEqual.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseTrim.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_trimmedEndIndex.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseClamp.js","webpack:///../../../../packages/core/src/utils/touch.ts","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/clamp.js","webpack:///../../../../packages/core/src/slider/slider.context.ts","webpack:///../../../../packages/core/src/slider/slider-thumb.tsx","webpack:///../../../../packages/core/src/slider/slider.tsx","webpack:///../../../../packages/core/src/slider/index.ts","webpack:///../../../../packages/core/src/slider/style/index.ts","webpack:///./src/pages/form/slider/index.tsx"],"names":["module","exports","isUndefined","value","undefined","baseTrim","require","isObject","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","test","slice","baseIsEqual","isEqual","trimmedEndIndex","reTrimStart","string","replace","reWhitespace","index","length","charAt","baseClamp","number","lower","upper","emptyFunction","touchRef","useRef","startX","startY","deltaX","deltaY","offsetX","offsetY","isVertical","isHorizontal","start","move","reset","useCallback","TouchDirection","event","touch","Math","getDirection","x","y","useEffect","clamp","createContext","SliderThumb","props","children","useContext","onTouchStart","onTouchMove","onTouchEnd","className","classNames","prefixClassname","style","getSizeStyle","catchMove","onTouchCancel","onClick","stopPropagation","SliderDragStatus","Slider","valueProp","min","max","step","range","orientation","disabled","onChangeProp","onChange","useValue","defaultValue","setValue","useSliderChildren","useMemo","__children__","thumb1","thumb2","Children","child","isValidElement","element","React","cloneElement","key","vertical","rootRef","dragStatusRef","startValueRef","currentValueRef","buttonIndexRef","useTouch","scope","Number","isRange","val","Array","calcMainAxis","calcOffset","wrapperStyle","crossAxis","addUnitPx","size","trackStyle","mainAxis","formatValue","diff","addNumber","updateValue","newValue","isSameValue","JSON","handleOverlap","ref","handleClick","getRect","rect","getClientCoordinates","clientY","delta","clientX","total","left","SliderContext","preventDefault","StyledThumbSlider","useState","Thumb","SliderDemo","title","marginLeft"],"mappings":"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","file":"chunk/74.3dadae89.js","sourcesContent":["/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","import { ITouchEvent } from \"@tarojs/components\"\nimport { useCallback, useEffect, useRef } from \"react\"\n\nconst MIN_DISTANCE = 10\n\nexport enum TouchDirection {\n  Horizontal = \"horizontal\",\n  Vertical = \"vertical\",\n}\n\nfunction getDirection(x: number, y: number): TouchDirection | undefined {\n  if (x > y && x > MIN_DISTANCE) {\n    return TouchDirection.Horizontal\n  }\n  if (y > x && y > MIN_DISTANCE) {\n    return TouchDirection.Vertical\n  }\n}\n\nfunction emptyFunction() {}\n\nexport interface TouchRef {\n  startX: number\n  startY: number\n  deltaX: number\n  deltaY: number\n  offsetX: number\n  offsetY: number\n  direction?: TouchDirection\n\n  isVertical(): boolean\n\n  isHorizontal(): boolean\n\n  start(event: ITouchEvent): void\n\n  move(event: ITouchEvent): void\n\n  reset(): void\n}\n\nexport function useTouch() {\n  const touchRef = useRef<TouchRef>({\n    startX: 0,\n    startY: 0,\n    deltaX: 0,\n    deltaY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    isVertical: () => false,\n    isHorizontal: () => false,\n    start: emptyFunction,\n    move: emptyFunction,\n    reset: emptyFunction,\n  })\n\n  const isVertical = useCallback(() => touchRef.current.direction === TouchDirection.Vertical, [])\n\n  const isHorizontal = useCallback(\n    () => touchRef.current.direction === TouchDirection.Horizontal,\n    [],\n  )\n\n  const reset = useCallback(function () {\n    touchRef.current.deltaX = 0\n    touchRef.current.deltaY = 0\n    touchRef.current.offsetX = 0\n    touchRef.current.offsetY = 0\n    touchRef.current.direction = undefined\n  }, [])\n\n  const start = useCallback(\n    function (event: ITouchEvent) {\n      reset()\n      touchRef.current.startX = event.touches[0].clientX\n      touchRef.current.startY = event.touches[0].clientY\n    },\n    [reset],\n  )\n\n  const move = useCallback(function (event: ITouchEvent) {\n    const touch = event.touches[0]\n    // Fix: Safari back will set clientX to negative number\n    touchRef.current.deltaX = touch.clientX < 0 ? 0 : touch.clientX - touchRef.current.startX\n    touchRef.current.deltaY = touch.clientY - touchRef.current.startY\n    touchRef.current.offsetX = Math.abs(touchRef.current.deltaX)\n    touchRef.current.offsetY = Math.abs(touchRef.current.deltaY)\n\n    if (!touchRef.current.direction) {\n      touchRef.current.direction = getDirection(touchRef.current.offsetX, touchRef.current.offsetY)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (touchRef.current.isHorizontal !== isHorizontal) {\n      touchRef.current.isHorizontal = isHorizontal\n    }\n  }, [touchRef, isHorizontal])\n\n  useEffect(() => {\n    if (touchRef.current.isVertical !== isVertical) {\n      touchRef.current.isVertical = isVertical\n    }\n  }, [touchRef, isVertical])\n\n  useEffect(() => {\n    if (touchRef.current.reset !== reset) {\n      touchRef.current.reset = reset\n    }\n  }, [touchRef, reset])\n\n  useEffect(() => {\n    if (touchRef.current.start !== start) {\n      touchRef.current.start = start\n    }\n  }, [touchRef, start])\n\n  useEffect(() => {\n    if (touchRef.current.move !== move) {\n      touchRef.current.move = move\n    }\n  }, [touchRef, move])\n\n  return touchRef.current\n}\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","import { ITouchEvent } from \"@tarojs/components\"\r\nimport { createContext } from \"react\"\r\n\r\ninterface SliderContextValue {\r\n  onTouchStart?(event: ITouchEvent, index?: number): void\r\n\r\n  onTouchMove?(event: ITouchEvent, index?: number): void\r\n\r\n  onTouchEnd?(event: ITouchEvent, index?: number): void\r\n}\r\n\r\nconst SliderContext = createContext<SliderContextValue>({})\r\n\r\nexport default SliderContext\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode, useContext } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { stopPropagation } from \"../utils/dom/event\"\r\nimport { getSizeStyle } from \"../utils/format/unit\"\r\nimport SliderContext from \"./slider.context\"\r\n\r\nexport interface SliderThumbProps extends ViewProps {\r\n  size?: number\r\n  children?: ReactNode\r\n}\r\n\r\nexport interface InternalSliderThumbProps extends SliderThumbProps {\r\n  index?: number\r\n}\r\n\r\nfunction SliderThumb(props: SliderThumbProps) {\r\n  const { className, size, index, children, ...restProps } = props as InternalSliderThumbProps\r\n  const { onTouchStart, onTouchMove, onTouchEnd } = useContext(SliderContext)\r\n\r\n  return (\r\n    <View\r\n      className={classNames({\r\n        [prefixClassname(\"slider__thumb-wrapper\")]: index === undefined,\r\n        [prefixClassname(\"slider__thumb-wrapper-left\")]: index === 0,\r\n        [prefixClassname(\"slider__thumb-wrapper-right\")]: index === 1,\r\n      })}\r\n      style={{\r\n        ...getSizeStyle(size),\r\n      }}\r\n      catchMove\r\n      onTouchStart={(event) => onTouchStart?.(event, index)}\r\n      onTouchMove={(event) => onTouchMove?.(event, index)}\r\n      onTouchEnd={(event) => onTouchEnd?.(event, index)}\r\n      onTouchCancel={(event) => onTouchEnd?.(event, index)}\r\n      onClick={stopPropagation}\r\n    >\r\n      {\r\n        //\r\n        children ?? (\r\n          <View\r\n            className={classNames(prefixClassname(\"slider__thumb\"), className)}\r\n            {...restProps}\r\n          />\r\n        )\r\n      }\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default SliderThumb\r\n","import { ITouchEvent, View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport * as React from \"react\"\r\nimport {\r\n  Children,\r\n  cloneElement,\r\n  CSSProperties,\r\n  isValidElement,\r\n  ReactElement,\r\n  ReactNode,\r\n  useCallback,\r\n  useMemo,\r\n  useRef,\r\n} from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { getClientCoordinates, preventDefault, stopPropagation } from \"../utils/dom/event\"\r\nimport { getRect } from \"../utils/dom/rect\"\r\nimport { addNumber } from \"../utils/format/number\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport { useValue } from \"../utils/state\"\r\nimport { useTouch } from \"../utils/touch\"\r\nimport SliderThumb from \"./slider-thumb\"\r\nimport SliderContext from \"./slider.context\"\r\n\r\ntype SliderValue = number | [number, number] | number[]\r\n\r\nenum SliderDragStatus {\r\n  Start = \"start\",\r\n  Dragging = \"dragging\",\r\n  End = \"end\",\r\n}\r\n\r\ntype SliderOrientation = \"horizontal\" | \"vertical\"\r\n\r\ninterface SliderChildren {\r\n  thumb1: ReactNode\r\n  thumb2: ReactNode\r\n}\r\n\r\nfunction useSliderChildren(children?: ReactNode, range?: boolean): SliderChildren {\r\n  return useMemo(() => {\r\n    const __children__: SliderChildren = {\r\n      thumb1: undefined,\r\n      thumb2: undefined,\r\n    }\r\n\r\n    Children.forEach(children, (child: ReactNode) => {\r\n      if (!isValidElement(child)) {\r\n        return\r\n      }\r\n      const element = child as ReactElement\r\n\r\n      if (__children__.thumb1 === undefined) {\r\n        __children__.thumb1 = element\r\n      } else if (__children__.thumb2 === undefined) {\r\n        __children__.thumb2 = element\r\n      }\r\n    })\r\n\r\n    __children__.thumb1 = __children__.thumb1 ?? <SliderThumb />\r\n\r\n    if (range) {\r\n      __children__.thumb1 = cloneElement(__children__.thumb1 as ReactElement, {\r\n        key: 0,\r\n        index: 0,\r\n      })\r\n\r\n      __children__.thumb2 = __children__.thumb2 ?? <SliderThumb />\r\n      __children__.thumb2 = cloneElement(__children__.thumb2 as ReactElement, {\r\n        key: 1,\r\n        index: 1,\r\n      })\r\n    } else {\r\n      __children__.thumb1 = cloneElement(__children__.thumb1 as ReactElement, {\r\n        index: undefined,\r\n      })\r\n    }\r\n\r\n    return __children__\r\n  }, [children, range])\r\n}\r\n\r\nexport interface SliderProps extends ViewProps {\r\n  style?: CSSProperties\r\n  step?: number\r\n  min?: number\r\n  max?: number\r\n  defaultValue?: any\r\n  value?: any\r\n  range?: boolean\r\n  size?: number\r\n  orientation?: SliderOrientation\r\n  disabled?: boolean\r\n  children?: ReactNode\r\n\r\n  onChange?(value: any): void\r\n}\r\n\r\nfunction Slider(props: SliderProps) {\r\n  const {\r\n    className,\r\n    style = {},\r\n    defaultValue,\r\n    value: valueProp = undefined,\r\n    min = 0,\r\n    max = 100,\r\n    step = 1,\r\n    range = false,\r\n    size,\r\n    orientation = \"horizontal\",\r\n    disabled = false,\r\n    children,\r\n    onClick,\r\n    onChange: onChangeProp,\r\n    ...restProps\r\n  } = props\r\n\r\n  const { value = 0, setValue } = useValue({\r\n    defaultValue,\r\n    value: valueProp,\r\n    onChange: onChangeProp,\r\n  })\r\n\r\n  const { thumb1, thumb2 } = useSliderChildren(children, range)\r\n\r\n  const vertical = orientation === \"vertical\"\r\n\r\n  const rootRef = useRef<HTMLElement>()\r\n\r\n  const dragStatusRef = useRef<SliderDragStatus>()\r\n\r\n  const startValueRef = useRef<SliderValue>(0)\r\n\r\n  const currentValueRef = useRef<SliderValue>(0)\r\n\r\n  const buttonIndexRef = useRef<number>()\r\n\r\n  const touch = useTouch()\r\n\r\n  const scope = useMemo(() => Number(max) - Number(min), [max, min])\r\n\r\n  const isRange = useCallback(\r\n    (val: unknown): val is [number, number] => range && Array.isArray(val),\r\n    [range],\r\n  )\r\n\r\n  // 计算选中条的长度百分比\r\n  const calcMainAxis = useCallback(() => {\r\n    if (isRange(value)) {\r\n      return `${((value[1] - value[0]) * 100) / scope}%`\r\n    }\r\n    return `${(((value as number) - Number(min)) * 100) / scope}%`\r\n  }, [isRange, min, scope, value])\r\n\r\n  // 计算选中条的开始位置的偏移量\r\n  const calcOffset = useCallback(() => {\r\n    if (isRange(value)) {\r\n      return `${((value[0] - Number(min)) * 100) / scope}%`\r\n    }\r\n    return \"0%\"\r\n  }, [isRange, min, scope, value])\r\n\r\n  const wrapperStyle = useMemo<CSSProperties>(() => {\r\n    const crossAxis = vertical ? \"width\" : \"height\"\r\n    return {\r\n      ...style,\r\n      [crossAxis]: addUnitPx(size) ?? \"\",\r\n    }\r\n  }, [size, style, vertical])\r\n\r\n  const trackStyle = useMemo<CSSProperties>(() => {\r\n    const mainAxis = vertical ? \"height\" : \"width\"\r\n    return {\r\n      [mainAxis]: calcMainAxis(),\r\n      left: vertical ? \"\" : calcOffset(),\r\n      top: vertical ? calcOffset() : \"\",\r\n      transition: dragStatusRef.current ? \"none\" : \"\",\r\n    }\r\n  }, [calcMainAxis, calcOffset, vertical])\r\n\r\n  const formatValue = (value: number) => {\r\n    value = _.clamp(value, min, max)\r\n    const diff = Math.round((value - min) / step) * step\r\n    return addNumber(min, diff)\r\n  }\r\n\r\n  const isSameValue = (newValue: SliderValue, oldValue: SliderValue) =>\r\n    JSON.stringify(newValue) === JSON.stringify(oldValue)\r\n\r\n  const handleOverlap = (value: [number, number]) => {\r\n    if (value[0] > value[1]) {\r\n      return value.slice(0).reverse()\r\n    }\r\n    return value\r\n  }\r\n\r\n  const updateValue = (newValue: SliderValue) => {\r\n    if (isRange(newValue)) {\r\n      newValue = handleOverlap(newValue).map(formatValue) as [number, number]\r\n    } else {\r\n      newValue = formatValue(newValue as number)\r\n    }\r\n\r\n    if (!isSameValue(newValue, value)) {\r\n      setValue(newValue as any)\r\n    }\r\n  }\r\n\r\n  const handleClick = (event: ITouchEvent) => {\r\n    onClick?.(event)\r\n    stopPropagation(event)\r\n\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    getRect(rootRef).then((rect) => {\r\n      const { clientX, clientY } = getClientCoordinates(event)\r\n\r\n      const delta = vertical ? clientY - rect.top : clientX - rect.left\r\n      const total = vertical ? rect.height : rect.width\r\n      const newValue = Number(min) + (delta / total) * scope\r\n\r\n      if (isRange(value)) {\r\n        const [left, right] = value\r\n        const middle = (left + right) / 2\r\n\r\n        if (newValue <= middle) {\r\n          updateValue([newValue, right])\r\n        } else {\r\n          updateValue([left, newValue])\r\n        }\r\n      } else {\r\n        updateValue(newValue)\r\n      }\r\n    })\r\n  }\r\n\r\n  const onTouchStart = (event: ITouchEvent, index?: number) => {\r\n    if (typeof index === \"number\") {\r\n      // save index of current button\r\n      buttonIndexRef.current = index\r\n    }\r\n\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    touch.start(event)\r\n    currentValueRef.current = value\r\n\r\n    if (isRange(currentValueRef.current)) {\r\n      startValueRef.current = currentValueRef.current.map(formatValue) as [number, number]\r\n    } else {\r\n      startValueRef.current = formatValue(currentValueRef.current as number)\r\n    }\r\n\r\n    dragStatusRef.current = SliderDragStatus.Start\r\n  }\r\n\r\n  const onTouchMove = (event: ITouchEvent) => {\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    preventDefault(event, true)\r\n    touch.move(event)\r\n    dragStatusRef.current = SliderDragStatus.Dragging\r\n\r\n    getRect(rootRef).then((rect) => {\r\n      const delta = vertical ? touch.deltaY : touch.deltaX\r\n      const total = vertical ? rect.height : rect.width\r\n      const diff = (delta / total) * scope\r\n\r\n      if (isRange(startValueRef.current)) {\r\n        ;(currentValueRef.current as [number, number])[buttonIndexRef.current as number] =\r\n          startValueRef.current[buttonIndexRef.current as number] + diff\r\n      } else {\r\n        currentValueRef.current = (startValueRef.current as number) + diff\r\n      }\r\n      updateValue(currentValueRef.current)\r\n    })\r\n  }\r\n\r\n  const onTouchEnd = () => {\r\n    if (disabled) {\r\n      return\r\n    }\r\n\r\n    if (dragStatusRef.current === SliderDragStatus.Dragging) {\r\n      updateValue(currentValueRef.current)\r\n    }\r\n\r\n    dragStatusRef.current = SliderDragStatus.End\r\n  }\r\n\r\n  return (\r\n    <View\r\n      ref={rootRef}\r\n      className={classNames(\r\n        classNames(prefixClassname(\"slider\"), {\r\n          [prefixClassname(\"slider--vertical\")]: vertical,\r\n          [prefixClassname(\"slider--disabled\")]: disabled,\r\n        }),\r\n        className,\r\n      )}\r\n      style={wrapperStyle}\r\n      onClick={handleClick}\r\n      {...restProps}\r\n    >\r\n      <SliderContext.Provider\r\n        value={{\r\n          onTouchStart,\r\n          onTouchMove,\r\n          onTouchEnd,\r\n        }}\r\n      >\r\n        <View className={prefixClassname(\"slider__track\")} style={trackStyle}>\r\n          {range ? [thumb1, thumb2] : thumb1}\r\n        </View>\r\n      </SliderContext.Provider>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default Slider\r\n","import SliderComponent, { SliderProps } from \"./slider\"\r\nimport SliderThumb from \"./slider-thumb\"\r\n\r\nexport type { SliderProps } from \"./slider\"\r\n\r\ninterface SliderInterface {\r\n  (props: SliderProps): JSX.Element\r\n\r\n  Thumb: typeof SliderThumb\r\n}\r\n\r\nconst Slider = SliderComponent as SliderInterface\r\n\r\nSlider.Thumb = SliderThumb\r\n\r\nexport default Slider\r\n","import \"../../styles/style\"\r\nimport \"../index.scss\"\r\n","import { Slider } from \"@taroify/core\"\r\nimport { View } from \"@tarojs/components\"\r\nimport * as React from \"react\"\r\nimport { useState } from \"react\"\r\nimport Block from \"../../../components/block\"\r\nimport Page from \"../../../components/page\"\r\nimport \"./index.scss\"\r\n\r\nfunction StyledThumbSlider() {\r\n  const [value, setValue] = useState(50)\r\n  return (\r\n    <Slider className=\"custom-color\" value={value} onChange={setValue}>\r\n      <Slider.Thumb>\r\n        <View className=\"custom-thumb\">{value}</View>\r\n      </Slider.Thumb>\r\n    </Slider>\r\n  )\r\n}\r\n\r\nexport default function SliderDemo() {\r\n  return (\r\n    <Page title=\"Slider 滑块\" className=\"slider-demo\">\r\n      <Block title=\"基础用法\">\r\n        <Slider defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"双滑块\">\r\n        <Slider range defaultValue={[20, 60]} />\r\n      </Block>\r\n      <Block title=\"指定选择范围\">\r\n        <Slider min={-50} max={50} defaultValue={0} />\r\n      </Block>\r\n      <Block title=\"禁用\">\r\n        <Slider disabled defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"指定步长\">\r\n        <Slider step={10} defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"自定义样式\">\r\n        <Slider className=\"custom-color\" size={4} defaultValue={50} />\r\n      </Block>\r\n      <Block title=\"自定义按钮\">\r\n        <StyledThumbSlider />\r\n      </Block>\r\n      <Block title=\"自定义样式\" className=\"vertical-slider\">\r\n        <Slider orientation=\"vertical\" defaultValue={50} />\r\n        <Slider\r\n          style={{ marginLeft: \"100px\" }}\r\n          range\r\n          orientation=\"vertical\"\r\n          defaultValue={[20, 60]}\r\n        />\r\n      </Block>\r\n    </Page>\r\n  )\r\n}\r\n"],"sourceRoot":""}