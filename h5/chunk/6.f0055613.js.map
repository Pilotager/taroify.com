{"version":3,"sources":["webpack:///./node_modules/babel-preset-taro/node_modules/@babel/runtime/regenerator/index.js","webpack:///./node_modules/babel-preset-taro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/split.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isRegExp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseIsRegExp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/uniqueId.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/canvas/CanvasContext.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/nodesRef.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/selectorQuery.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/index.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/ui/window.js"],"names":["module","exports","require","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","baseToString","castSlice","hasUnicode","isIterateeCall","isRegExp","stringToArray","toString","split","string","separator","limit","baseIsRegExp","baseUnary","nodeUtil","nodeIsRegExp","baseGetTag","isObjectLike","idCounter","uniqueId","prefix","id","TextBaseLineMap","top","bottom","middle","normal","CanvasContext","canvas","ctx","actions","get","__raw__","set","e","emptyActions","length","enqueueActions","func","push","fillStyle","font","globalAlpha","globalCompositeOperation","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","direction","imageSmoothingEnabled","imageSmoothingQuality","filter","arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createPattern","image","repetition","reserve","callback","a","width","height","errMsg","message","drawImage","imageResource","extra","img","Image","src","onload","onerror","fill","fillRect","fillText","lineTo","moveTo","quadraticCurveTo","rect","restore","rotate","save","scale","setFillStyle","color","setFontSize","fontSize","setGlobalAlpha","alpha","setLineCap","setLineDash","pattern","offset","setLineJoin","setLineWidth","setMiterLimit","setShadow","offsetX","offsetY","blur","setStrokeStyle","setTextAlign","align","setTextBaseline","setTransform","stroke","strokeRect","strokeText","transform","translate","measureText","text","createCircularGradient","x","y","r","createRadialGradient","createLinearGradient","x0","y0","x1","y1","NodesRef","selector","querySelectorQuery","single","_component","_selector","_selectorQuery","_single","context","cb","_push","node","nodeCanvasType","boundingClientRect","dataset","size","scrollOffset","fields","properties","computedStyle","dom","isViewport","res","tagName","$taroElement","test","type","getElementsByTagName","Object","assign","getBoundingClientRect","left","right","clientWidth","clientHeight","scrollLeft","scrollTop","forEach","prop","attr","getAttribute","styles","window","getComputedStyle","getPropertyValue","querySelector","getContext","console","SelectorQuery","_defaultWebviewId","_webviewId","_queue","_queueCb","component","select","replace","selectAll","selectViewport","exec","queryBat","queue","result","item","_a","container","findDOM","document","selectSelf","$nodeList","parentNode","querySelectorAll","i","len","el","$children","children","map","index","call","createSelectorQuery","temporarilyNotSupport","callbackManager","CallbackManager","resizeListener","trigger","windowWidth","screen","windowHeight","onWindowResize","add","count","addEventListener","offWindowResize","remove","removeEventListener"],"mappings":"+EAAAA,EAAOC,QAAUC,EAAQ,K,mCCAzB,SAASC,mBAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,MACjB,MAAOC,GAEP,YADAP,EAAOO,GAILF,EAAKG,KACPT,EAAQO,GAERG,QAAQV,QAAQO,GAAOI,KAAKT,EAAOC,GAIxB,SAASS,kBAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUV,EAASC,GACpC,IAAIF,EAAMc,EAAGK,MAAMJ,EAAME,GAEzB,SAASd,MAAMK,GACbT,mBAAmBC,EAAKC,EAASC,EAAQC,MAAOC,OAAQ,OAAQI,GAGlE,SAASJ,OAAOgB,GACdrB,mBAAmBC,EAAKC,EAASC,EAAQC,MAAOC,OAAQ,QAASgB,GAGnEjB,WAAMkB,OA/BZ,mD,sBCAA,IAAIC,EAAexB,EAAQ,KACvByB,EAAYzB,EAAQ,KACpB0B,EAAa1B,EAAQ,KACrB2B,EAAiB3B,EAAQ,KACzB4B,EAAW5B,EAAQ,KACnB6B,EAAgB7B,EAAQ,KACxB8B,EAAW9B,EAAQ,KA6CvBF,EAAOC,QArBP,SAASgC,MAAMC,EAAQC,EAAWC,GAKhC,OAJIA,GAAyB,iBAATA,GAAqBP,EAAeK,EAAQC,EAAWC,KACzED,EAAYC,OAAQX,IAEtBW,OAAkBX,IAAVW,EAzBa,WAyB4BA,IAAU,IAI3DF,EAASF,EAASE,MAEQ,iBAAbC,GACO,MAAbA,IAAsBL,EAASK,OAEpCA,EAAYT,EAAaS,KACPP,EAAWM,GACpBP,EAAUI,EAAcG,GAAS,EAAGE,GAGxCF,EAAOD,MAAME,EAAWC,GAZtB,K,sBCpCX,IAAIC,EAAenC,EAAQ,KACvBoC,EAAYpC,EAAQ,KACpBqC,EAAWrC,EAAQ,KAGnBsC,EAAeD,GAAYA,EAAST,SAmBpCA,EAAWU,EAAeF,EAAUE,GAAgBH,EAExDrC,EAAOC,QAAU6B,G,sBC1BjB,IAAIW,EAAavC,EAAQ,KACrBwC,EAAexC,EAAQ,KAgB3BF,EAAOC,QAJP,SAASoC,aAAazB,GACpB,OAAO8B,EAAa9B,IAVN,mBAUgB6B,EAAW7B,K,sBCd3C,IAAIoB,EAAW9B,EAAQ,KAGnByC,EAAY,EAwBhB3C,EAAOC,QALP,SAAS2C,SAASC,GAChB,IAAIC,IAAOH,EACX,OAAOX,EAASa,GAAUC,I,kICxBtBC,EAAkB,CACpBC,MAAK,MACLC,SAAQ,SACRC,SAAQ,SACRC,SAAQ,cAECC,EAAb,WACI,uBAAYC,EAAQC,GAAK,gCACrBlC,KAAKmC,QAAU,GACfnC,KAAKiC,OAASA,EACdjC,KAAKkC,IAAMA,EAJnB,2DASI,SAAAE,MACI,OAAOpC,KAAKqC,SAAW,IAV/B,MAMI,SAAAC,IAAQC,GACJvC,KAAKqC,QAAUE,IAPvB,8BAYI,SAAAC,eACIxC,KAAKmC,QAAQM,OAAS,IAb9B,gCAeI,SAAAC,eAAeC,GAAe,2BAAN1C,EAAM,iCAANA,EAAM,kBAC1BD,KAAKmC,QAAQS,KAAK,CACdD,SACA1C,aAlBZ,yBAsBI,SAAAmC,MAAkB,OAAOpC,KAAKkC,IAAIW,WAtBtC,MAqBI,SAAAP,IAAcC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIW,UAAYN,OArBxE,oBAwBI,SAAAH,MAAa,OAAOpC,KAAKkC,IAAIY,MAxBjC,MAuBI,SAAAR,IAASC,GAAKvC,KAAKkC,IAAIY,KAAOP,IAvBlC,2BA0BI,SAAAH,MAAoB,OAAOpC,KAAKkC,IAAIa,aA1BxC,MAyBI,SAAAT,IAAgBC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIa,YAAcR,OAzB5E,wCA4BI,SAAAH,MAAiC,OAAOpC,KAAKkC,IAAIc,0BA5BrD,MA2BI,SAAAV,IAA6BC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIc,yBAA2BT,OA3BtG,uBA8BI,SAAAH,MAAgB,OAAOpC,KAAKkC,IAAIe,SA9BpC,MA6BI,SAAAX,IAAYC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIe,QAAUV,OA7BpE,8BAgCI,SAAAH,MAAuB,OAAOpC,KAAKkC,IAAIgB,gBAhC3C,MA+BI,SAAAZ,IAAmBC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIgB,eAAiBX,OA/BlF,wBAkCI,SAAAH,MAAiB,OAAOpC,KAAKkC,IAAIiB,UAlCrC,MAiCI,SAAAb,IAAaC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIiB,SAAWZ,OAjCtE,yBAoCI,SAAAH,MAAkB,OAAOpC,KAAKkC,IAAIkB,WApCtC,MAmCI,SAAAd,IAAcC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIkB,UAAYb,OAnCxE,0BAsCI,SAAAH,MAAmB,OAAOpC,KAAKkC,IAAImB,YAtCvC,MAqCI,SAAAf,IAAeC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAImB,WAAad,OArC1E,0BAwCI,SAAAH,MAAmB,OAAOpC,KAAKkC,IAAIoB,YAxCvC,MAuCI,SAAAhB,IAAeC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIoB,WAAaf,OAvC1E,2BA0CI,SAAAH,MAAoB,OAAOpC,KAAKkC,IAAIqB,aA1CxC,MAyCI,SAAAjB,IAAgBC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIqB,YAAchB,OAzC5E,6BA4CI,SAAAH,MAAsB,OAAOpC,KAAKkC,IAAIsB,eA5C1C,MA2CI,SAAAlB,IAAkBC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIsB,cAAgBjB,OA3ChF,6BA8CI,SAAAH,MAAsB,OAAOpC,KAAKkC,IAAIuB,eA9C1C,MA6CI,SAAAnB,IAAkBC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIuB,cAAgBlB,OA7ChF,2BAgDI,SAAAH,MAAoB,OAAOpC,KAAKkC,IAAIwB,aAhDxC,MA+CI,SAAApB,IAAgBC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIwB,YAAcnB,OA/C5E,yBAmDI,SAAAH,MAAkB,OAAOpC,KAAKkC,IAAIyB,WAnDtC,MAkDI,SAAArB,IAAcC,GAAKvC,KAAKkC,IAAIyB,UAAYpB,IAlD5C,4BAqDI,SAAAH,MAAqB,OAAOpC,KAAKkC,IAAI0B,cArDzC,MAoDI,SAAAtB,IAAiBC,GAAKvC,KAAKkC,IAAI0B,aAAerB,IApDlD,yBAuDI,SAAAH,MAAkB,OAAOpC,KAAKkC,IAAI2B,WAvDtC,MAsDI,SAAAvB,IAAcC,GAAKvC,KAAKkC,IAAI2B,UAAYtB,IAtD5C,qCAyDI,SAAAH,MAA8B,OAAOpC,KAAKkC,IAAI4B,uBAzDlD,MAwDI,SAAAxB,IAA0BC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAI4B,sBAAwBvB,OAxDhG,qCA2DI,SAAAH,MAA8B,OAAOpC,KAAKkC,IAAI6B,uBA3DlD,MA0DI,SAAAzB,IAA0BC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAI6B,sBAAwBxB,OA1DhG,sBA6DI,SAAAH,MAAe,OAAOpC,KAAKkC,IAAI8B,QA7DnC,MA4DI,SAAA1B,IAAWC,GAAG,WAAEvC,KAAK0C,gBAAe,WAAQ,EAAKR,IAAI8B,OAASzB,OA5DlE,qBA+DI,SAAA0B,MAAa,2BAANhE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI+B,KAA7B,OAAqChE,MA/D/D,uBAgEI,SAAAiE,QAAe,2BAANjE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIgC,OAA7B,OAAuCjE,MAhEnE,2BAiEI,SAAAkE,YAAmB,2BAANlE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIiC,WAA7B,OAA2ClE,MAjE3E,+BAkEI,SAAAmE,gBAAuB,2BAANnE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIkC,eAA7B,OAA+CnE,MAlEnF,2BAmEI,SAAAoE,YAAmB,2BAANpE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAImC,WAA7B,OAA2CpE,MAnE3E,sBAoEI,SAAAqE,OAAc,2BAANrE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIoC,MAA7B,OAAsCrE,MApEjE,2BAqEI,SAAAsE,YAAmB,2BAANtE,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIqC,WAA7B,OAA2CtE,MArE3E,+BAsEI,SAAAuE,cAAcC,EAAOC,GACjB,OAAO1E,KAAKwE,cAAcC,EAAOC,KAvEzC,+CA6EI,iBAAWC,EAASC,GAApB,uBAAAC,EAAA,wEAEaF,GACD3E,KAAKkC,IAAImC,UAAU,EAAG,EAAGrE,KAAKiC,OAAO6C,MAAO9E,KAAKiC,OAAO8C,QAHpE,cAMqC/E,KAAKmC,SAN1C,0EAMqBQ,EANrB,EAMqBA,KAAM1C,EAN3B,EAM2BA,KAN3B,SAOkB0C,EAAKxC,MAAMH,KAAKkC,IAAKjC,GAPvC,8IASQD,KAAKwC,eACLoC,GAAYA,IAVpB,wDAcc,CACFI,SAAQ,KAAEC,SAftB,6EA7EJ,gFAgGI,SAAAC,UAAUC,GAAyB,kCAAPC,EAAO,iCAAPA,EAAO,kBAC/BpF,KAAK0C,gBAAe,WAAM,MAEtB,GAA6B,iBAAlByC,EAA4B,CACnC,IAAME,EAAM,IAAIC,MAEhB,OADAD,EAAIE,IAAMJ,EACH,IAAIxF,SAAQ,SAACV,EAASC,GACzBmG,EAAIG,OAAS,WAAM,OACf,IAAKtD,KAAIgD,UAAT,SAAmBG,GAAnB,OAA2BD,IAC3BnG,KAEJoG,EAAII,QAAUvG,MAGtB,IAAKgD,KAAIgD,UAAT,SAAmBC,GAAnB,OAAqCC,SA9GjD,sBAiHI,SAAAM,OAAc,2BAANzF,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIwD,MAA7B,OAAsCzF,MAjHjE,0BAkHI,SAAA0F,WAAkB,2BAAN1F,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIyD,UAA7B,OAA0C1F,MAlHzE,0BAmHI,SAAA2F,WAAkB,2BAAN3F,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI0D,UAA7B,OAA0C3F,MAnHzE,wBAoHI,SAAA4F,SAAgB,2BAAN5F,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI2D,QAA7B,OAAwC5F,MApHrE,wBAqHI,SAAA6F,SAAgB,2BAAN7F,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI4D,QAA7B,OAAwC7F,MArHrE,kCAsHI,SAAA8F,mBAA0B,2BAAN9F,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI6D,kBAA7B,OAAkD9F,MAtHzF,sBAuHI,SAAA+F,OAAc,2BAAN/F,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI8D,MAA7B,OAAsC/F,MAvHjE,yBAwHI,SAAAgG,UAAiB,2BAANhG,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI+D,SAA7B,OAAyChG,MAxHvE,wBAyHI,SAAAiG,SAAgB,2BAANjG,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIgE,QAA7B,OAAwCjG,MAzHrE,sBA0HI,SAAAkG,OAAc,2BAANlG,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIiE,MAA7B,OAAsClG,MA1HjE,uBA2HI,SAAAmG,QAAe,2BAANnG,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIkE,OAA7B,OAAuCnG,MA3HnE,8BA4HI,SAAAoG,aAAaC,GAAO,WAChBtG,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIW,UAAYyD,OA7HzD,6BA+HI,SAAAC,YAAYC,GACRxG,KAAK8C,KAAL,UAAe0D,EAAf,QAhIR,gCAkII,SAAAC,eAAeC,GACX1G,KAAK+C,YAAc2D,IAnI3B,4BAqII,SAAAC,WAAW1D,GACPjD,KAAKiD,QAAUA,IAtIvB,6BAwII,SAAA2D,YAAYC,EAASC,GAAQ,WACzB9G,KAAK0C,gBAAe,WAChB,EAAKR,IAAI0E,YAAYC,GACrB,EAAK3E,IAAIgB,eAAiB4D,OA3ItC,6BA8II,SAAAC,YAAY5D,GACRnD,KAAKmD,SAAWA,IA/IxB,8BAiJI,SAAA6D,aAAa5D,GACTpD,KAAKoD,UAAYA,IAlJzB,+BAoJI,SAAA6D,cAAc5D,GACVrD,KAAKqD,WAAaA,IArJ1B,2BAuJI,SAAA6D,UAAUC,EAASC,EAASC,EAAMf,GAAO,WACrCtG,KAAK0C,gBAAe,WAChB,EAAKR,IAAIsB,cAAgB2D,EACzB,EAAKjF,IAAIuB,cAAgB2D,EACzB,EAAKlF,IAAIqB,YAAc+C,EACvB,EAAKpE,IAAIoB,WAAa+D,OA5JlC,gCA+JI,SAAAC,eAAehB,GAAO,WAClBtG,KAAK0C,gBAAe,WAAQ,EAAKR,IAAIwB,YAAc4C,OAhK3D,8BAkKI,SAAAiB,aAAaC,GACTxH,KAAK2D,UAAY6D,IAnKzB,iCAqKI,SAAAC,gBAAgB7D,GACZ5D,KAAK4D,aAAejC,EAAgBiC,IAAiB,eAtK7D,8BAwKI,SAAA8D,eAAsB,2BAANzH,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIwF,cAA7B,OAA8CzH,MAxKjF,wBAyKI,SAAA0H,SAAgB,2BAAN1H,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAIyF,QAA7B,OAAwC1H,MAzKrE,4BA0KI,SAAA2H,aAAoB,2BAAN3H,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI0F,YAA7B,OAA4C3H,MA1K7E,4BA2KI,SAAA4H,aAAoB,2BAAN5H,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI2F,YAA7B,OAA4C5H,MA3K7E,2BA4KI,SAAA6H,YAAmB,2BAAN7H,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI4F,WAA7B,OAA2C7H,MA5K3E,2BA6KI,SAAA8H,YAAmB,2BAAN9H,EAAM,yBAANA,EAAM,gBAAE,OAAOD,KAAK0C,eAAL,MAAA1C,KAAA,CAAoBA,KAAKkC,IAAI6F,WAA7B,OAA2C9H,MA7K3E,6BA8KI,SAAA+H,YAAYC,GACR,OAAOjI,KAAKgI,YAAYC,KA/KhC,wCAiLI,SAAAC,uBAAuBC,EAAGC,EAAGC,GAEzB,OADuBrI,KAAKkC,IAAIoG,qBAAqBH,EAAGC,EAAG,EAAGD,EAAGC,EAAGC,KAlL5E,sCAqLI,SAAAE,qBAAqBC,EAAIC,EAAIC,EAAIC,GAC7B,OAAO3I,KAAKuI,qBAAqBC,EAAIC,EAAIC,EAAIC,OAtLrD,iBCNaC,EAAb,WACI,kBAAYC,EAAUC,EAAoBC,GAAQ,2BAC9C/I,KAAKgJ,WAAaF,EAAmBE,WACrChJ,KAAKiJ,UAAYJ,EACjB7I,KAAKkJ,eAAiBJ,EACtB9I,KAAKmJ,QAAUJ,EALvB,sDAOI,SAAAK,QAAQC,GACJ,IAAQJ,EAAmDjJ,KAAnDiJ,UAAWD,EAAwChJ,KAAxCgJ,WAAYG,EAA4BnJ,KAA5BmJ,QAASD,EAAmBlJ,KAAnBkJ,eAExC,OADAA,EAAeI,MAAML,EAAWD,EAAYG,EAAS,CAAEC,WAAS,GAAMC,GAC/DH,IAVf,sBAYI,SAAAK,KAAKF,GACD,IAAQJ,EAAmDjJ,KAAnDiJ,UAAWD,EAAwChJ,KAAxCgJ,WAAYG,EAA4BnJ,KAA5BmJ,QAASD,EAAmBlJ,KAAnBkJ,eAExC,OADAA,EAAeI,MAAML,EAAWD,EAAYG,EAAS,CAAEK,kBAAgB,EAAID,QAAM,GAAMF,GAChFH,IAff,oCAiBI,SAAAO,mBAAmBJ,GACf,IAAQJ,EAAmDjJ,KAAnDiJ,UAAWD,EAAwChJ,KAAxCgJ,WAAYG,EAA4BnJ,KAA5BmJ,QAASD,EAAmBlJ,KAAnBkJ,eAExC,OADAA,EAAeI,MAAML,EAAWD,EAAYG,EAAS,CAAEzH,MAAI,EAAIgI,WAAS,EAAI1D,QAAM,EAAI2D,QAAM,GAAMN,GAC3FH,IApBf,8BAsBI,SAAAU,aAAaP,GACT,IAAQJ,EAAmDjJ,KAAnDiJ,UAAWD,EAAwChJ,KAAxCgJ,WAAYG,EAA4BnJ,KAA5BmJ,QAASD,EAAmBlJ,KAAnBkJ,eAExC,OADAA,EAAeI,MAAML,EAAWD,EAAYG,EAAS,CAAEzH,MAAI,EAAIgI,WAAS,EAAIE,gBAAc,GAAMP,GACzFH,IAzBf,wBA2BI,SAAAW,OAAOA,EAAQR,GACX,IAAQJ,EAAmDjJ,KAAnDiJ,UAAWD,EAAwChJ,KAAxCgJ,WAAYG,EAA4BnJ,KAA5BmJ,QAASD,EAAmBlJ,KAAnBkJ,eAChCxH,EAA+EmI,EAA/EnI,GAAIgI,EAA2EG,EAA3EH,QAAS1D,EAAkE6D,EAAlE7D,KAAM2D,EAA4DE,EAA5DF,KAAMC,EAAsDC,EAAtDD,aAAjC,EAAuFC,EAAxCC,kBAA/C,MAA4D,GAA5D,IAAuFD,EAAvBE,qBAAhE,MAAgF,GAAhF,EAUA,OATAb,EAAeI,MAAML,EAAWD,EAAYG,EAAS,CACjDzH,OACAgI,YACA1D,SACA2D,SACAC,iBACAE,eACAC,mBACDV,GACIH,MAvCf,YCGA,SAASlF,OAAO6F,EAAQG,EAAKnB,GACzB,IAAKmB,EACD,OAAO,KACX,IAAMC,EAA0B,eAAbpB,EACXnH,EAA8GmI,EAA9GnI,GAAIgI,EAA0GG,EAA1GH,QAAS1D,EAAiG6D,EAAjG7D,KAAM2D,EAA2FE,EAA3FF,KAAMC,EAAqFC,EAArFD,aAAjC,EAAsHC,EAAvEC,kBAA/C,MAA4D,GAA5D,IAAsHD,EAAtDE,qBAAhE,MAAgF,GAAhF,EAAoFP,EAAkCK,EAAlCL,eAAgBD,EAAkBM,EAAlBN,KAAMH,EAAYS,EAAZT,QACpGc,EAAM,GACZ,GAAIV,GAAkBD,EAAM,CACxB,IAAMY,EAAUH,EAAIG,QAKpB,GAJAD,EAAIX,KAAO,CACP7H,KAAIsI,EAAItI,GACR0I,eAAcJ,GAEd,qBAAqBK,KAAKF,GAAU,CACpC,IAAMG,EAAON,EAAIM,MAAQ,GACzBJ,EAAIV,eAAiBc,EACrB,IAAMrI,EAAS+H,EAAIO,qBAAqB,UAAU,GAC9C,eAAeF,KAAKC,IAASrI,EAC7BiI,EAAIX,KAAOtH,EAGXiI,EAAIX,KAAO,UAMfW,EAAIV,eAAiB,GACrBU,EAAIX,KAAOS,EAEf,OAAOE,EAEX,IAAId,EAAJ,CA2BA,GAJI1H,IACAwI,EAAIxI,GAAKsI,EAAItI,IACbgI,IACAQ,EAAIR,QAAUc,OAAOC,OAAO,GAAIT,EAAIN,UACpC1D,GAAQ2D,EAAM,CACd,MAAoDK,EAAIU,wBAAhDC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MAAOhJ,EAArB,EAAqBA,IAAKC,EAA1B,EAA0BA,OAAQiD,EAAlC,EAAkCA,MAAOC,EAAzC,EAAyCA,OACrCiB,IACKiE,GAODC,EAAIS,KAAO,EACXT,EAAIU,MAAQ,EACZV,EAAItI,IAAM,EACVsI,EAAIrI,OAAS,IATbqI,EAAIS,KAAOA,EACXT,EAAIU,MAAQA,EACZV,EAAItI,IAAMA,EACVsI,EAAIrI,OAASA,IASjB8H,IACKM,GAKDC,EAAIpF,MAAQkF,EAAIa,YAChBX,EAAInF,OAASiF,EAAIc,eALjBZ,EAAIpF,MAAQA,EACZoF,EAAInF,OAASA,IAmBzB,GAXI6E,IACAM,EAAIa,WAAaf,EAAIe,WACrBb,EAAIc,UAAYhB,EAAIgB,WAEpBlB,EAAWrH,QACXqH,EAAWmB,SAAQ,SAAAC,GACf,IAAMC,EAAOnB,EAAIoB,aAAaF,GAC1BC,IACAjB,EAAIgB,GAAQC,MAGpBpB,EAActH,OAAQ,CACtB,IAAM4I,EAASC,OAAOC,iBAAiBvB,GACvCD,EAAckB,SAAQ,SAAA5L,GAClB,IAAMG,EAAQ6L,EAAOG,iBAAiBnM,IAAQgM,EAAOhM,GACjDG,IACA0K,EAAI7K,GAAOG,MAGvB,OAAO0K,EAxEH,IAAMC,EAAUH,EAAIG,QACpB,GAAI,oBAAoBE,KAAKF,GAEzB,MAAO,CAAEf,UAASY,GAEjB,GAAI,qBAAqBK,KAAKF,GAAU,CACzC,IAAMG,EAAON,EAAIM,MAAQ,KACnBrI,EAAS+H,aAAiC,EAASA,EAAIyB,cAAc,UACrEvJ,EAAMD,aAAuC,EAASA,EAAOyJ,WAAWpB,GAC9E,MAAO,CAAElB,UAAS,IAAIpH,EAAcC,EAAQC,IAEvC,0BAA0BmI,KAAKF,GACpCwB,QAAQlM,MAAM,iDAET,qBAAqB4K,KAAKF,GAC/BwB,QAAQlM,MAAM,6CAET,kBAAkB4K,KAAKF,IAC5BwB,QAAQlM,MAAM,0CAoGnB,IAAMmM,EAAb,WACI,yBAAc,gCACV5L,KAAK6L,kBAAoB,KACzB7L,KAAK8L,WAAa,KAClB9L,KAAK+L,OAAS,GACd/L,KAAKgM,SAAW,GAChBhM,KAAKgJ,WANb,sDAQI,aAAGiD,GAEC,OADAjM,KAAKgJ,WAAaiD,EACXjM,OAVf,wBAYI,SAAAkM,OAAOrD,GAIH,MAFwB,iBAAbA,IACPA,EAAWA,EAASsD,QAAQ,MAAO,MAChC,IAAIvD,EAASC,EAAU7I,MAAM,KAhB5C,2BAkBI,SAAAoM,UAAUvD,GAIN,MAFwB,iBAAbA,IACPA,EAAWA,EAASsD,QAAQ,MAAO,MAChC,IAAIvD,EAASC,EAAU7I,MAAM,KAtB5C,gCAwBI,SAAAqM,iBACI,OAAO,IAAIzD,EAAS,aAAc5I,MAAM,KAzBhD,sBA2BI,SAAAsM,KAAKjD,GAAI,WASL,OA5ER,SAASkD,SAASC,EAAOnD,GACrB,IAAMoD,EAAS,GACfD,EAAMvB,SAAQ,SAAAyB,GACV,IAAIC,EACI9D,EAAwC6D,EAAxC7D,SAAUE,EAA8B2D,EAA9B3D,OAAQc,EAAsB6C,EAAtB7C,OAAQoC,EAAcS,EAAdT,UAG5BW,EAA2B,OAAdX,GACdY,YAAQZ,IACTa,SAGAC,GAAa,EACjB,GAAIH,IAAcE,SAAU,CACxB,IAAME,EAA4C,QAA/BL,EAAKC,EAAUK,kBAA+B,IAAPN,OAAgB,EAASA,EAAGO,iBAAiBrE,GACvG,GAAImE,EACA,IAAK,IAAIG,EAAI,EAAGC,EAAMJ,EAAUvK,OAAQ0K,EAAIC,IAAOD,EAC/C,GAAIP,IAAcI,EAAUG,GAAI,CAC5BJ,GAAa,EACb,OAKhB,GAAIhE,EAAQ,CACR,IAAMsE,GAAoB,IAAfN,EAAsBH,EAAYA,EAAUnB,cAAc5C,GACrE4D,EAAO7J,KAAKoB,OAAO6F,EAAQwD,EAAIxE,QAE9B,CACD,IAAMyE,EAAYV,EAAUM,iBAAiBrE,GACvC0E,EAAW,IACF,IAAfR,GAAuBQ,EAAS3K,KAAKgK,GACrC,IAAK,IAAIO,EAAI,EAAGC,EAAME,EAAU7K,OAAQ0K,EAAIC,IAAOD,EAC/CI,EAAS3K,KAAK0K,EAAUH,IAE5BV,EAAO7J,KAAK2K,EAASC,KAAI,SAAAxD,GAAG,OAAIhG,OAAO6F,EAAQG,WAGvDX,EAAGoD,GA8BCF,CAASvM,KAAK+L,QAAQ,SAAA7B,GAClB,IAAM8B,EAAW,EAAKA,SACtB9B,EAAIe,SAAQ,SAACyB,EAAMe,GACf,IAAMpE,EAAK2C,EAASyB,GACN,mBAAPpE,GAAqBA,EAAGqE,KAAK,EAAMhB,MAEhC,mBAAPrD,GAAqBA,EAAGqE,KAAK,EAAMxD,MAEvClK,OApCf,uBAsCI,SAAAsJ,MAAMT,EAAUoD,EAAWlD,EAAQc,GAAyB,IAAjBjF,EAAiB,uDAAN,KAClD5E,KAAK+L,OAAOnJ,KAAK,CACbqJ,cACApD,aACAE,WACAc,aAEJ7J,KAAKgM,SAASpJ,KAAKgC,OA7C3B,iBCvJa+I,EAAsB,SAAtBA,sBACT,OAAO,IAAI/B,GAE2BgC,YAAsB,+B,mCCLhE,+EAEMC,EAAkB,IAFxB,MAE4BC,GACtBC,EAAiB,SAAjBA,iBACFF,EAAgBG,QAAQ,CACpBC,cAAa3C,OAAO4C,OAAOpJ,MAC3BqJ,eAAc7C,OAAO4C,OAAOnJ,UAUvBqJ,GAJgBR,YAAsB,iBAIrB,SAAjBQ,eAAiBxJ,GAC1BiJ,EAAgBQ,IAAIzJ,GACY,IAA5BiJ,EAAgBS,SAChBhD,OAAOiD,iBAAiB,SAAUR,KAM7BS,EAAkB,SAAlBA,gBAAkB5J,GAC3BiJ,EAAgBY,OAAO7J,GACS,IAA5BiJ,EAAgBS,SAChBhD,OAAOoD,oBAAoB,SAAUX","file":"chunk/6.f0055613.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    isIterateeCall = require('./_isIterateeCall'),\n    isRegExp = require('./isRegExp'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Splits `string` by `separator`.\n *\n * **Note:** This method is based on\n * [`String#split`](https://mdn.io/String/split).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to split.\n * @param {RegExp|string} separator The separator pattern to split by.\n * @param {number} [limit] The length to truncate results to.\n * @returns {Array} Returns the string segments.\n * @example\n *\n * _.split('a-b-c', '-', 2);\n * // => ['a', 'b']\n */\nfunction split(string, separator, limit) {\n  if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n    separator = limit = undefined;\n  }\n  limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n  if (!limit) {\n    return [];\n  }\n  string = toString(string);\n  if (string && (\n        typeof separator == 'string' ||\n        (separator != null && !isRegExp(separator))\n      )) {\n    separator = baseToString(separator);\n    if (!separator && hasUnicode(string)) {\n      return castSlice(stringToArray(string), 0, limit);\n    }\n  }\n  return string.split(separator, limit);\n}\n\nmodule.exports = split;\n","var baseIsRegExp = require('./_baseIsRegExp'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsRegExp = nodeUtil && nodeUtil.isRegExp;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nvar isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\nmodule.exports = isRegExp;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/**\n * The base implementation of `_.isRegExp` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n */\nfunction baseIsRegExp(value) {\n  return isObjectLike(value) && baseGetTag(value) == regexpTag;\n}\n\nmodule.exports = baseIsRegExp;\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","const TextBaseLineMap = {\n    top: 'top',\n    bottom: 'bottom',\n    middle: 'middle',\n    normal: 'alphabetic'\n};\nexport class CanvasContext {\n    constructor(canvas, ctx) {\n        this.actions = [];\n        this.canvas = canvas;\n        this.ctx = ctx;\n    }\n    set ctx(e) {\n        this.__raw__ = e;\n    }\n    get ctx() {\n        return this.__raw__ || {};\n    }\n    emptyActions() {\n        this.actions.length = 0;\n    }\n    enqueueActions(func, ...args) {\n        this.actions.push({\n            func,\n            args\n        });\n    }\n    set fillStyle(e) { this.enqueueActions(() => { this.ctx.fillStyle = e; }); }\n    get fillStyle() { return this.ctx.fillStyle; }\n    set font(e) { this.ctx.font = e; }\n    get font() { return this.ctx.font; }\n    set globalAlpha(e) { this.enqueueActions(() => { this.ctx.globalAlpha = e; }); }\n    get globalAlpha() { return this.ctx.globalAlpha; }\n    set globalCompositeOperation(e) { this.enqueueActions(() => { this.ctx.globalCompositeOperation = e; }); }\n    get globalCompositeOperation() { return this.ctx.globalCompositeOperation; }\n    set lineCap(e) { this.enqueueActions(() => { this.ctx.lineCap = e; }); }\n    get lineCap() { return this.ctx.lineCap; }\n    set lineDashOffset(e) { this.enqueueActions(() => { this.ctx.lineDashOffset = e; }); }\n    get lineDashOffset() { return this.ctx.lineDashOffset; }\n    set lineJoin(e) { this.enqueueActions(() => { this.ctx.lineJoin = e; }); }\n    get lineJoin() { return this.ctx.lineJoin; }\n    set lineWidth(e) { this.enqueueActions(() => { this.ctx.lineWidth = e; }); }\n    get lineWidth() { return this.ctx.lineWidth; }\n    set miterLimit(e) { this.enqueueActions(() => { this.ctx.miterLimit = e; }); }\n    get miterLimit() { return this.ctx.miterLimit; }\n    set shadowBlur(e) { this.enqueueActions(() => { this.ctx.shadowBlur = e; }); }\n    get shadowBlur() { return this.ctx.shadowBlur; }\n    set shadowColor(e) { this.enqueueActions(() => { this.ctx.shadowColor = e; }); }\n    get shadowColor() { return this.ctx.shadowColor; }\n    set shadowOffsetX(e) { this.enqueueActions(() => { this.ctx.shadowOffsetX = e; }); }\n    get shadowOffsetX() { return this.ctx.shadowOffsetX; }\n    set shadowOffsetY(e) { this.enqueueActions(() => { this.ctx.shadowOffsetY = e; }); }\n    get shadowOffsetY() { return this.ctx.shadowOffsetY; }\n    set strokeStyle(e) { this.enqueueActions(() => { this.ctx.strokeStyle = e; }); }\n    get strokeStyle() { return this.ctx.strokeStyle; }\n    /** 小程序文档中不包括 ↓↓↓ */\n    set textAlign(e) { this.ctx.textAlign = e; }\n    get textAlign() { return this.ctx.textAlign; }\n    set textBaseline(e) { this.ctx.textBaseline = e; }\n    get textBaseline() { return this.ctx.textBaseline; }\n    set direction(e) { this.ctx.direction = e; }\n    get direction() { return this.ctx.direction; }\n    set imageSmoothingEnabled(e) { this.enqueueActions(() => { this.ctx.imageSmoothingEnabled = e; }); }\n    get imageSmoothingEnabled() { return this.ctx.imageSmoothingEnabled; }\n    set imageSmoothingQuality(e) { this.enqueueActions(() => { this.ctx.imageSmoothingQuality = e; }); }\n    get imageSmoothingQuality() { return this.ctx.imageSmoothingQuality; }\n    set filter(e) { this.enqueueActions(() => { this.ctx.filter = e; }); }\n    get filter() { return this.ctx.filter; }\n    /** 小程序文档中不包括 ↑↑↑ */\n    arc(...args) { return this.enqueueActions(this.ctx.arc, ...args); }\n    arcTo(...args) { return this.enqueueActions(this.ctx.arcTo, ...args); }\n    beginPath(...args) { return this.enqueueActions(this.ctx.beginPath, ...args); }\n    bezierCurveTo(...args) { return this.enqueueActions(this.ctx.bezierCurveTo, ...args); }\n    clearRect(...args) { return this.enqueueActions(this.ctx.clearRect, ...args); }\n    clip(...args) { return this.enqueueActions(this.ctx.clip, ...args); }\n    closePath(...args) { return this.enqueueActions(this.ctx.closePath, ...args); }\n    createPattern(image, repetition) {\n        return this.createPattern(image, repetition);\n    }\n    /**\n     * 将之前在绘图上下文中的描述（路径、变形、样式）画到 canvas 中。\n     * @todo 每次 draw 都会读取 width 和 height\n     */\n    async draw(reserve, callback) {\n        try {\n            if (!reserve) {\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            }\n            // 部分 action 是异步的\n            for (const { func, args } of this.actions) {\n                await func.apply(this.ctx, args);\n            }\n            this.emptyActions();\n            callback && callback();\n        }\n        catch (e) {\n            /* eslint-disable no-throw-literal */\n            throw {\n                errMsg: e.message\n            };\n        }\n    }\n    drawImage(imageResource, ...extra) {\n        this.enqueueActions(() => {\n            // 需要转换为 Image\n            if (typeof imageResource === 'string') {\n                const img = new Image();\n                img.src = imageResource;\n                return new Promise((resolve, reject) => {\n                    img.onload = () => {\n                        this.ctx.drawImage(img, ...extra);\n                        resolve();\n                    };\n                    img.onerror = reject;\n                });\n            }\n            this.ctx.drawImage(imageResource, ...extra);\n        });\n    }\n    fill(...args) { return this.enqueueActions(this.ctx.fill, ...args); }\n    fillRect(...args) { return this.enqueueActions(this.ctx.fillRect, ...args); }\n    fillText(...args) { return this.enqueueActions(this.ctx.fillText, ...args); }\n    lineTo(...args) { return this.enqueueActions(this.ctx.lineTo, ...args); }\n    moveTo(...args) { return this.enqueueActions(this.ctx.moveTo, ...args); }\n    quadraticCurveTo(...args) { return this.enqueueActions(this.ctx.quadraticCurveTo, ...args); }\n    rect(...args) { return this.enqueueActions(this.ctx.rect, ...args); }\n    restore(...args) { return this.enqueueActions(this.ctx.restore, ...args); }\n    rotate(...args) { return this.enqueueActions(this.ctx.rotate, ...args); }\n    save(...args) { return this.enqueueActions(this.ctx.save, ...args); }\n    scale(...args) { return this.enqueueActions(this.ctx.scale, ...args); }\n    setFillStyle(color) {\n        this.enqueueActions(() => { this.ctx.fillStyle = color; });\n    }\n    setFontSize(fontSize) {\n        this.font = `${fontSize}px`;\n    }\n    setGlobalAlpha(alpha) {\n        this.globalAlpha = alpha;\n    }\n    setLineCap(lineCap) {\n        this.lineCap = lineCap;\n    }\n    setLineDash(pattern, offset) {\n        this.enqueueActions(() => {\n            this.ctx.setLineDash(pattern);\n            this.ctx.lineDashOffset = offset;\n        });\n    }\n    setLineJoin(lineJoin) {\n        this.lineJoin = lineJoin;\n    }\n    setLineWidth(lineWidth) {\n        this.lineWidth = lineWidth;\n    }\n    setMiterLimit(miterLimit) {\n        this.miterLimit = miterLimit;\n    }\n    setShadow(offsetX, offsetY, blur, color) {\n        this.enqueueActions(() => {\n            this.ctx.shadowOffsetX = offsetX;\n            this.ctx.shadowOffsetY = offsetY;\n            this.ctx.shadowColor = color;\n            this.ctx.shadowBlur = blur;\n        });\n    }\n    setStrokeStyle(color) {\n        this.enqueueActions(() => { this.ctx.strokeStyle = color; });\n    }\n    setTextAlign(align) {\n        this.textAlign = align;\n    }\n    setTextBaseline(textBaseline) {\n        this.textBaseline = TextBaseLineMap[textBaseline] || 'alphabetic';\n    }\n    setTransform(...args) { return this.enqueueActions(this.ctx.setTransform, ...args); }\n    stroke(...args) { return this.enqueueActions(this.ctx.stroke, ...args); }\n    strokeRect(...args) { return this.enqueueActions(this.ctx.strokeRect, ...args); }\n    strokeText(...args) { return this.enqueueActions(this.ctx.strokeText, ...args); }\n    transform(...args) { return this.enqueueActions(this.ctx.transform, ...args); }\n    translate(...args) { return this.enqueueActions(this.ctx.translate, ...args); }\n    measureText(text) {\n        return this.measureText(text);\n    }\n    createCircularGradient(x, y, r) {\n        const radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, r);\n        return radialGradient;\n    }\n    createLinearGradient(x0, y0, x1, y1) {\n        return this.createLinearGradient(x0, y0, x1, y1);\n    }\n}\n","export class NodesRef {\n    constructor(selector, querySelectorQuery, single) {\n        this._component = querySelectorQuery._component;\n        this._selector = selector;\n        this._selectorQuery = querySelectorQuery;\n        this._single = single;\n    }\n    context(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { context: !0 }, cb);\n        return _selectorQuery;\n    }\n    node(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { nodeCanvasType: !0, node: !0 }, cb);\n        return _selectorQuery;\n    }\n    boundingClientRect(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { id: !0, dataset: !0, rect: !0, size: !0 }, cb);\n        return _selectorQuery;\n    }\n    scrollOffset(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { id: !0, dataset: !0, scrollOffset: !0 }, cb);\n        return _selectorQuery;\n    }\n    fields(fields, cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        const { id, dataset, rect, size, scrollOffset, properties = [], computedStyle = [] } = fields;\n        _selectorQuery._push(_selector, _component, _single, {\n            id,\n            dataset,\n            rect,\n            size,\n            scrollOffset,\n            properties,\n            computedStyle\n        }, cb);\n        return _selectorQuery;\n    }\n}\n","import { CanvasContext } from '../canvas/CanvasContext';\nimport { findDOM } from '../utils';\nimport { NodesRef } from './nodesRef';\nfunction filter(fields, dom, selector) {\n    if (!dom)\n        return null;\n    const isViewport = selector === '.taro_page';\n    const { id, dataset, rect, size, scrollOffset, properties = [], computedStyle = [], nodeCanvasType, node, context } = fields;\n    const res = {};\n    if (nodeCanvasType && node) {\n        const tagName = dom.tagName;\n        res.node = {\n            id: dom.id,\n            $taroElement: dom\n        };\n        if (/^taro-canvas-core/i.test(tagName)) {\n            const type = dom.type || '';\n            res.nodeCanvasType = type;\n            const canvas = dom.getElementsByTagName('canvas')[0];\n            if (/^(2d|webgl)/i.test(type) && canvas) {\n                res.node = canvas;\n            }\n            else {\n                res.node = null;\n            }\n        }\n        else {\n            // TODO https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html\n            // if (/^taro-scroll-view-core/i.test(tagName))\n            res.nodeCanvasType = '';\n            res.node = dom;\n        }\n        return res;\n    }\n    if (context) {\n        const tagName = dom.tagName;\n        if (/^taro-video-core/i.test(tagName)) {\n            // TODO HTMLVideoElement to VideoContext\n            return { context: dom };\n        }\n        else if (/^taro-canvas-core/i.test(tagName)) {\n            const type = dom.type || '2d';\n            const canvas = dom === null || dom === void 0 ? void 0 : dom.querySelector('canvas');\n            const ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext(type);\n            return { context: new CanvasContext(canvas, ctx) };\n        }\n        else if (/^taro-live-player-core/i.test(tagName)) {\n            console.error('暂时不支持通过 NodesRef.context 获取 LivePlayerContext');\n        }\n        else if (/^taro-editor-core/i.test(tagName)) {\n            console.error('暂时不支持通过 NodesRef.context 获取 EditorContext');\n        }\n        else if (/^taro-map-core/i.test(tagName)) {\n            console.error('暂时不支持通过 NodesRef.context 获取 MapContext');\n        }\n        return;\n    }\n    if (id)\n        res.id = dom.id;\n    if (dataset)\n        res.dataset = Object.assign({}, dom.dataset);\n    if (rect || size) {\n        const { left, right, top, bottom, width, height } = dom.getBoundingClientRect();\n        if (rect) {\n            if (!isViewport) {\n                res.left = left;\n                res.right = right;\n                res.top = top;\n                res.bottom = bottom;\n            }\n            else {\n                res.left = 0;\n                res.right = 0;\n                res.top = 0;\n                res.bottom = 0;\n            }\n        }\n        if (size) {\n            if (!isViewport) {\n                res.width = width;\n                res.height = height;\n            }\n            else {\n                res.width = dom.clientWidth;\n                res.height = dom.clientHeight;\n            }\n        }\n    }\n    if (scrollOffset) {\n        res.scrollLeft = dom.scrollLeft;\n        res.scrollTop = dom.scrollTop;\n    }\n    if (properties.length) {\n        properties.forEach(prop => {\n            const attr = dom.getAttribute(prop);\n            if (attr)\n                res[prop] = attr;\n        });\n    }\n    if (computedStyle.length) {\n        const styles = window.getComputedStyle(dom);\n        computedStyle.forEach(key => {\n            const value = styles.getPropertyValue(key) || styles[key];\n            if (value)\n                res[key] = value;\n        });\n    }\n    return res;\n}\n/**\n * WXML节点信息API\n * @return {Object} SelectorQuery 对象实例\n */\nfunction queryBat(queue, cb) {\n    const result = [];\n    queue.forEach(item => {\n        var _a;\n        const { selector, single, fields, component } = item;\n        // selector 的容器节点\n        /* eslint-disable */\n        const container = (component !== null ?\n            (findDOM(component) || document) :\n            document);\n        /* eslint-enable */\n        // 特殊处理 ---- 选自己\n        let selectSelf = false;\n        if (container !== document) {\n            const $nodeList = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.querySelectorAll(selector);\n            if ($nodeList) {\n                for (let i = 0, len = $nodeList.length; i < len; ++i) {\n                    if (container === $nodeList[i]) {\n                        selectSelf = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (single) {\n            const el = selectSelf === true ? container : container.querySelector(selector);\n            result.push(filter(fields, el, selector));\n        }\n        else {\n            const $children = container.querySelectorAll(selector);\n            const children = [];\n            selectSelf === true && children.push(container);\n            for (let i = 0, len = $children.length; i < len; ++i) {\n                children.push($children[i]);\n            }\n            result.push(children.map(dom => filter(fields, dom)));\n        }\n    });\n    cb(result);\n}\nexport class SelectorQuery {\n    constructor() {\n        this._defaultWebviewId = null;\n        this._webviewId = null;\n        this._queue = [];\n        this._queueCb = [];\n        this._component;\n    }\n    in(component) {\n        this._component = component;\n        return this;\n    }\n    select(selector) {\n        // 小程序里跨自定义组件的后代选择器 '>>>' 在 h5 替换为普通后代选择器 '>'\n        if (typeof selector === 'string')\n            selector = selector.replace('>>>', '>');\n        return new NodesRef(selector, this, true);\n    }\n    selectAll(selector) {\n        // 小程序里跨自定义组件的后代选择器 '>>>' 在 h5 替换为普通后代选择器 '>'\n        if (typeof selector === 'string')\n            selector = selector.replace('>>>', '>');\n        return new NodesRef(selector, this, false);\n    }\n    selectViewport() {\n        return new NodesRef('.taro_page', this, true);\n    }\n    exec(cb) {\n        queryBat(this._queue, res => {\n            const _queueCb = this._queueCb;\n            res.forEach((item, index) => {\n                const cb = _queueCb[index];\n                typeof cb === 'function' && cb.call(this, item);\n            });\n            typeof cb === 'function' && cb.call(this, res);\n        });\n        return this;\n    }\n    _push(selector, component, single, fields, callback = null) {\n        this._queue.push({\n            component,\n            selector,\n            single,\n            fields\n        });\n        this._queueCb.push(callback);\n    }\n}\n","import { temporarilyNotSupport } from '../utils';\nimport { SelectorQuery } from './selectorQuery';\nexport const createSelectorQuery = () => {\n    return new SelectorQuery();\n};\nexport const createIntersectionObserver = temporarilyNotSupport('createIntersectionObserver');\n","import { temporarilyNotSupport } from '../utils';\nimport { CallbackManager } from '../utils/handler';\nconst callbackManager = new CallbackManager();\nconst resizeListener = () => {\n    callbackManager.trigger({\n        windowWidth: window.screen.width,\n        windowHeight: window.screen.height\n    });\n};\n/**\n * 设置窗口大小，该接口仅适用于 PC 平台，使用细则请参见指南\n */\nexport const setWindowSize = temporarilyNotSupport('setWindowSize');\n/**\n * 监听窗口尺寸变化事件\n */\nexport const onWindowResize = callback => {\n    callbackManager.add(callback);\n    if (callbackManager.count() === 1) {\n        window.addEventListener('resize', resizeListener);\n    }\n};\n/**\n * 取消监听窗口尺寸变化事件\n */\nexport const offWindowResize = callback => {\n    callbackManager.remove(callback);\n    if (callbackManager.count() === 0) {\n        window.removeEventListener('resize', resizeListener);\n    }\n};\n"],"sourceRoot":""}