{"version":3,"sources":["webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/components/dist/esm-es5/taro-pull-to-refresh.entry.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/components/dist/esm-es5/index-85e10859.js"],"names":["Taro","require","setTransform","e","t","transform","webkitTransform","MozTransform","isWebView","navigator","test","userAgent","INDICATOR","activate","deactivate","release","finish","supportsPassive","opts","Object","defineProperty","get","window","addEventListener","willPreventDefault","passive","PullToRefresh","this","registerInstance","onRefresh","createEvent","prefixCls","distanceToRefresh","damping","indicator","currSt","dragOnEdge","_ScreenY","_startScreenY","_lastScreenY","_isMounted","triggerPullDownRefresh","setContentStyle","reset","init","scrollContainer","_to","touchstart","onTouchStart","bind","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","keys","forEach","r","destroy","removeEventListener","touches","screenY","isEdge","document","body","scrollingElement","scrollTop","damp","Math","abs","screen","height","n","cancelable","preventDefault","i","round","changedTouches","clientY","emit","contentRef","style","prototype","querySelector","enumerable","configurable","statusChange","el","closest","__page","onPullDownRefresh","disconnectedCallback","componentDidLoad","eventCenter","on","successHandler","errorHandler","errMsg","render","s","o","classnames","a","h","class","ref","Host","getElement","createCommonjsModule","path","exports","commonjsRequire","Error","hasOwnProperty","arguments","length","push","Array","isArray","apply","toString","u","call","join","default","classNames"],"mappings":"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","file":"chunk/86.a4e46f64.js","sourcesContent":["import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from\"./index-165a6222.js\";import{c as classnames}from\"./index-85e10859.js\";var indexCss=\".rmc-pull-to-refresh-content{-webkit-transform-origin:left top 0px;transform-origin:left top 0px}.rmc-pull-to-refresh-content-wrapper{overflow:hidden}.rmc-pull-to-refresh-transition{-webkit-transition:-webkit-transform 0.3s;transition:-webkit-transform 0.3s;transition:transform 0.3s;transition:transform 0.3s, -webkit-transform 0.3s}@-webkit-keyframes rmc-pull-to-refresh-indicator{50%{opacity:0.2}100%{opacity:1}}@keyframes rmc-pull-to-refresh-indicator{50%{opacity:0.2}100%{opacity:1}}.rmc-pull-to-refresh-indicator{text-align:center;height:30px;line-height:10px}.rmc-pull-to-refresh-indicator>div{background-color:grey;width:6px;height:6px;border-radius:100%;margin:3px;-webkit-animation-fill-mode:both;animation-fill-mode:both;display:inline-block;-webkit-animation:rmc-pull-to-refresh-indicator 0.5s 0s infinite linear;animation:rmc-pull-to-refresh-indicator 0.5s 0s infinite linear}.rmc-pull-to-refresh-indicator>div:nth-child(0){-webkit-animation-delay:-0.1s !important;animation-delay:-0.1s !important}.rmc-pull-to-refresh-indicator>div:nth-child(1){-webkit-animation-delay:-0.2s !important;animation-delay:-0.2s !important}.rmc-pull-to-refresh-indicator>div:nth-child(2){-webkit-animation-delay:-0.3s !important;animation-delay:-0.3s !important}.rmc-pull-to-refresh-down .rmc-pull-to-refresh-indicator{margin-top:-25px}\";var Taro=require(\"@tarojs/taro\");function setTransform(e,t){e.transform=t;e.webkitTransform=t;e.MozTransform=t}var isWebView=typeof navigator!==\"undefined\"&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);var INDICATOR={activate:\"release\",deactivate:\"pull\",release:\"loading\",finish:\"finish\"};var supportsPassive=false;try{var opts=Object.defineProperty({},\"passive\",{get:function(){supportsPassive=true}});window.addEventListener(\"cancel\",(function(){return{}}),opts)}catch(e){}var willPreventDefault=supportsPassive?{passive:false}:false;var PullToRefresh=function(){function e(e){var t=this;registerInstance(this,e);this.onRefresh=createEvent(this,\"refresh\",7);this.prefixCls=\"rmc-pull-to-refresh\";this.distanceToRefresh=50;this.damping=100;this.indicator=INDICATOR;this.currSt=\"deactivate\";this.dragOnEdge=false;this._ScreenY=0;this._startScreenY=0;this._lastScreenY=0;this._isMounted=false;this.triggerPullDownRefresh=function(e){if(!t.dragOnEdge&&t._isMounted){if(e){t._lastScreenY=t.distanceToRefresh+1;t.currSt=\"release\";t.setContentStyle(t._lastScreenY)}else{t.currSt=\"finish\";t.reset()}}};this.init=function(){var e=t.scrollContainer;t._to={touchstart:t.onTouchStart.bind(t,e),touchmove:t.onTouchMove.bind(t,e),touchend:t.onTouchEnd.bind(t,e),touchcancel:t.onTouchEnd.bind(t,e)};Object.keys(t._to).forEach((function(r){e.addEventListener(r,t._to[r],willPreventDefault)}))};this.destroy=function(){var e=t.scrollContainer;Object.keys(t._to).forEach((function(r){e.removeEventListener(r,t._to[r])}))};this.onTouchStart=function(e,r){t._ScreenY=t._startScreenY=r.touches[0].screenY;t._lastScreenY=t._lastScreenY||0};this.isEdge=function(e){var r=t.scrollContainer;if(r&&r===document.body){var n=document.scrollingElement?document.scrollingElement:document.body;return n.scrollTop<=0}return e.scrollTop<=0};this.damp=function(e){if(Math.abs(t._lastScreenY)>t.damping){return 0}var r=Math.abs(t._ScreenY-t._startScreenY)/window.screen.height;e*=(1-r)*.6;return e};this.onTouchMove=function(e,r){var n=r.touches[0].screenY;if(t._startScreenY>n){return}if(t.isEdge(e)){if(!t.dragOnEdge){t._ScreenY=t._startScreenY=r.touches[0].screenY;t.dragOnEdge=true}if(r.cancelable){r.preventDefault()}var i=Math.round(n-t._ScreenY);t._ScreenY=n;t._lastScreenY+=t.damp(i);t.setContentStyle(t._lastScreenY);if(Math.abs(t._lastScreenY)<t.distanceToRefresh){if(t.currSt!==\"deactivate\"){t.currSt=\"deactivate\"}}else{if(t.currSt===\"deactivate\"){t.currSt=\"activate\"}}if(isWebView&&r.changedTouches[0].clientY<0){t.onTouchEnd()}}};this.onTouchEnd=function(){if(t.dragOnEdge){t.dragOnEdge=false}if(t.currSt===\"activate\"){t.currSt=\"release\";t.onRefresh.emit(t);t._lastScreenY=t.distanceToRefresh+1;t.setContentStyle(t._lastScreenY)}else if(t.currSt===\"release\"){t._lastScreenY=t.distanceToRefresh+1;t.setContentStyle(t._lastScreenY)}else{t.reset()}};this.reset=function(){t._lastScreenY=0;t.setContentStyle(0)};this.setContentStyle=function(e){if(t.contentRef){if(e){setTransform(t.contentRef.style,\"translate3d(0px,\"+e+\"px,0)\")}else{setTransform(t.contentRef.style,\"\")}}}}Object.defineProperty(e.prototype,\"scrollContainer\",{get:function(){return document.querySelector(\".taro-tabbar__panel\")||document.body},enumerable:false,configurable:true});e.prototype.statusChange=function(){if(this.currSt===\"release\"){var e=this.el.closest(\".taro_page\");if(e&&e.__page){e.__page.onPullDownRefresh()}}};e.prototype.disconnectedCallback=function(){this.destroy()};e.prototype.componentDidLoad=function(){var e=this;this.init();this._isMounted=true;Taro.eventCenter.on(\"__taroStartPullDownRefresh\",(function(t){var r=t.successHandler,n=t.errorHandler;try{e.triggerPullDownRefresh(true);r({errMsg:\"startPullDownRefresh: ok\"})}catch(e){n({errMsg:\"startPullDownRefresh: fail\"})}}));Taro.eventCenter.on(\"__taroStopPullDownRefresh\",(function(t){var r=t.successHandler,n=t.errorHandler;try{e.triggerPullDownRefresh(false);r({errMsg:\"stopPullDownRefresh: ok\"})}catch(e){n({errMsg:\"stopPullDownRefresh: fail\"})}}))};e.prototype.render=function(){var e=this;var t=function(t){var r=e,n=r.currSt,i=r.dragOnEdge,s=r.prefixCls;var o=classnames(t,!i&&s+\"-transition\");var a=n===\"activate\"||n===\"release\";return h(\"div\",{class:s+\"-content-wrapper\"},h(\"div\",{class:o,ref:function(t){e.contentRef=t}},a&&h(\"div\",{class:s+\"-indicator\"},h(\"div\",null),h(\"div\",null),h(\"div\",null)),h(\"slot\",null)))};if(this.scrollContainer){return t(this.prefixCls+\"-content \"+this.prefixCls+\"-down\")}return h(Host,{class:classnames(this.prefixCls,this.prefixCls+\"-down\")},t(this.prefixCls+\"-content\"))};Object.defineProperty(e.prototype,\"el\",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,\"watchers\",{get:function(){return{currSt:[\"statusChange\"]}},enumerable:false,configurable:true});return e}();PullToRefresh.style=indexCss;export{PullToRefresh as taro_pull_to_refresh};","function createCommonjsModule(r,e,o){return o={path:e,exports:{},require:function(r,e){return commonjsRequire()}},r(o,o.exports),o.exports}function commonjsRequire(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}var classnames=createCommonjsModule((function(r){\n/*!\n    Copyright (c) 2018 Jed Watson.\n    Licensed under the MIT License (MIT), see\n    http://jedwatson.github.io/classnames\n  */\n(function(){var e={}.hasOwnProperty;function o(){var r=[];for(var n=0;n<arguments.length;n++){var t=arguments[n];if(!t)continue;var s=typeof t;if(s===\"string\"||s===\"number\"){r.push(t)}else if(Array.isArray(t)){if(t.length){var i=o.apply(null,t);if(i){r.push(i)}}}else if(s===\"object\"){if(t.toString===Object.prototype.toString){for(var u in t){if(e.call(t,u)&&t[u]){r.push(u)}}}else{r.push(t.toString())}}}return r.join(\" \")}if(r.exports){o.default=o;r.exports=o}else{window.classNames=o}})()}));export{classnames as c};"],"sourceRoot":""}