{"version":3,"sources":["webpack:///../core/src/utils/format/unit.ts","webpack:///../core/src/utils/base.ts","webpack:///../core/src/hooks/use-mounted.ts","webpack:///../core/src/hooks/use-rendered-effect.tsx","webpack:///../core/src/hooks/use-placeholder.tsx","webpack:///../core/src/hooks/use-height.ts","webpack:///../core/src/hooks/use-timeout.ts","webpack:///../core/src/hooks/use-unique-id.ts","webpack:///../core/src/hooks/use-update.ts","webpack:///../core/src/hooks/use-window-resize.tsx","webpack:///../core/src/utils/dom/rect.ts","webpack:///../core/src/utils/dom/element.ts","webpack:///./src/components/block.tsx","webpack:///../icons/src/utils/index.ts","webpack:///../core/src/styles/hairline.ts","webpack:///../core/src/navbar/navbar-left.tsx","webpack:///../core/src/navbar/navbar-right.tsx","webpack:///../core/src/navbar/navbar-title.tsx","webpack:///../core/src/navbar/navbar.tsx","webpack:///../core/src/navbar/index.ts","webpack:///./src/pages/navigation/navbar/index.tsx"],"names":["rootFontSize","addUnitPx","value","undefined","unitToPx","getSizeStyle","originSize","size","width","height","convertRem","replace","getRootFontSize","doc","document","documentElement","fontSize","style","window","getComputedStyle","parseFloat","includes","convertPx","convertVw","innerWidth","convertVh","innerHeight","inBrowser","scripts","inWechat","process","useMounted","cb","useRenderedEffect","effect","deps","destructorRef","useRef","useEffect","nextTick","destructor","current","usePlaceholder","contentRef","className","useHeight","elementOrRef","useState","setHeight","getRect","then","children","useTimeout","timerRef","cbRef","msRef","argsRef","stop","useCallback","clearTimeout","start","callback","ms","args","setTimeout","restart","useMemo","useUniqueId","updateReducer","num","useUpdate","useReducer","useWindowResize","onWindowResize","offWindowResize","makeRect","top","left","right","bottom","element","elementUnref","isWindow","Promise","resolve","getBoundingClientRect","createNodesRef","boundingClientRect","exec","rect","isRootElement","getRects","selector","rects","querySelectorAll","forEach","oneElement","push","createSelectorQuery","selectAll","uid","val","node","nodeType","tagName","matchSelector","aSelector","bSelector","selectViewport","ancestor","parentNode","select","Block","props","variant","title","classNames","demoPrefixClassname","isIconElement","isValidElement","type","ICON_TYPE","cloneIconElement","cloneElement","restProps","oldProps","newProps","HAIRLINE_BORDER","prefixClassname","HAIRLINE_BORDER_TOP","HAIRLINE_BORDER_LEFT","HAIRLINE_BORDER_BOTTOM","HAIRLINE_BORDER_SURROUND","HAIRLINE_BORDER_TOP_BOTTOM","HAIRLINE_BORDER_UNSET_TOP_BOTTOM","NavBarLeft","icon","NavBarRight","NavBarTitle","Navbar","bordered","fixed","placeholder","titleProp","childrenProp","useNavbarChildren","__children__","Children","child","rootRef","Placeholder","Content","ref","NavLeft","NavRight","Title","NavbarDemo"],"mappings":"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","file":"chunk/80.7bfc2758.js","sourcesContent":["import * as _ from \"lodash\"\r\nimport { CSSProperties } from \"react\"\r\n\r\nexport function addUnitPx(value?: string | number): string {\r\n  return value === undefined ? \"\" : `${unitToPx(value)}px`\r\n}\r\n\r\nexport function getSizeStyle(originSize?: string | number): CSSProperties | undefined {\r\n  if (_.isNumber(originSize) || _.isString(originSize)) {\r\n    const size = addUnitPx(originSize)\r\n    return {\r\n      width: size,\r\n      height: size,\r\n    }\r\n  }\r\n  return {}\r\n}\r\n\r\nexport function getZIndexStyle(zIndex?: string | number) {\r\n  const style: CSSProperties = {}\r\n  if (zIndex !== undefined) {\r\n    style.zIndex = +zIndex\r\n  }\r\n  return style\r\n}\r\n\r\n// cache\r\nlet rootFontSize: number\r\n\r\nfunction getRootFontSize() {\r\n  if (!rootFontSize) {\r\n    const doc = document.documentElement\r\n    const fontSize = doc.style.fontSize || window.getComputedStyle(doc).fontSize\r\n\r\n    rootFontSize = parseFloat(fontSize)\r\n  }\r\n\r\n  return rootFontSize\r\n}\r\n\r\nfunction convertPx(value: string) {\r\n  value = value.replace(/px/g, \"\")\r\n  return +value\r\n}\r\n\r\nfunction convertRem(value: string) {\r\n  value = value.replace(/rem/g, \"\")\r\n  return +value * getRootFontSize()\r\n}\r\n\r\nfunction convertVw(value: string) {\r\n  value = value.replace(/vw/g, \"\")\r\n  return (+value * window.innerWidth) / 100\r\n}\r\n\r\nfunction convertVh(value: string) {\r\n  value = value.replace(/vh/g, \"\")\r\n  return (+value * window.innerHeight) / 100\r\n}\r\n\r\nexport function unitToPx(value: string | number): number {\r\n  if (typeof value === \"number\") {\r\n    return value\r\n  }\r\n\r\n  if (value.includes(\"px\")) {\r\n    return convertPx(value)\r\n  }\r\n  if (value.includes(\"rem\")) {\r\n    return convertRem(value)\r\n  }\r\n  if (value.includes(\"vw\")) {\r\n    return convertVw(value)\r\n  }\r\n  if (value.includes(\"vh\")) {\r\n    return convertVh(value)\r\n  }\r\n\r\n  return parseFloat(value)\r\n}\r\n","export function noop() {}\r\n\r\nexport const inBrowser = typeof document !== \"undefined\" && !!document.scripts\r\nexport const inWechat = process.env.TARO_ENV === \"weapp\"\r\nexport const inSwan = process.env.TARO_ENV === \"swan\"\r\nexport const inAlipay = process.env.TARO_ENV === \"alipay\"\r\nexport const inQQ = process.env.TARO_ENV === \"qq\"\r\nexport const inToutiao = process.env.TARO_ENV === \"tt\"\r\n","import useRenderedEffect from \"./use-rendered-effect\"\r\n\r\nexport default function useMounted(cb: (...args: any[]) => any) {\r\n  useRenderedEffect(cb, [])\r\n}\r\n","import { nextTick } from \"@tarojs/taro\"\nimport * as _ from \"lodash\"\nimport { DependencyList, EffectCallback, useEffect, useRef } from \"react\"\n\nfunction useRenderedEffect(effect: EffectCallback, deps?: DependencyList) {\n  const destructorRef = useRef<() => void>()\n\n  useEffect(\n    () => {\n      nextTick(() => {\n        const destructor = effect?.()\n        if (_.isFunction(destructor)) {\n          destructorRef.current = destructor\n        }\n      })\n\n      return destructorRef.current\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    deps,\n  )\n}\n\nexport default useRenderedEffect\n","import { View } from \"@tarojs/components\"\r\nimport * as React from \"react\"\r\nimport { addUnitPx } from \"../utils/format/unit\"\r\nimport useHeight from \"./use-height\"\r\n\r\ninterface UsePlaceholderOptions {\r\n  className?: string\r\n}\r\n\r\nexport default function usePlaceholder(contentRef: any, { className }: UsePlaceholderOptions) {\r\n  const height = useHeight(contentRef)\r\n\r\n  return ({\r\n    // @ts-ignore\r\n    children,\r\n  }) => (\r\n    <View\r\n      className={className}\r\n      style={{ height: height ? `${addUnitPx(height)}` : \"\" }}\r\n      children={children}\r\n    />\r\n  )\r\n}\r\n","import { useState } from \"react\"\r\nimport { getRect } from \"../utils/dom/rect\"\r\nimport useMounted from \"./use-mounted\"\r\n\r\nexport default function useHeight(elementOrRef: any) {\r\n  const [height, setHeight] = useState<number>(0)\r\n  useMounted(() =>\r\n    getRect(elementOrRef)\r\n      .then(({ height }) => height)\r\n      .then(setHeight),\r\n  )\r\n  return height\r\n}\r\n","import { useCallback, useMemo, useRef } from \"react\"\r\n\r\ntype UseTimeoutCallback = (...args: any[]) => void\r\n\r\nfunction useTimeout() {\r\n  const timerRef = useRef<NodeJS.Timeout>()\r\n\r\n  const cbRef = useRef<UseTimeoutCallback>()\r\n  const msRef = useRef<number>()\r\n  const argsRef = useRef<any[]>()\r\n\r\n  const stop = useCallback(() => {\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current)\r\n      timerRef.current = undefined\r\n    }\r\n  }, [])\r\n\r\n  const start = useCallback((callback: UseTimeoutCallback, ms?: number, ...args: any[]) => {\r\n    if (timerRef.current) {\r\n      return\r\n    }\r\n    cbRef.current = callback\r\n    msRef.current = ms\r\n    argsRef.current = args\r\n    timerRef.current = setTimeout(callback, ms, args)\r\n  }, [])\r\n\r\n  const restart = useCallback(\r\n    (callback?: UseTimeoutCallback, ms?: number, ...args: any[]) => {\r\n      stop()\r\n      if (callback) {\r\n        start(callback, ms, args)\r\n      } else if (cbRef.current) {\r\n        start(cbRef.current, msRef.current, argsRef.current)\r\n      }\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    [],\r\n  )\r\n\r\n  return useMemo(\r\n    () => ({\r\n      restart,\r\n      start,\r\n      stop,\r\n    }),\r\n    [restart, start, stop],\r\n  )\r\n}\r\n\r\nexport default useTimeout\r\n","import * as _ from \"lodash\"\r\nimport { useRef } from \"react\"\r\n\r\nfunction useUniqueId() {\r\n  const uniqueIdRef = useRef(_.uniqueId(\"t_\"))\r\n  return uniqueIdRef.current\r\n}\r\n\r\nexport default useUniqueId\r\n","import { useReducer } from \"react\"\r\n\r\nconst updateReducer = (num: number): number => (num + 1) % 1_000_000\r\n\r\nfunction useUpdate(): () => void {\r\n  const [, update] = useReducer(updateReducer, 0)\r\n\r\n  return update\r\n}\r\n\r\nexport default useUpdate\r\n","import { offWindowResize, onWindowResize } from \"@tarojs/taro\"\r\nimport { useEffect } from \"react\"\r\n\r\ninterface Size {\r\n  /** 变化后的窗口高度，单位 px */\r\n  windowHeight: number\r\n  /** 变化后的窗口宽度，单位 px */\r\n  windowWidth: number\r\n}\r\n\r\ninterface CallbackResult {\r\n  size: Size\r\n}\r\n\r\ntype WindowResizeCallback = (result: CallbackResult) => void\r\n\r\nfunction useWindowResize(callback: WindowResizeCallback) {\r\n  useEffect(() => {\r\n    onWindowResize?.(callback)\r\n\r\n    return () =>\r\n      offWindowResize?.(\r\n        // @ts-ignore\r\n        callback,\r\n      )\r\n  }, [callback])\r\n}\r\n\r\nexport default useWindowResize\r\n","import { createSelectorQuery } from \"@tarojs/taro\"\nimport { inBrowser } from \"../base\"\nimport { createNodesRef, elementUnref, isRootElement, isWindow } from \"./element\"\n\nexport interface Rect {\n  dataset: Record<string, any>\n  id: string\n  top: number\n  right: number\n  bottom: number\n  left: number\n  width: number\n  height: number\n}\n\nexport function makeRect(width: number, height: number) {\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  } as Rect\n}\n\nexport function getRect(elementOrRef: any): Promise<Rect> {\n  const element = elementUnref(elementOrRef)\n  if (element) {\n    if (inBrowser) {\n      if (isWindow(element)) {\n        const width = element.innerWidth\n        const height = element.innerHeight\n        return Promise.resolve(makeRect(width, height))\n      }\n\n      return Promise.resolve(\n        (((element as unknown) as HTMLElement).getBoundingClientRect() as unknown) as Rect,\n      )\n    } else {\n      return new Promise<Rect>((resolve) => {\n        createNodesRef(element)\n          .boundingClientRect()\n          .exec(([rect]) => {\n            if (isRootElement(element)) {\n              const { width, height } = rect\n              resolve(makeRect(width, height))\n            } else {\n              resolve(rect)\n            }\n          })\n      })\n    }\n  }\n  return Promise.resolve(makeRect(0, 0))\n}\n\nexport function getRects(elementOrRef: any, selector: string): Promise<Rect[]> {\n  const element = elementUnref(elementOrRef)\n  if (element) {\n    if (inBrowser) {\n      const rects: Rect[] = []\n      ;((element as unknown) as HTMLElement)\n        .querySelectorAll(selector)\n        .forEach((oneElement) =>\n          rects.push((oneElement.getBoundingClientRect() as unknown) as Rect),\n        )\n      return Promise.resolve(rects)\n    } else {\n      return new Promise<Rect[]>((resolve) => {\n        createSelectorQuery()\n          .selectAll(\"#\" + element.uid + selector)\n          .boundingClientRect()\n          .exec(([rects]) => resolve((rects as unknown) as Rect[]))\n      })\n    }\n  }\n  return Promise.resolve([])\n}\n","import { TaroElement } from \"@tarojs/runtime\"\nimport { createSelectorQuery } from \"@tarojs/taro\"\nimport * as _ from \"lodash\"\nimport { inWechat } from \"../base\"\n\nexport const ELEMENT_NODE_TYPE = 1\n\nexport function isWindow(val: unknown): val is Window {\n  return val === window\n}\n\nexport function isBodyElement(val: unknown): boolean {\n  return val === document.body\n}\n\nexport function elementUnref(elementOrRef: any): TaroElement {\n  if (elementOrRef === undefined || elementOrRef === null) {\n    return elementOrRef\n  }\n  if (\"current\" in elementOrRef) {\n    return elementOrRef.current\n  }\n  return elementOrRef\n}\n\nexport function isRootElement(node?: TaroElement) {\n  return node?.nodeType === ELEMENT_NODE_TYPE && node?.tagName === \"ROOT\"\n}\n\nexport function matchSelector(aSelector?: string, bSelector?: string) {\n  return _.replace(aSelector as string, \"#\", \"\") === bSelector\n}\n\nexport function createNodesRef(element: TaroElement) {\n  if (isRootElement(element)) {\n    return createSelectorQuery().selectViewport()\n  }\n\n  // Fix nested in CustomWrapper is undefined\n  // See: https://github.com/mallfoundry/taroify/pull/143\n  if (inWechat) {\n    let ancestor = element\n    while (ancestor.parentNode && !isRootElement(ancestor.parentNode as TaroElement)) {\n      ancestor = ancestor.parentNode as TaroElement\n    }\n\n    if (ancestor && ancestor !== element) {\n      return createSelectorQuery().select(`#${ancestor.uid}>>>#${element.uid}`)\n    }\n  }\n\n  return createSelectorQuery().select(\"#\" + element.uid)\n}\n","import { View } from \"@tarojs/components\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode } from \"react\"\r\nimport { demoPrefixClassname } from \"../styles/prefix\"\r\nimport \"./block.scss\"\r\n\r\ntype BlockVariant = \"card\"\r\n\r\ninterface BlockProps {\r\n  className?: string\r\n  variant?: BlockVariant\r\n  title?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport default function Block(props: BlockProps) {\r\n  const { className, variant, title, children } = props\r\n  return (\r\n    <View className={classNames(demoPrefixClassname(\"block\"), className)}>\r\n      {title && <View className={demoPrefixClassname(\"block__title\")} children={title} />}\r\n      <View\r\n        className={classNames({\r\n          [demoPrefixClassname(\"block__content\")]: variant !== \"card\",\r\n          [demoPrefixClassname(\"block__card\")]: variant === \"card\",\r\n        })}\r\n      >\r\n        {children}\r\n      </View>\r\n    </View>\r\n  )\r\n}\r\n","import classNames from \"classnames\"\r\nimport * as _ from \"lodash\"\r\nimport { cloneElement, isValidElement, ReactElement, ReactNode } from \"react\"\r\nimport { ICON_TYPE, IconProps } from \"../shared\"\r\n\r\nexport function isIconElement(node?: ReactNode): boolean {\r\n  // Is`t not ReactElement\r\n  if (!isValidElement(node)) {\r\n    return false\r\n  }\r\n  const element = node as ReactElement\r\n  return _.hasIn(element.type, ICON_TYPE)\r\n}\r\n\r\nexport function cloneIconElement(node: ReactNode, props: IconProps): ReactNode {\r\n  if (!isIconElement(node)) {\r\n    return isValidElement(node) ? cloneElement(node, props) : node\r\n  }\r\n  const { className, ...restProps } = props\r\n  const element = node as ReactElement\r\n  const { props: oldProps } = element\r\n  const newProps: IconProps = {\r\n    ...oldProps,\r\n    className: classNames(oldProps.className, className),\r\n    ...restProps,\r\n  }\r\n  return cloneElement(element, newProps)\r\n}\r\n","import { prefixClassname } from \"./prefix\"\n\nexport const HAIRLINE_BORDER = prefixClassname(\"hairline\")\nexport const HAIRLINE_BORDER_TOP = `${HAIRLINE_BORDER}--top`\nexport const HAIRLINE_BORDER_LEFT = `${HAIRLINE_BORDER}--left`\nexport const HAIRLINE_BORDER_BOTTOM = `${HAIRLINE_BORDER}--bottom`\nexport const HAIRLINE_BORDER_SURROUND = `${HAIRLINE_BORDER}--surround`\nexport const HAIRLINE_BORDER_TOP_BOTTOM = `${HAIRLINE_BORDER}--top-bottom`\nexport const HAIRLINE_BORDER_UNSET_TOP_BOTTOM = `${HAIRLINE_BORDER}-unset--top-bottom`\n","import { ArrowLeft } from \"@taroify/icons\"\r\nimport { cloneIconElement } from \"@taroify/icons/utils\"\r\nimport { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { isValidElement, ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NavBarLeftProps extends ViewProps {\r\n  icon?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NavBarLeft(props: NavBarLeftProps) {\r\n  const { className, icon = <ArrowLeft />, children, ...restProps } = props\r\n  return (\r\n    <View className={classNames(prefixClassname(\"navbar__left\"), className)} {...restProps}>\r\n      {icon && cloneIconElement(icon, { className: prefixClassname(\"navbar__icon\") })}\r\n      {isValidElement(children) ? (\r\n        children\r\n      ) : (\r\n        <View className={prefixClassname(\"navbar__text\")} children={children} />\r\n      )}\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default NavBarLeft\r\n","import { cloneIconElement } from \"@taroify/icons/utils\"\r\nimport { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { isValidElement, ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NavBarRightProps extends ViewProps {\r\n  icon?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NavBarRight(props: NavBarRightProps) {\r\n  const { className, icon, children, ...restProps } = props\r\n\r\n  return (\r\n    <View className={classNames(prefixClassname(\"navbar__right\"), className)} {...restProps}>\r\n      {icon && cloneIconElement(icon, { className: prefixClassname(\"navbar__icon\") })}\r\n      {isValidElement(children) ? (\r\n        children\r\n      ) : (\r\n        <View className={prefixClassname(\"navbar__text\")} children={children} />\r\n      )}\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default NavBarRight\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { ReactNode } from \"react\"\r\nimport { prefixClassname } from \"../styles\"\r\n\r\ninterface NavBarTitleProps extends ViewProps {\r\n  className?: string\r\n  children?: ReactNode\r\n}\r\n\r\nexport function NavBarTitle(props: NavBarTitleProps) {\r\n  const { className, ...restProps } = props\r\n  return <View className={classNames(prefixClassname(\"navbar__title\"), className)} {...restProps} />\r\n}\r\n\r\nexport default NavBarTitle\r\n","import { View } from \"@tarojs/components\"\r\nimport { ViewProps } from \"@tarojs/components/types/View\"\r\nimport classNames from \"classnames\"\r\nimport * as React from \"react\"\r\nimport { Children, isValidElement, ReactElement, ReactNode, useMemo, useRef } from \"react\"\r\nimport { usePlaceholder } from \"../hooks\"\r\nimport { prefixClassname } from \"../styles\"\r\nimport { HAIRLINE_BORDER_BOTTOM } from \"../styles/hairline\"\r\nimport NavBarLeft from \"./navbar-left\"\r\nimport NavBarRight from \"./navbar-right\"\r\nimport NavBarTitle from \"./navbar-title\"\r\n\r\ninterface NavbarChildren {\r\n  left?: ReactNode\r\n  right?: ReactNode\r\n  title?: ReactNode\r\n}\r\n\r\nfunction useNavbarChildren(children?: ReactNode): NavbarChildren {\r\n  return useMemo(() => {\r\n    const __children__: NavbarChildren = {\r\n      left: undefined,\r\n      right: undefined,\r\n      title: undefined,\r\n    }\r\n\r\n    Children.forEach(children, (child: ReactNode) => {\r\n      if (isValidElement(child)) {\r\n        const element = child as ReactElement\r\n\r\n        const { type } = element\r\n        if (type === NavBarLeft) {\r\n          __children__.left = element\r\n        } else if (type === NavBarRight) {\r\n          __children__.right = element\r\n        } else if (type === NavBarTitle) {\r\n          __children__.title = element\r\n        }\r\n      }\r\n    })\r\n    return __children__\r\n  }, [children])\r\n}\r\n\r\nexport interface NavbarProps extends ViewProps {\r\n  bordered?: boolean\r\n  placeholder?: boolean\r\n  fixed?: boolean\r\n  title?: ReactNode\r\n  children?: ReactNode\r\n}\r\n\r\nfunction Navbar(props: NavbarProps) {\r\n  const {\r\n    className,\r\n    bordered,\r\n    fixed,\r\n    placeholder,\r\n    title: titleProp,\r\n    children: childrenProp,\r\n    ...restProps\r\n  } = props\r\n  const { left, title, right } = useNavbarChildren(childrenProp)\r\n  const rootRef = useRef()\r\n\r\n  const Placeholder = usePlaceholder(rootRef, { className: \"navbar__placeholder\" })\r\n\r\n  const Content = useMemo(\r\n    () => (\r\n      <View\r\n        ref={rootRef}\r\n        className={classNames(\r\n          prefixClassname(\"navbar\"),\r\n          {\r\n            [HAIRLINE_BORDER_BOTTOM]: bordered,\r\n            [prefixClassname(\"navbar--fixed\")]: fixed,\r\n          },\r\n          className,\r\n        )}\r\n        {...restProps}\r\n      >\r\n        <View className={classNames(prefixClassname(\"navbar__content\"))}>\r\n          {left}\r\n          {title ?? (\r\n            <View className={classNames(prefixClassname(\"navbar__title\"))} children={titleProp} />\r\n          )}\r\n          {right}\r\n        </View>\r\n      </View>\r\n    ),\r\n    [bordered, className, fixed, left, restProps, right, title, titleProp],\r\n  )\r\n\r\n  if (fixed && placeholder) {\r\n    return <Placeholder children={Content} />\r\n  }\r\n\r\n  return Content\r\n}\r\n\r\nexport default Navbar\r\n","import NavbarComponent, { NavbarProps } from \"./navbar\"\r\nimport NavBarLeft from \"./navbar-left\"\r\nimport NavBarRight from \"./navbar-right\"\r\nimport NavBarTitle from \"./navbar-title\"\r\n\r\ninterface NavbarInterface {\r\n  (props: NavbarProps): JSX.Element\r\n\r\n  NavLeft: typeof NavBarLeft\r\n  NavRight: typeof NavBarRight\r\n  Title: typeof NavBarTitle\r\n}\r\n\r\nconst Navbar = NavbarComponent as NavbarInterface\r\n\r\nNavbar.NavLeft = NavBarLeft\r\nNavbar.NavRight = NavBarRight\r\nNavbar.Title = NavBarTitle\r\n\r\nexport default Navbar\r\n","import { Navbar } from \"@taroify/core\"\r\nimport { Search } from \"@taroify/icons\"\r\nimport * as React from \"react\"\r\nimport Block from \"../../../components/block\"\r\nimport Page from \"../../../components/page\"\r\nimport \"./index.scss\"\r\n\r\nexport default function NavbarDemo() {\r\n  return (\r\n    <Page title=\"Navbar 导航栏\" className=\"navbar-demo\">\r\n      <Block title=\"基础用法\">\r\n        <Navbar title=\"标题\">\r\n          <Navbar.NavLeft>返回</Navbar.NavLeft>\r\n          <Navbar.NavRight>按钮</Navbar.NavRight>\r\n        </Navbar>\r\n      </Block>\r\n      <Block title=\"使用 NavLeft 和 NavRight\">\r\n        <Navbar>\r\n          <Navbar.NavLeft>返回</Navbar.NavLeft>\r\n          <Navbar.Title>标题</Navbar.Title>\r\n          <Navbar.NavRight icon={<Search />} />\r\n        </Navbar>\r\n      </Block>\r\n    </Page>\r\n  )\r\n}\r\n"],"sourceRoot":""}