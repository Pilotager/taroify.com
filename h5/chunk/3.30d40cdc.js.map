{"version":3,"sources":["webpack:///./node_modules/babel-preset-taro/node_modules/@babel/runtime/regenerator/index.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/split.js","webpack:///./node_modules/babel-preset-taro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/isRegExp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/lodash/_baseIsRegExp.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/canvas/CanvasContext.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/nodesRef.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/selectorQuery.js","webpack:///D:/Projects/WebstormProjects/vant-taro/node_modules/@tarojs/taro-h5/dist/api/wxml/index.js"],"names":["module","exports","require","baseToString","castSlice","hasUnicode","isIterateeCall","isRegExp","stringToArray","toString","split","string","separator","limit","undefined","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","baseIsRegExp","baseUnary","nodeUtil","nodeIsRegExp","baseGetTag","isObjectLike","TextBaseLineMap","top","bottom","middle","normal","CanvasContext","canvas","ctx","actions","get","__raw__","set","e","emptyActions","length","enqueueActions","func","push","fillStyle","font","globalAlpha","globalCompositeOperation","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","direction","imageSmoothingEnabled","imageSmoothingQuality","filter","arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createPattern","image","repetition","reserve","callback","a","width","height","errMsg","message","drawImage","imageResource","extra","img","Image","src","onload","onerror","fill","fillRect","fillText","lineTo","moveTo","quadraticCurveTo","rect","restore","rotate","save","scale","setFillStyle","color","setFontSize","fontSize","setGlobalAlpha","alpha","setLineCap","setLineDash","pattern","offset","setLineJoin","setLineWidth","setMiterLimit","setShadow","offsetX","offsetY","blur","setStrokeStyle","setTextAlign","align","setTextBaseline","setTransform","stroke","strokeRect","strokeText","transform","translate","measureText","text","createCircularGradient","x","y","r","createRadialGradient","createLinearGradient","x0","y0","x1","y1","NodesRef","selector","querySelectorQuery","single","_component","_selector","_selectorQuery","_single","context","cb","_push","node","nodeCanvasType","boundingClientRect","id","dataset","size","scrollOffset","fields","properties","computedStyle","dom","isViewport","res","tagName","$taroElement","test","type","getElementsByTagName","Object","assign","getBoundingClientRect","left","right","clientWidth","clientHeight","scrollLeft","scrollTop","forEach","prop","attr","getAttribute","styles","window","getComputedStyle","getPropertyValue","querySelector","getContext","console","SelectorQuery","_defaultWebviewId","_webviewId","_queue","_queueCb","component","select","replace","selectAll","selectViewport","exec","queryBat","queue","result","item","_a","container","findDOM","document","selectSelf","$nodeList","parentNode","querySelectorAll","i","len","el","$children","children","map","index","call","createSelectorQuery","temporarilyNotSupport"],"mappings":"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","file":"chunk/3.30d40cdc.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","var baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    isIterateeCall = require('./_isIterateeCall'),\n    isRegExp = require('./isRegExp'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Splits `string` by `separator`.\n *\n * **Note:** This method is based on\n * [`String#split`](https://mdn.io/String/split).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to split.\n * @param {RegExp|string} separator The separator pattern to split by.\n * @param {number} [limit] The length to truncate results to.\n * @returns {Array} Returns the string segments.\n * @example\n *\n * _.split('a-b-c', '-', 2);\n * // => ['a', 'b']\n */\nfunction split(string, separator, limit) {\n  if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n    separator = limit = undefined;\n  }\n  limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n  if (!limit) {\n    return [];\n  }\n  string = toString(string);\n  if (string && (\n        typeof separator == 'string' ||\n        (separator != null && !isRegExp(separator))\n      )) {\n    separator = baseToString(separator);\n    if (!separator && hasUnicode(string)) {\n      return castSlice(stringToArray(string), 0, limit);\n    }\n  }\n  return string.split(separator, limit);\n}\n\nmodule.exports = split;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var baseIsRegExp = require('./_baseIsRegExp'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsRegExp = nodeUtil && nodeUtil.isRegExp;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nvar isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\nmodule.exports = isRegExp;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/**\n * The base implementation of `_.isRegExp` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n */\nfunction baseIsRegExp(value) {\n  return isObjectLike(value) && baseGetTag(value) == regexpTag;\n}\n\nmodule.exports = baseIsRegExp;\n","const TextBaseLineMap = {\n    top: 'top',\n    bottom: 'bottom',\n    middle: 'middle',\n    normal: 'alphabetic'\n};\nexport class CanvasContext {\n    constructor(canvas, ctx) {\n        this.actions = [];\n        this.canvas = canvas;\n        this.ctx = ctx;\n    }\n    set ctx(e) {\n        this.__raw__ = e;\n    }\n    get ctx() {\n        return this.__raw__ || {};\n    }\n    emptyActions() {\n        this.actions.length = 0;\n    }\n    enqueueActions(func, ...args) {\n        this.actions.push({\n            func,\n            args\n        });\n    }\n    set fillStyle(e) { this.enqueueActions(() => { this.ctx.fillStyle = e; }); }\n    get fillStyle() { return this.ctx.fillStyle; }\n    set font(e) { this.ctx.font = e; }\n    get font() { return this.ctx.font; }\n    set globalAlpha(e) { this.enqueueActions(() => { this.ctx.globalAlpha = e; }); }\n    get globalAlpha() { return this.ctx.globalAlpha; }\n    set globalCompositeOperation(e) { this.enqueueActions(() => { this.ctx.globalCompositeOperation = e; }); }\n    get globalCompositeOperation() { return this.ctx.globalCompositeOperation; }\n    set lineCap(e) { this.enqueueActions(() => { this.ctx.lineCap = e; }); }\n    get lineCap() { return this.ctx.lineCap; }\n    set lineDashOffset(e) { this.enqueueActions(() => { this.ctx.lineDashOffset = e; }); }\n    get lineDashOffset() { return this.ctx.lineDashOffset; }\n    set lineJoin(e) { this.enqueueActions(() => { this.ctx.lineJoin = e; }); }\n    get lineJoin() { return this.ctx.lineJoin; }\n    set lineWidth(e) { this.enqueueActions(() => { this.ctx.lineWidth = e; }); }\n    get lineWidth() { return this.ctx.lineWidth; }\n    set miterLimit(e) { this.enqueueActions(() => { this.ctx.miterLimit = e; }); }\n    get miterLimit() { return this.ctx.miterLimit; }\n    set shadowBlur(e) { this.enqueueActions(() => { this.ctx.shadowBlur = e; }); }\n    get shadowBlur() { return this.ctx.shadowBlur; }\n    set shadowColor(e) { this.enqueueActions(() => { this.ctx.shadowColor = e; }); }\n    get shadowColor() { return this.ctx.shadowColor; }\n    set shadowOffsetX(e) { this.enqueueActions(() => { this.ctx.shadowOffsetX = e; }); }\n    get shadowOffsetX() { return this.ctx.shadowOffsetX; }\n    set shadowOffsetY(e) { this.enqueueActions(() => { this.ctx.shadowOffsetY = e; }); }\n    get shadowOffsetY() { return this.ctx.shadowOffsetY; }\n    set strokeStyle(e) { this.enqueueActions(() => { this.ctx.strokeStyle = e; }); }\n    get strokeStyle() { return this.ctx.strokeStyle; }\n    /** 小程序文档中不包括 ↓↓↓ */\n    set textAlign(e) { this.ctx.textAlign = e; }\n    get textAlign() { return this.ctx.textAlign; }\n    set textBaseline(e) { this.ctx.textBaseline = e; }\n    get textBaseline() { return this.ctx.textBaseline; }\n    set direction(e) { this.ctx.direction = e; }\n    get direction() { return this.ctx.direction; }\n    set imageSmoothingEnabled(e) { this.enqueueActions(() => { this.ctx.imageSmoothingEnabled = e; }); }\n    get imageSmoothingEnabled() { return this.ctx.imageSmoothingEnabled; }\n    set imageSmoothingQuality(e) { this.enqueueActions(() => { this.ctx.imageSmoothingQuality = e; }); }\n    get imageSmoothingQuality() { return this.ctx.imageSmoothingQuality; }\n    set filter(e) { this.enqueueActions(() => { this.ctx.filter = e; }); }\n    get filter() { return this.ctx.filter; }\n    /** 小程序文档中不包括 ↑↑↑ */\n    arc(...args) { return this.enqueueActions(this.ctx.arc, ...args); }\n    arcTo(...args) { return this.enqueueActions(this.ctx.arcTo, ...args); }\n    beginPath(...args) { return this.enqueueActions(this.ctx.beginPath, ...args); }\n    bezierCurveTo(...args) { return this.enqueueActions(this.ctx.bezierCurveTo, ...args); }\n    clearRect(...args) { return this.enqueueActions(this.ctx.clearRect, ...args); }\n    clip(...args) { return this.enqueueActions(this.ctx.clip, ...args); }\n    closePath(...args) { return this.enqueueActions(this.ctx.closePath, ...args); }\n    createPattern(image, repetition) {\n        return this.createPattern(image, repetition);\n    }\n    /**\n     * 将之前在绘图上下文中的描述（路径、变形、样式）画到 canvas 中。\n     * @todo 每次 draw 都会读取 width 和 height\n     */\n    async draw(reserve, callback) {\n        try {\n            if (!reserve) {\n                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            }\n            // 部分 action 是异步的\n            for (const { func, args } of this.actions) {\n                await func.apply(this.ctx, args);\n            }\n            this.emptyActions();\n            callback && callback();\n        }\n        catch (e) {\n            /* eslint-disable no-throw-literal */\n            throw {\n                errMsg: e.message\n            };\n        }\n    }\n    drawImage(imageResource, ...extra) {\n        this.enqueueActions(() => {\n            // 需要转换为 Image\n            if (typeof imageResource === 'string') {\n                const img = new Image();\n                img.src = imageResource;\n                return new Promise((resolve, reject) => {\n                    img.onload = () => {\n                        this.ctx.drawImage(img, ...extra);\n                        resolve();\n                    };\n                    img.onerror = reject;\n                });\n            }\n            this.ctx.drawImage(imageResource, ...extra);\n        });\n    }\n    fill(...args) { return this.enqueueActions(this.ctx.fill, ...args); }\n    fillRect(...args) { return this.enqueueActions(this.ctx.fillRect, ...args); }\n    fillText(...args) { return this.enqueueActions(this.ctx.fillText, ...args); }\n    lineTo(...args) { return this.enqueueActions(this.ctx.lineTo, ...args); }\n    moveTo(...args) { return this.enqueueActions(this.ctx.moveTo, ...args); }\n    quadraticCurveTo(...args) { return this.enqueueActions(this.ctx.quadraticCurveTo, ...args); }\n    rect(...args) { return this.enqueueActions(this.ctx.rect, ...args); }\n    restore(...args) { return this.enqueueActions(this.ctx.restore, ...args); }\n    rotate(...args) { return this.enqueueActions(this.ctx.rotate, ...args); }\n    save(...args) { return this.enqueueActions(this.ctx.save, ...args); }\n    scale(...args) { return this.enqueueActions(this.ctx.scale, ...args); }\n    setFillStyle(color) {\n        this.enqueueActions(() => { this.ctx.fillStyle = color; });\n    }\n    setFontSize(fontSize) {\n        this.font = `${fontSize}px`;\n    }\n    setGlobalAlpha(alpha) {\n        this.globalAlpha = alpha;\n    }\n    setLineCap(lineCap) {\n        this.lineCap = lineCap;\n    }\n    setLineDash(pattern, offset) {\n        this.enqueueActions(() => {\n            this.ctx.setLineDash(pattern);\n            this.ctx.lineDashOffset = offset;\n        });\n    }\n    setLineJoin(lineJoin) {\n        this.lineJoin = lineJoin;\n    }\n    setLineWidth(lineWidth) {\n        this.lineWidth = lineWidth;\n    }\n    setMiterLimit(miterLimit) {\n        this.miterLimit = miterLimit;\n    }\n    setShadow(offsetX, offsetY, blur, color) {\n        this.enqueueActions(() => {\n            this.ctx.shadowOffsetX = offsetX;\n            this.ctx.shadowOffsetY = offsetY;\n            this.ctx.shadowColor = color;\n            this.ctx.shadowBlur = blur;\n        });\n    }\n    setStrokeStyle(color) {\n        this.enqueueActions(() => { this.ctx.strokeStyle = color; });\n    }\n    setTextAlign(align) {\n        this.textAlign = align;\n    }\n    setTextBaseline(textBaseline) {\n        this.textBaseline = TextBaseLineMap[textBaseline] || 'alphabetic';\n    }\n    setTransform(...args) { return this.enqueueActions(this.ctx.setTransform, ...args); }\n    stroke(...args) { return this.enqueueActions(this.ctx.stroke, ...args); }\n    strokeRect(...args) { return this.enqueueActions(this.ctx.strokeRect, ...args); }\n    strokeText(...args) { return this.enqueueActions(this.ctx.strokeText, ...args); }\n    transform(...args) { return this.enqueueActions(this.ctx.transform, ...args); }\n    translate(...args) { return this.enqueueActions(this.ctx.translate, ...args); }\n    measureText(text) {\n        return this.measureText(text);\n    }\n    createCircularGradient(x, y, r) {\n        const radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, r);\n        return radialGradient;\n    }\n    createLinearGradient(x0, y0, x1, y1) {\n        return this.createLinearGradient(x0, y0, x1, y1);\n    }\n}\n","export class NodesRef {\n    constructor(selector, querySelectorQuery, single) {\n        this._component = querySelectorQuery._component;\n        this._selector = selector;\n        this._selectorQuery = querySelectorQuery;\n        this._single = single;\n    }\n    context(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { context: !0 }, cb);\n        return _selectorQuery;\n    }\n    node(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { nodeCanvasType: !0, node: !0 }, cb);\n        return _selectorQuery;\n    }\n    boundingClientRect(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { id: !0, dataset: !0, rect: !0, size: !0 }, cb);\n        return _selectorQuery;\n    }\n    scrollOffset(cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        _selectorQuery._push(_selector, _component, _single, { id: !0, dataset: !0, scrollOffset: !0 }, cb);\n        return _selectorQuery;\n    }\n    fields(fields, cb) {\n        const { _selector, _component, _single, _selectorQuery } = this;\n        const { id, dataset, rect, size, scrollOffset, properties = [], computedStyle = [] } = fields;\n        _selectorQuery._push(_selector, _component, _single, {\n            id,\n            dataset,\n            rect,\n            size,\n            scrollOffset,\n            properties,\n            computedStyle\n        }, cb);\n        return _selectorQuery;\n    }\n}\n","import { CanvasContext } from '../canvas/CanvasContext';\nimport { findDOM } from '../utils';\nimport { NodesRef } from './nodesRef';\nfunction filter(fields, dom, selector) {\n    if (!dom)\n        return null;\n    const isViewport = selector === '.taro_page';\n    const { id, dataset, rect, size, scrollOffset, properties = [], computedStyle = [], nodeCanvasType, node, context } = fields;\n    const res = {};\n    if (nodeCanvasType && node) {\n        const tagName = dom.tagName;\n        res.node = {\n            id: dom.id,\n            $taroElement: dom\n        };\n        if (/^taro-canvas-core/i.test(tagName)) {\n            const type = dom.type || '';\n            res.nodeCanvasType = type;\n            const canvas = dom.getElementsByTagName('canvas')[0];\n            if (/^(2d|webgl)/i.test(type) && canvas) {\n                res.node = canvas;\n            }\n            else {\n                res.node = null;\n            }\n        }\n        else {\n            // TODO https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html\n            // if (/^taro-scroll-view-core/i.test(tagName))\n            res.nodeCanvasType = '';\n            res.node = dom;\n        }\n        return res;\n    }\n    if (context) {\n        const tagName = dom.tagName;\n        if (/^taro-video-core/i.test(tagName)) {\n            // TODO HTMLVideoElement to VideoContext\n            return { context: dom };\n        }\n        else if (/^taro-canvas-core/i.test(tagName)) {\n            const type = dom.type || '2d';\n            const canvas = dom === null || dom === void 0 ? void 0 : dom.querySelector('canvas');\n            const ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext(type);\n            return { context: new CanvasContext(canvas, ctx) };\n        }\n        else if (/^taro-live-player-core/i.test(tagName)) {\n            console.error('暂时不支持通过 NodesRef.context 获取 LivePlayerContext');\n        }\n        else if (/^taro-editor-core/i.test(tagName)) {\n            console.error('暂时不支持通过 NodesRef.context 获取 EditorContext');\n        }\n        else if (/^taro-map-core/i.test(tagName)) {\n            console.error('暂时不支持通过 NodesRef.context 获取 MapContext');\n        }\n        return;\n    }\n    if (id)\n        res.id = dom.id;\n    if (dataset)\n        res.dataset = Object.assign({}, dom.dataset);\n    if (rect || size) {\n        const { left, right, top, bottom, width, height } = dom.getBoundingClientRect();\n        if (rect) {\n            if (!isViewport) {\n                res.left = left;\n                res.right = right;\n                res.top = top;\n                res.bottom = bottom;\n            }\n            else {\n                res.left = 0;\n                res.right = 0;\n                res.top = 0;\n                res.bottom = 0;\n            }\n        }\n        if (size) {\n            if (!isViewport) {\n                res.width = width;\n                res.height = height;\n            }\n            else {\n                res.width = dom.clientWidth;\n                res.height = dom.clientHeight;\n            }\n        }\n    }\n    if (scrollOffset) {\n        res.scrollLeft = dom.scrollLeft;\n        res.scrollTop = dom.scrollTop;\n    }\n    if (properties.length) {\n        properties.forEach(prop => {\n            const attr = dom.getAttribute(prop);\n            if (attr)\n                res[prop] = attr;\n        });\n    }\n    if (computedStyle.length) {\n        const styles = window.getComputedStyle(dom);\n        computedStyle.forEach(key => {\n            const value = styles.getPropertyValue(key) || styles[key];\n            if (value)\n                res[key] = value;\n        });\n    }\n    return res;\n}\n/**\n * WXML节点信息API\n * @return {Object} SelectorQuery 对象实例\n */\nfunction queryBat(queue, cb) {\n    const result = [];\n    queue.forEach(item => {\n        var _a;\n        const { selector, single, fields, component } = item;\n        // selector 的容器节点\n        /* eslint-disable */\n        const container = (component !== null ?\n            (findDOM(component) || document) :\n            document);\n        /* eslint-enable */\n        // 特殊处理 ---- 选自己\n        let selectSelf = false;\n        if (container !== document) {\n            const $nodeList = (_a = container.parentNode) === null || _a === void 0 ? void 0 : _a.querySelectorAll(selector);\n            if ($nodeList) {\n                for (let i = 0, len = $nodeList.length; i < len; ++i) {\n                    if (container === $nodeList[i]) {\n                        selectSelf = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (single) {\n            const el = selectSelf === true ? container : container.querySelector(selector);\n            result.push(filter(fields, el, selector));\n        }\n        else {\n            const $children = container.querySelectorAll(selector);\n            const children = [];\n            selectSelf === true && children.push(container);\n            for (let i = 0, len = $children.length; i < len; ++i) {\n                children.push($children[i]);\n            }\n            result.push(children.map(dom => filter(fields, dom)));\n        }\n    });\n    cb(result);\n}\nexport class SelectorQuery {\n    constructor() {\n        this._defaultWebviewId = null;\n        this._webviewId = null;\n        this._queue = [];\n        this._queueCb = [];\n        this._component;\n    }\n    in(component) {\n        this._component = component;\n        return this;\n    }\n    select(selector) {\n        // 小程序里跨自定义组件的后代选择器 '>>>' 在 h5 替换为普通后代选择器 '>'\n        if (typeof selector === 'string')\n            selector = selector.replace('>>>', '>');\n        return new NodesRef(selector, this, true);\n    }\n    selectAll(selector) {\n        // 小程序里跨自定义组件的后代选择器 '>>>' 在 h5 替换为普通后代选择器 '>'\n        if (typeof selector === 'string')\n            selector = selector.replace('>>>', '>');\n        return new NodesRef(selector, this, false);\n    }\n    selectViewport() {\n        return new NodesRef('.taro_page', this, true);\n    }\n    exec(cb) {\n        queryBat(this._queue, res => {\n            const _queueCb = this._queueCb;\n            res.forEach((item, index) => {\n                const cb = _queueCb[index];\n                typeof cb === 'function' && cb.call(this, item);\n            });\n            typeof cb === 'function' && cb.call(this, res);\n        });\n        return this;\n    }\n    _push(selector, component, single, fields, callback = null) {\n        this._queue.push({\n            component,\n            selector,\n            single,\n            fields\n        });\n        this._queueCb.push(callback);\n    }\n}\n","import { temporarilyNotSupport } from '../utils';\nimport { SelectorQuery } from './selectorQuery';\nexport const createSelectorQuery = () => {\n    return new SelectorQuery();\n};\nexport const createIntersectionObserver = temporarilyNotSupport('createIntersectionObserver');\n"],"sourceRoot":""}